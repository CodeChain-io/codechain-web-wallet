{"version":3,"sources":["i18next/en/index.ts","i18next/ko/index.ts","i18next/index.ts","utils/network.ts","networks/Api.ts","utils/storage.ts","model/address.ts","model/keystore.ts","utils/transaction.ts","redux/asset/assetReducer.ts","redux/asset/assetActions.ts","redux/chain/chainReducer.ts","redux/chain/chainActions.ts","redux/account/accountActions.ts","redux/wallet/walletActions.ts","components/AddressContainer/AddressContainer.tsx","components/PayTxHistory/PayTxItem/PayTxItem.tsx","components/PayTxHistory/PayTxHistory.tsx","components/TooltipLabel/index.tsx","components/ValidationInput/ValidationInput.tsx","components/Account/SendAsset/CCCReceiverContainer/CCCReceiverItem/CCCReceiverItem.tsx","components/Account/SendAsset/CCCReceiverContainer/CCCReceiverContainer.tsx","components/Account/SendAsset/SendCCC.tsx","components/Account/Account.tsx","utils/ImageLoader/ImageLoader.tsx","components/AddressList/AddressItem/AddressItem.tsx","components/AddressList/AddressList.tsx","utils/metadata.ts","components/AssetTxHistory/AssetTxItem/AssetTxItemEntity/index.tsx","components/AssetTxHistory/AssetTxItem/AssetTxItem.tsx","components/AssetTxHistory/AssetTxHistory.tsx","components/AssetDetail/AssetDetail.tsx","components/AssetList/AssetItem/AssetItem.tsx","components/AssetList/SendAsset/ReceiverContainer/ReceiverItem/ReceiverItem.tsx","components/AssetList/SendAsset/ReceiverContainer/ReceiverContainer.tsx","redux/global/globalActions.ts","components/AssetList/SendAsset/SendAsset.tsx","components/AssetList/AssetList.tsx","components/CreateWallet/CreateWallet.tsx","components/CreateWallet/ConfirmBackupPhrase/ConfirmBackupPhrase.tsx","components/CreateWallet/InputPassphrase/InputPassphrase.tsx","components/CreateWallet/ShowBackupPhrase/ShowBackupPhrase.tsx","components/Footer/index.tsx","components/ExportBackupPopup/ExportBackupPopup.tsx","components/Header/MenuButton/MenuButton.tsx","components/Header/NetworkButton/NetworkButton.tsx","components/Header/WalletSaver/index.tsx","components/Header/Header.tsx","components/Login/LoginForm/LoginForm.tsx","components/Login/Login.tsx","components/MintAsset/index.tsx","components/NotFound/NotFound.tsx","components/PrivateRoute/PrivateRoute.tsx","components/RestoreWallet/RestoreWallet.tsx","components/SelectKeyFile/SelectKeyFile.tsx","components/App/App.tsx","redux/account/accountReducer.ts","redux/global/globalReducer.ts","redux/wallet/walletReducer.ts","redux/index.ts","registerServiceWorker.ts","index.tsx","components/Header/NetworkButton/img/mainnet.svg","components/Header/NetworkButton/img/testnet.svg","components/AddressContainer/img/copy-hover.svg","components/AddressContainer/img/copy.svg","components/PayTxHistory/img/cautiondisabled.svg","components/ValidationInput/img/icons-check.svg","components/ValidationInput/img/icons-error.svg","components/Account/SendAsset/img/check_icon.svg","components/AddressList/AddressItem/img/copy-hover.svg","components/AddressList/AddressItem/img/copy.svg","components/AssetTxHistory/img/cautiondisabled.svg","components/AssetList/img/cautiondisabled.svg","components/AssetList/SendAsset/img/check_icon.svg","components/Footer/img/facebook.svg","components/Footer/img/github.svg","components/Footer/img/gitter.svg","components/Footer/img/medium.svg","components/Footer/img/telegram.svg","components/Footer/img/twitter.svg","components/Header/img/logo.svg","components/Login/img/logo-vertical.svg","components/MintAsset/img/check_icon.svg","components/SelectKeyFile/img/logo-vertical.svg","components/SelectKeyFile/img/plus-hover.svg","components/SelectKeyFile/img/plus-standard.svg","components/SelectKeyFile/img/restore-hover.svg","components/SelectKeyFile/img/restore-standard.svg"],"names":["create","confirm","mnemonic","seed","select","main","mint","restore","send","asset","ccc","welcome","backup","i18next","use","languageDetector","initReactI18next","init","fallbackLng","detection","order","lookupQuerystring","lookupLocalStorage","caches","excludeCacheFor","resources","en","ko","getIndexerHost","networkId","server","indexer","getExplorerHost","getCodeChainHost","chain","cc","tc","sc","wc","getRequest","url","a","axios","get","response","status","data","Error","statusText","body","post","getAggsUTXOList","address","apiHost","aggsUTXOList","Promise","all","map","aggsUTXO","getAssetByAssetType","H160","assetType","assetScheme","value","getPlatformAccount","balance","U64","seq","getUTXOListByAssetType","sendTxToGateway","tx","gatewayURl","postRequest","getPendingTransactions","transactions","transaction","type","transferAsset","outputs","output","getTxsByAddress","pagination","query","itemsPerPage","lastEvaluatedKey","firstEvaluatedKey","hasNextPage","hasPreviousPage","localstorageKeyOfPlatform","localstorageKeyOfAsset","networkIdKey","passphraseKey","getStorageKeyOfPlatform","getStorageKeyOfAsset","getPlatformKeys","platformKeysString","localStorage","getItem","JSON","parse","e","console","log","getAssetKeys","assetKeysString","clearWalletKeys","_","each","network","removeItem","clearPassphrase","sessionStorage","savePlatformKeys","platformKeys","setItem","stringify","saveAssetKeys","assetKeys","netowrkId","AddressType","cryptoKey","savePassphrase","passphrase","encryptedKey","CryptoJS","AES","encrypt","toString","isAssetAddress","isPlatformAddress","globalCCKey","dbType","getCCKey","CCKey","clearKeystore","ccKey","clear","createSeed","hdwseed","seedLength","getFirstSeedHash","getSeedHashes","seedHashes","exportMnemonic","seedHash","importMnemonic","isKeystoreExisted","exist","process","CI","platformAddressPath","assetAddressPath","restoringCheckingRange","getPlatformAddressPath","index","getAssetAddressPath","restorePlatformAddresses","currentPath","platformAddresses","getPublicKeyFromSeed","path","platformPubkey","key","blake160","PlatformAddress","fromAccountId","account","eq","lastValidPlatfromPathIndex","push","Platform","pathIndex","retValue","slice","retKeys","createPlatformAddress","savedPlatformKeys","newPathIndex","length","last","createAssetAddress","savedAssetKeys","assetPubKey","AssetTransferAddress","fromTypeAndPayload","Asset","checkPassphrase","restoreAssetAddresses","assetAddresses","lastValidAssetPathIndex","storedPlatformKeys","storedAssetKeys","platformKeyMapping","reduce","memo","storedPlatformKey","assetKeyMapping","storedAssetKey","keyStore","LocalKeyStore","platform","sdk","SDK","core","createMintAssetTransaction","scheme","shardId","metadata","name","description","icon_url","iconURL","supply","recipient","rpc","getSeq","feePayer","newSeq","filter","t","getSignerAddress","signTransaction","fee","signedTransaction","TxUtil","getAggsAsset","mintAsset","inputQuantities","outputQuantities","burnQuantities","filteredInputs","inputs","input","prevOut","owner","filteredBurns","burns","burn","filteredOutputs","results","filteredInput","before","newObject","plus","quantity","filteredBurn","filteredOutput","values","getAggsQuark","txList","pay","receiver","signer","createMintAssetTx","ActionType","assetInitState","UTXOList","availableAssets","getIdForCacheUTXO","cacheAssetScheme","CacheAssetScheme","cacheAggsUTXOList","CacheAggsUTXOList","cacheUTXOList","CacheUTXOList","cacheAvailableAssets","CacheAvailableAssets","setFetchingAssetScheme","SetFetchingAssetScheme","setFetchingAggsUTXOList","SetFetchingAggsUTXOList","setFetchingUTXOList","SetFetchingUTXOList","fetchAggsUTXOListIfNeed","dispatch","getState","cachedAggsUTXOList","assetReducer","isFetching","updatedAt","Date","showLoading","globalReducer","UTXOResponse","u","setTimeout","calculateAvailableAssets","hideLoading","addressUTXOListObj","pendingTxListObj","chainReducer","pendingTxList","txListObject","addressUTXOList","txHashList","hash","validPendingTxList","pendingTx","includes","aggregatedPendingAsset","flatMap","addressConfirmedUTXO","quantities","totalAssetQuantity","lt","minus","availableAssetsValue","fetchAssetSchemeIfNeed","cachedAssetScheme","responseAssetScheme","fetchUTXOListIfNeed","id","cachedUTXOList","UTXOListResponse","fetchAvailableAssets","chainActions","fetchPendingTxListIfNeed","fetchTxListIfNeed","chainInitState","bestBlockNumber","undefined","txListById","pendingTxListById","getIdByAddressAssetType","checkingIndexingFuncForSendingTx","cachePendingTxList","CachePendingTxList","setFetchingPendingTxList","SetFetchingPendingTxList","cachedPendingTxList","assetActions","accountActions","calculateAvailableQuark","params","force","cachedTxList","SetFetchingTxList","CacheTxList","fetchTxListByAssetTypeIfNeed","cachedTxListById","SetFetchingTxListById","CacheTxListById","sendSignedTransaction","observePlatformAddress","resolve","reject","setInterval","find","fetchAvailableQuark","clearInterval","error","sendTransactionByGateway","assetAddress","gatewayURL","unsignedHash","setFetchingAccount","SetFetchingAccount","updateAccount","UpdateAccount","fetchAccountIfNeed","cachedAccount","accountReducer","accounts","accountResponse","txListObj","accountObj","aggrPendingQuark","availableQuark","UpdateAvailableQuark","amount","updateWalletPlatformAddresses","UpdateWalletPlatformAddresses","updateWalletAssetAddresses","UpdateWalletAssetAddresses","walletReducer","SetLoadingAssetAddresses","isLoading","SetLoadingPlatformAddresses","toast","position","POSITION","BOTTOM_CENTER","autoClose","closeButton","hideProgressBar","newAddresses","AddressContainer","props","hoverCopyBtn","setState","isCopyHovering","outCopyBtn","handleCopyAddress","info","state","this","backButtonPath","addressIndex","className","Link","to","icon","size","i18nKey","text","onCopy","src","copyBtnHover","copyBtn","alt","onMouseOver","onMouseOut","onBlur","React","Component","withTranslation","PayTxItem","isPending","timestamp","aggrTx","moment","unix","format","target","rel","href","gte","toLocaleString","PayTxHistory","handleNextPage","handlePreviousPage","fetchAll","Empty","pendingTimestamp","onClick","connect","options","TooltipLabel","uniqueId","closeTooltip","tooltipOpen","toggleTooltip","makeId","possible","i","charAt","Math","floor","random","document","addEventListener","removeEventListener","tooltip","Tooltip","trigger","isOpen","toggle","ValidationInput","isFocus","onChange","placeholder","labelText","isValid","reverse","showValidation","disable","decimalScale","Label","for","autoComplete","disabled","thousandSeparator","onFocus","onBlurCapture","onValueChange","v","IconCheck","IconError","CCCReceiverItem","handleBlurAddressInput","onAddressValidationCheck","handleBlurAmountInput","onAmountValidationCheck","handleBlurFeeInput","onFeeValidationCheck","handleMaxValueClick","onAmountChange","remainingAmount","handleChangeAddressInput","event","onAddressChange","handleChangedAmountInput","handleChangeFeeInput","onFeeChange","isAddressValid","isAmountValid","addressError","amountError","isFeeValid","feeError","MinimumFee","CCCReceiverContainer","calculateRemainingCCCString","totalAmount","remainingCCC","gt","handleAddressValidationCheck","myAddress","fromString","handleAmountValidationCheck","cccString","amountCCC","BigNumber","isNaN","amountFee","handleFeeValidationCheck","feeString","minimum","handleAddressChange","handleAmountChange","handleFeeChange","handleSubmit","preventDefault","onSubmit","isSending","SendCCC","updateWindowDimensions","window","innerWidth","addModalOpenClass","removeModalOpenClass","createPayTransaction","signedTx","isSent","onClose","CheckIcon","color","ownProps","Account","refresher","openSendingCCC","scrollTo","sendingCCC","handleCloseSendingCCC","match","fetchWalletFromStorageIfNeed","aa","walletActions","Identicon","require","sha256","ImageLoader","prop","requestUrl","getDefaultImage","update","identiconData","hex","fallback","isAssetImage","host","style","verticalAlign","width","height","onError","AddressItem","handleClick","walletAddress","history","withRouter","AddressList","createWalletPlatformAddress","createWalletAssetAddress","Container","Row","Col","md","lg","xl","isLoadingAssetAddresses","isLoadingPlatformAddresses","actions","parseMetadata","AssetTxItemEntity","renderQuantity","AssetTxItem","assetHistory","AssetTxHistory","activePage","AssetDetail","availableAsset","approver","toFormat","AssetItem","onSelect","handleClickInfo","isSelected","ReceiverItem","handleRemove","onRemove","handleBlurQuantityInput","onQuantityValidationCheck","onQuantityChange","remainingAsset","handleChangeQuantitiesInput","isQuantityValid","quantityError","hideCancel","ReceiverContainer","handleChangeFeePayer","selectFeePayer","handleChangeMemo","checkMemo","isMemoValid","memoError","checkFeeValidation","availableQuarkList","handleChangeFee","handleRemoveReceiver","myIndex","receivers","receiversExceptIndex","clone","pullAt","handleAddReceiver","calculateRemainingAsset","totalQuantity","currentTotal","addressValidations","handleQuantityValidationCheck","quantityString","quantityValidations","lte","newIndex","newReceivers","handleQuantityChange","returnValue","r","payer","nextProps","isSendingTx","defaultValue","pa","SendAsset","selectedAssetType","sumOfSendingAsset","m","inputUTXO","inputUTXOSum","utxo","inputAssets","fromJSON","lockScriptHash","parameters","tracker","transactionTracker","transactionOutputIndex","orderHash","createTransferInput","outputData","refundAmount","o","AssetTransferOutput","transferTx","createTransferAssetTransaction","_A","signTransactionInput","message","Metadata","gateway","isSentTx","AssetList","handleSendAssetClose","handleSelectAsset","PageState","clearData","ClearData","login","Login","logout","Logout","updateNetworkId","WalletActions","ClearWalletAddresses","UpdateNetwork","ConfirmBackupPhrase","indexToString","selectedPhraseIndex","suffledPhrases","toggleSelectPhrase","selectedPhrasesIndex","sp","shuffle","phrases","onConfirm","join","partial","isEqual","InputPassphrase","handleTOCClick","hasAgreeTOC","checked","handlePPClick","hasAgreePP","handleOnFormSubmit","username","checkUsernameValid","checkPassphraseValid","checkPassphraseConfirm","isSubmitted","passphraseError","isPassphraseValid","passphraseConfirm","passphraseConfirmError","isPassphraseConfirmValid","isUsernameValid","usernameError","handlePassphraseInput","handlePassphraseConfirmInput","handleUsernameInput","Form","htmlFor","ShowBackupPhrase","handleCopyPhrase","CreateWallet","handleSubmitPassphraseInput","mnemonicString","split","currentPage","showSecretPhrase","handleSubmitShowPhrase","confirmSecretPhrase","handleConfirmPhrase","inputPassPhrase","range","globalActions","Footer","onLanguageChange","lang","i18n","changeLanguage","facebook","github","gitter","twitter","medium","telegram","language","ExportBackupPopup","handleButtonClick","handlePassphrase","isValidPassphrase","checkPhrase","backupPhraseString","revealBackupPhrase","Modal","centered","ModalHeader","ModalBody","Button","MenuButton","handleSignout","openExportPopup","exportPopupOpen","popoverOpen","toggleExportPopup","Popover","placement","PopoverBody","NetworkButton","chagneNetworkId","currentNetworkId","replace","getNetworkNameById","MainNet","TestNet","WalletSaver","timer","handleClickOutside","resetTimer","handleTouchOutside","handleKeyDown","startTimer","clearTimer","clearTimeout","Header","Logo","LoginForm","onSignIn","handleOnChagne","handleOnChangePassphrase","handleSignIn","redirectToReferrer","savedNetworkId","savedPassphrase","decrypt","enc","Utf8","getPassphrase","from","location","pathname","Redirect","MintAsset","handleChangeSelectAddress","selectedAddress","checkNameValidation","trim","isNameValid","nameError","checkSupplyValidation","isSupplyValid","supplyError","amountSupply","handleNameChange","handleDescriptionChange","handleIconURLChange","handleSupplyChange","backgroundImage","NotFound","PrivateRoute","checkLogin","isKeyExisted","component","rest","Route","render","RestoreWallet","secretPhrase","splitPassphrases","handleChangeSecretPhraseInput","SelectKeyFile","handleImportButtonHover","isImportBtnHover","handleImportButtopOut","handleCreateButtonHover","isCreateBtnHover","handleCreateButtonOut","onClickRestore","onClickCreateWallet","onMouseEnter","onMouseLeave","CreateNewWalletIconHover","CreateNewWalletIcon","ImportKeyIconHover","ImportKeyIcon","library","add","faPlus","faTrashAlt","faFileDownload","faBars","faChevronLeft","faArrowAltCircleDown","faPlusCircle","faTimes","faInfoCircle","faArrowLeft","faCircle","faEllipsisH","faArrowCircleRight","faArrowCircleDown","faExchangeAlt","faCopy","faArrowRight","faRedoAlt","faExclamationCircle","faQuestionCircle","faAngleRight","faAngleDoubleRight","faAngleLeft","faAngleDoubleLeft","faLock","App","appRef","createRef","basename","ref","Switch","exact","accountInitState","globalInitState","walletInitState","appReducer","combineReducers","action","currentAssetScheme","currentAggsUTXOList","currentUTXO","currentPendingTxList","UpdateBestBlockNumber","SetFetchingBestBlockNumber","currentTxList","loadingBar","loadingBarReducer","rootReducer","Boolean","hostname","REACT_APP_BUILD_TARGET","store","Store","portName","middleware","thunk","logger","storeWithMiddleware","applyMiddlewareChrome","ready","then","ReactDOM","getElementById","composeEnhancers","composeWithDevTools","createStore","applyMiddleware","navigator","serviceWorker","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.8ce28b4e.chunk.js","sourcesContent":["import asset from \"./asset.json\";\nimport backup from \"./backup.json\";\nimport create_confirm from \"./create/confirm.json\";\nimport create_mnemonic from \"./create/mnemonic.json\";\nimport create_seed from \"./create/seed.json\";\nimport create_select from \"./create/select.json\";\nimport main from \"./main.json\";\nimport mint from \"./mint.json\";\nimport restore from \"./restore.json\";\nimport send_asset from \"./send/asset.json\";\nimport send_ccc from \"./send/ccc.json\";\nimport welcome from \"./welcome.json\";\n\nexport default {\n    create: {\n        confirm: create_confirm,\n        mnemonic: create_mnemonic,\n        seed: create_seed,\n        select: create_select\n    },\n    main,\n    mint,\n    restore,\n    send: {\n        asset: send_asset,\n        ccc: send_ccc\n    },\n    welcome,\n    asset,\n    backup\n};\n","import asset from \"./asset.json\";\nimport backup from \"./backup.json\";\nimport create_confirm from \"./create/confirm.json\";\nimport create_mnemonic from \"./create/mnemonic.json\";\nimport create_seed from \"./create/seed.json\";\nimport create_select from \"./create/select.json\";\nimport main from \"./main.json\";\nimport mint from \"./mint.json\";\nimport restore from \"./restore.json\";\nimport send_asset from \"./send/asset.json\";\nimport send_ccc from \"./send/ccc.json\";\nimport welcome from \"./welcome.json\";\n\nexport default {\n    create: {\n        confirm: create_confirm,\n        mnemonic: create_mnemonic,\n        seed: create_seed,\n        select: create_select\n    },\n    main,\n    mint,\n    restore,\n    send: {\n        asset: send_asset,\n        ccc: send_ccc\n    },\n    welcome,\n    asset,\n    backup\n};\n","import i18next from \"i18next\";\nimport languageDetector from \"i18next-browser-languagedetector\";\nimport { initReactI18next } from \"react-i18next\";\n\nimport en from \"./en\";\nimport ko from \"./ko\";\n\ni18next\n    .use(languageDetector)\n    .use(initReactI18next)\n    .init({\n        fallbackLng: \"en\",\n        detection: {\n            order: [\"querystring\", \"localStorage\"],\n\n            lookupQuerystring: \"lang\",\n            lookupLocalStorage: \"i18nextLang\",\n\n            caches: [\"localStorage\"],\n            excludeCacheFor: [\"cimode\"]\n        },\n        resources: {\n            en,\n            ko\n        }\n    });\n\nexport default i18next;\n","import { NetworkId } from \"codechain-sdk/lib/core/types\";\n\nexport function getNetworkNameById(networkId: NetworkId) {\n    switch (networkId) {\n        case \"cc\":\n            return \"MAINNET\";\n        case \"tc\":\n            return \"HUSKY\";\n        case \"sc\":\n            return \"SALUKI\";\n        case \"wc\":\n            return \"TESTNET\";\n    }\n    throw new Error(\"Unknown networkId\");\n}\n\nexport function getIndexerHost(networkId: NetworkId) {\n    return server.indexer[networkId];\n}\n\nexport function getExplorerHost(networkId: NetworkId) {\n    return server.indexer[networkId];\n}\n\nexport function getCodeChainHost(networkId: NetworkId) {\n    return server.chain[networkId];\n}\n\nconst server = {\n    indexer: {\n        cc: \"https://explorer.codechain.io\",\n        tc: \"https://husky.codechain.io/explorer\",\n        sc: \"https://saluki.codechain.io/explorer\",\n        wc: \"https://corgi.codechain.io/explorer\"\n    },\n    chain: {\n        cc: \"https://rpc.codechain.io\",\n        tc: \"http://52.79.108.1:8080\",\n        sc: \"http://52.78.210.78:8080\",\n        wc: \"https://corgi-rpc.codechain.io\"\n    }\n};\n","import axios from \"axios\";\nimport {\n    AggsUTXODoc,\n    AssetSchemeDoc,\n    TransactionDoc,\n    UTXODoc\n} from \"codechain-indexer-types\";\nimport { H160, Transaction, U64 } from \"codechain-sdk/lib/core/classes\";\nimport { NetworkId } from \"codechain-sdk/lib/core/types\";\nimport { PlatformAccount } from \"../model/address\";\nimport { getIndexerHost } from \"../utils/network\";\n\nasync function getRequest<T>(url: string) {\n    const response = await axios.get<T>(url);\n    if (response.status >= 200 && response.status < 300) {\n        return response.data;\n    }\n    throw new Error(response.statusText);\n}\n\nasync function postRequest<T>(url: string, body: any) {\n    const response = await axios.post<T>(url, body);\n    if (response.status >= 200 && response.status < 300) {\n        return response.data;\n    }\n    throw new Error(response.statusText);\n}\n\nexport async function getAggsUTXOList(\n    address: string,\n    networkId: NetworkId\n): Promise<AggsUTXODoc[]> {\n    const apiHost = getIndexerHost(networkId);\n    // FIXME: Read all pages\n    const { data: aggsUTXOList } = await getRequest<{ data: AggsUTXODoc[] }>(\n        `${apiHost}/api/aggs-utxo?address=${address}`\n    );\n    // FIXME: https://github.com/CodeChain-io/codechain-indexer/issues/59\n    return Promise.all(\n        aggsUTXOList.map(async (aggsUTXO: any) => {\n            const assetScheme = await getAssetByAssetType(\n                new H160(aggsUTXO.assetType),\n                networkId\n            );\n            aggsUTXO.assetScheme = assetScheme;\n            return aggsUTXO;\n        })\n    );\n}\n\nexport async function getAssetByAssetType(\n    assetType: H160,\n    networkId: NetworkId\n) {\n    const apiHost = getIndexerHost(networkId);\n    return getRequest<AssetSchemeDoc>(\n        `${apiHost}/api/asset-scheme/${assetType.value}`\n    );\n}\n\nexport async function getPlatformAccount(\n    address: string,\n    networkId: NetworkId\n) {\n    const apiHost = getIndexerHost(networkId);\n    const response = await getRequest<{ balance: string; seq: string }>(\n        `${apiHost}/api/account/${address}`\n    );\n\n    if (response) {\n        return {\n            balance: new U64(response.balance),\n            seq: new U64(response.seq)\n        } as PlatformAccount;\n    } else {\n        return {\n            balance: new U64(0),\n            seq: new U64(0)\n        } as PlatformAccount;\n    }\n}\n\nexport async function getUTXOListByAssetType(\n    address: string,\n    assetType: H160,\n    networkId: NetworkId\n) {\n    const apiHost = getIndexerHost(networkId);\n    // FIXME: Read all pages\n    const response = await getRequest<{ data: UTXODoc[] }>(\n        `${apiHost}/api/utxo?assetType=${\n            assetType.value\n        }&address=${address}&itemsPerPage=100`\n    );\n    return response.data;\n}\n\nexport function sendTxToGateway(tx: Transaction, gatewayURl: string) {\n    return postRequest<void>(`${gatewayURl}`, {\n        tx\n    });\n}\n\nexport async function getPendingTransactions(\n    address: string,\n    networkId: NetworkId\n) {\n    const apiHost = getIndexerHost(networkId);\n    const { data: transactions } = await getRequest<{ data: TransactionDoc[] }>(\n        `${apiHost}/api/pending-tx?itemsPerPage=100&address=${address}`\n    );\n\n    // FIXME: This is temporary code. https://github.com/CodeChain-io/codechain-indexer/issues/5\n    await Promise.all(\n        transactions.map(async transaction => {\n            if (transaction.type === \"transferAsset\") {\n                await Promise.all(\n                    transaction.transferAsset.outputs.map(async output => {\n                        const assetScheme: any = await getRequest<\n                            AssetSchemeDoc\n                        >(`${apiHost}/api/asset-scheme/${output.assetType}`);\n                        output.assetScheme = assetScheme;\n                    })\n                );\n            }\n        })\n    );\n    return transactions;\n}\n\nexport async function getTxsByAddress(\n    address: string,\n    pagination: {\n        lastEvaluatedKey?: string;\n        firstEvaluatedKey?: string;\n        itemsPerPage: number;\n    },\n    networkId: NetworkId,\n    assetType?: H160\n) {\n    const apiHost = getIndexerHost(networkId);\n    let query = `${apiHost}/api/tx?address=${address}&itemsPerPage=${\n        pagination.itemsPerPage\n    }`;\n    if (assetType) {\n        query += `&assetType=${assetType.value}`;\n    }\n    if (pagination.lastEvaluatedKey) {\n        query += `&lastEvaluatedKey=${pagination.lastEvaluatedKey}`;\n    }\n    if (pagination.firstEvaluatedKey) {\n        query += `&firstEvaluatedKey=${pagination.firstEvaluatedKey}`;\n    }\n    const {\n        data: transactions,\n        hasNextPage,\n        hasPreviousPage,\n        lastEvaluatedKey,\n        firstEvaluatedKey\n    } = await getRequest<{\n        data: TransactionDoc[];\n        hasNextPage: boolean;\n        hasPreviousPage: boolean;\n        lastEvaluatedKey?: string;\n        firstEvaluatedKey?: string;\n    }>(query);\n\n    // FIXME: This is temporary code. https://github.com/CodeChain-io/codechain-indexer/issues/5\n    await Promise.all(\n        transactions.map(async transaction => {\n            if (transaction.type === \"transferAsset\") {\n                await Promise.all(\n                    transaction.transferAsset.outputs.map(async output => {\n                        const assetScheme: any = await getRequest<\n                            AssetSchemeDoc\n                        >(`${apiHost}/api/asset-scheme/${output.assetType}`);\n                        output.assetScheme = assetScheme;\n                    })\n                );\n            }\n        })\n    );\n    return {\n        transactions,\n        hasNextPage,\n        hasPreviousPage,\n        lastEvaluatedKey,\n        firstEvaluatedKey\n    };\n}\n","import CryptoJS from \"crypto-js\";\nimport _ from \"lodash\";\nimport { AddressType, NetworkId } from \"../model/address\";\n\nconst localstorageKeyOfPlatform = \"platformKeys\";\nconst localstorageKeyOfAsset = \"assetKeys\";\nconst networkIdKey = \"netowrkId\";\nconst passphraseKey = \"authKey\";\nexport interface StoredKey {\n    pathIndex: number;\n    type: AddressType;\n    key: string;\n}\n\nfunction getStorageKeyOfPlatform(networkId: NetworkId) {\n    return `${localstorageKeyOfPlatform}_${networkId}`;\n}\n\nfunction getStorageKeyOfAsset(networkId: NetworkId) {\n    return `${localstorageKeyOfAsset}_${networkId}`;\n}\n\nexport function getPlatformKeys(networkId: NetworkId): StoredKey[] | null {\n    const platformKeysString = localStorage.getItem(\n        getStorageKeyOfPlatform(networkId)\n    );\n    if (platformKeysString) {\n        try {\n            return JSON.parse(platformKeysString);\n        } catch (e) {\n            console.log(e);\n        }\n    }\n    return null;\n}\n\nexport function getAssetKeys(networkId: NetworkId): StoredKey[] | null {\n    const assetKeysString = localStorage.getItem(\n        getStorageKeyOfAsset(networkId)\n    );\n    if (assetKeysString) {\n        try {\n            return JSON.parse(assetKeysString);\n        } catch (e) {\n            console.log(e);\n        }\n    }\n    return null;\n}\n\nexport function clearWalletKeys() {\n    _.each([\"cc\", \"tc\", \"wc\", \"sc\"], network => {\n        localStorage.removeItem(getStorageKeyOfAsset(network as NetworkId));\n        localStorage.removeItem(getStorageKeyOfPlatform(network as NetworkId));\n    });\n}\n\nexport function clearPassphrase() {\n    sessionStorage.removeItem(passphraseKey);\n}\n\nexport function saveNetworkId(netowrkId: NetworkId) {\n    sessionStorage.setItem(networkIdKey, netowrkId);\n}\n\nexport function getNetworkId(): NetworkId {\n    return sessionStorage.getItem(networkIdKey) as NetworkId;\n}\n\nexport function savePlatformKeys(\n    platformKeys: StoredKey[],\n    networkId: NetworkId\n) {\n    localStorage.setItem(\n        getStorageKeyOfPlatform(networkId),\n        JSON.stringify(platformKeys)\n    );\n}\n\nexport function saveAssetKeys(assetKeys: StoredKey[], netowrkId: NetworkId) {\n    localStorage.setItem(\n        getStorageKeyOfAsset(netowrkId),\n        JSON.stringify(assetKeys)\n    );\n}\n\nconst cryptoKey = \"secret key\";\nexport function savePassphrase(passphrase: string) {\n    const encryptedKey = CryptoJS.AES.encrypt(passphrase, cryptoKey).toString();\n    sessionStorage.setItem(passphraseKey, encryptedKey);\n}\n\nexport function getPassphrase() {\n    const encryptedKey = sessionStorage.getItem(passphraseKey);\n    if (encryptedKey) {\n        return CryptoJS.AES.decrypt(encryptedKey, cryptoKey).toString(\n            CryptoJS.enc.Utf8\n        );\n    }\n    return null;\n}\n","import { U64 } from \"codechain-sdk/lib/core/classes\";\n\nexport type NetworkId = \"cc\" | \"tc\" | \"sc\" | \"wc\";\n\nexport interface WalletAddress {\n    index: number;\n    type: AddressType;\n    address: string;\n}\n\nexport enum AddressType {\n    Platform,\n    Asset\n}\n\nexport interface PlatformAccount {\n    balance: U64;\n    seq: U64;\n}\n\nexport function isAssetAddress(address: string) {\n    return address[2] === \"a\";\n}\n\nexport function isPlatformAddress(address: string) {\n    return address[2] === \"c\";\n}\n","import { CCKey } from \"codechain-keystore\";\nimport {\n    AssetTransferAddress,\n    PlatformAddress\n} from \"codechain-sdk/lib/core/classes\";\nimport { blake160 } from \"codechain-sdk/lib/utils\";\nimport _ from \"lodash\";\nimport { getAggsUTXOList, getPlatformAccount } from \"../networks/Api\";\nimport {\n    getAssetKeys,\n    getPlatformKeys,\n    saveAssetKeys,\n    savePlatformKeys,\n    StoredKey\n} from \"../utils/storage\";\nimport { AddressType, NetworkId, WalletAddress } from \"./address\";\n\nlet dbType = \"persistent\";\nif (process.env.CI) {\n    dbType = \"in-memory\";\n}\n\nlet globalCCKey: CCKey;\nexport async function getCCKey() {\n    if (!globalCCKey) {\n        globalCCKey = await CCKey.create({ dbType });\n    }\n    return globalCCKey;\n}\n\nexport async function clearKeystore() {\n    const ccKey = await getCCKey();\n    await ccKey.clear();\n}\n\nexport async function createSeed(passphrase: string) {\n    const ccKey = await getCCKey();\n    return await ccKey.hdwseed.createSeed({ passphrase, seedLength: 128 });\n}\n\nexport async function getFirstSeedHash() {\n    const ccKey = await getCCKey();\n    const seedHashes = await ccKey.hdwseed.getSeedHashes();\n    return seedHashes[0];\n}\n\nexport async function exportMnemonic(passphrase: string) {\n    const ccKey = await getCCKey();\n    const seedHash = await getFirstSeedHash();\n    const mnemonic = await ccKey.hdwseed.exportMnemonic({\n        seedHash,\n        passphrase\n    });\n    return mnemonic;\n}\n\nexport async function importMnemonic(mnemonic: string, passphrase: string) {\n    const ccKey = await getCCKey();\n    await ccKey.hdwseed.importMnemonic({ mnemonic, passphrase });\n}\n\nexport async function isKeystoreExisted() {\n    return CCKey.exist({ dbType });\n}\n\n// m / purpose' / coin_type' / account' / change / address_index\nconst platformAddressPath = \"m/44'/3276/0'/0/\";\nconst assetAddressPath = \"m/44'/3276/1'/0/\";\nconst restoringCheckingRange = 10;\n\nexport function getPlatformAddressPath(index: number) {\n    return platformAddressPath + index;\n}\n\nexport function getAssetAddressPath(index: number) {\n    return assetAddressPath + index;\n}\n\nexport async function restorePlatformAddresses(\n    passphrase: string,\n    networkId: NetworkId\n): Promise<WalletAddress[]> {\n    const ccKey = await getCCKey();\n    const seedHash = await getFirstSeedHash();\n    let currentPath = 0;\n    const platformAddresses: WalletAddress[] = [];\n    const platformKeys: StoredKey[] = [];\n    let lastValidPlatfromPathIndex: number | undefined | null;\n    while (currentPath < restoringCheckingRange) {\n        const platformPubkey = await ccKey.hdwseed.getPublicKeyFromSeed({\n            seedHash,\n            path: platformAddressPath + currentPath,\n            passphrase\n        });\n        const key = blake160(platformPubkey);\n        const address = PlatformAddress.fromAccountId(key, {\n            networkId\n        }).value;\n        const account = await getPlatformAccount(address, networkId);\n        if (!account.seq.eq(0) || !account.balance.eq(0)) {\n            lastValidPlatfromPathIndex = currentPath;\n        }\n        platformAddresses.push({\n            index: currentPath,\n            address,\n            type: AddressType.Platform\n        });\n        platformKeys.push({\n            pathIndex: currentPath,\n            type: AddressType.Platform,\n            key\n        });\n        currentPath += 1;\n    }\n    let retValue: WalletAddress[];\n    let retKeys: StoredKey[];\n    if (lastValidPlatfromPathIndex == null) {\n        retValue = platformAddresses.slice(0, 1);\n        retKeys = platformKeys.slice(0, 1);\n    } else {\n        retValue = platformAddresses.slice(0, lastValidPlatfromPathIndex + 1);\n        retKeys = platformKeys.slice(0, lastValidPlatfromPathIndex + 1);\n    }\n    savePlatformKeys(retKeys, networkId);\n    return retValue;\n}\n\nexport async function createPlatformAddress(\n    passphrase: string,\n    networkId: NetworkId\n) {\n    const ccKey = await getCCKey();\n    const seedHash = await getFirstSeedHash();\n    const savedPlatformKeys = getPlatformKeys(networkId);\n    let newPathIndex;\n    if (savedPlatformKeys && savedPlatformKeys.length > 0) {\n        newPathIndex = _.last(savedPlatformKeys)!.pathIndex + 1;\n    } else {\n        newPathIndex = 0;\n    }\n    const platformPubkey = await ccKey.hdwseed.getPublicKeyFromSeed({\n        seedHash,\n        path: platformAddressPath + newPathIndex,\n        passphrase\n    });\n    const key = blake160(platformPubkey);\n    if (savedPlatformKeys && savedPlatformKeys.length > 0) {\n        savePlatformKeys(\n            [\n                ...savedPlatformKeys,\n                {\n                    pathIndex: newPathIndex,\n                    type: AddressType.Platform,\n                    key\n                }\n            ],\n            networkId\n        );\n    } else {\n        savePlatformKeys(\n            [\n                {\n                    pathIndex: newPathIndex,\n                    type: AddressType.Platform,\n                    key\n                }\n            ],\n            networkId\n        );\n    }\n    const address = PlatformAddress.fromAccountId(key, {\n        networkId\n    }).value;\n    return {\n        index: newPathIndex,\n        address,\n        type: AddressType.Platform\n    };\n}\n\nexport async function createAssetAddress(\n    passphrase: string,\n    networkId: NetworkId\n) {\n    const ccKey = await getCCKey();\n    const seedHash = await getFirstSeedHash();\n    const savedAssetKeys = getAssetKeys(networkId);\n    let newPathIndex;\n    if (savedAssetKeys && savedAssetKeys.length > 0) {\n        newPathIndex = _.last(savedAssetKeys)!.pathIndex + 1;\n    } else {\n        newPathIndex = 0;\n    }\n    const assetPubKey = await ccKey.hdwseed.getPublicKeyFromSeed({\n        seedHash,\n        path: assetAddressPath + newPathIndex,\n        passphrase\n    });\n    const key = blake160(assetPubKey);\n    if (savedAssetKeys && savedAssetKeys.length > 0) {\n        saveAssetKeys(\n            [\n                ...savedAssetKeys,\n                {\n                    pathIndex: newPathIndex,\n                    type: AddressType.Platform,\n                    key\n                }\n            ],\n            networkId\n        );\n    } else {\n        saveAssetKeys(\n            [\n                {\n                    pathIndex: newPathIndex,\n                    type: AddressType.Platform,\n                    key\n                }\n            ],\n            networkId\n        );\n    }\n    const address = AssetTransferAddress.fromTypeAndPayload(1, key, {\n        networkId\n    }).value;\n    return {\n        index: newPathIndex,\n        address,\n        type: AddressType.Asset\n    };\n}\n\nexport async function checkPassphrase(passphrase: string) {\n    const ccKey = await getCCKey();\n    const seedHashes = await ccKey.hdwseed.getSeedHashes();\n    const seedHash = seedHashes[0];\n    try {\n        await ccKey.hdwseed.exportMnemonic({ seedHash, passphrase });\n        return true;\n    } catch (e) {\n        console.log(e);\n    }\n    return false;\n}\n\nexport async function restoreAssetAddresses(\n    passphrase: string,\n    networkId: NetworkId\n): Promise<WalletAddress[]> {\n    const ccKey = await getCCKey();\n    const seedHash = await getFirstSeedHash();\n    let currentPath = 0;\n    const assetAddresses: WalletAddress[] = [];\n    const assetKeys: StoredKey[] = [];\n    let lastValidAssetPathIndex: number | undefined | null;\n    while (currentPath < restoringCheckingRange) {\n        const assetPubKey = await ccKey.hdwseed.getPublicKeyFromSeed({\n            seedHash,\n            path: assetAddressPath + currentPath,\n            passphrase\n        });\n        const key = blake160(assetPubKey);\n        const address = AssetTransferAddress.fromTypeAndPayload(1, key, {\n            networkId\n        }).value;\n        const aggsUTXO = await getAggsUTXOList(address, networkId);\n        if (aggsUTXO.length !== 0) {\n            lastValidAssetPathIndex = currentPath;\n        }\n        assetAddresses.push({\n            index: currentPath,\n            address,\n            type: AddressType.Asset\n        });\n        assetKeys.push({\n            type: AddressType.Asset,\n            pathIndex: currentPath,\n            key\n        });\n        currentPath += 1;\n    }\n\n    let retValue: WalletAddress[];\n    let retKeys: StoredKey[];\n    if (lastValidAssetPathIndex == null) {\n        retValue = assetAddresses.slice(0, 1);\n        retKeys = assetKeys.slice(0, 1);\n    } else {\n        retValue = assetAddresses.slice(0, lastValidAssetPathIndex + 1);\n        retKeys = assetKeys.slice(0, lastValidAssetPathIndex + 1);\n    }\n    saveAssetKeys(retKeys, networkId);\n    return retValue;\n}\n","import { TransactionDoc } from \"codechain-indexer-types\";\nimport { SDK } from \"codechain-sdk\";\nimport { U64 } from \"codechain-sdk/lib/core/classes\";\nimport { LocalKeyStore } from \"codechain-sdk/lib/key/LocalKeyStore\";\nimport _ from \"lodash\";\nimport { NetworkId } from \"../model/address\";\nimport {\n    getAssetAddressPath,\n    getCCKey,\n    getFirstSeedHash,\n    getPlatformAddressPath\n} from \"../model/keystore\";\nimport { getCodeChainHost } from \"./network\";\nimport { getAssetKeys, getPlatformKeys } from \"./storage\";\n\nfunction getAggsQuark(address: string, txList: TransactionDoc[]) {\n    return _.reduce(\n        txList,\n        (memo, tx: TransactionDoc) => {\n            let output = new U64(0);\n            let input = new U64(0);\n            if (tx.type === \"pay\") {\n                const quantity = tx.pay.quantity;\n                if (tx.pay.receiver === address) {\n                    output = U64.plus(output, quantity);\n                }\n                if (tx.signer === address) {\n                    input = U64.plus(input, quantity);\n                }\n            }\n            if (tx.signer === address) {\n                const fee = tx.fee;\n                input = U64.plus(input, fee);\n            }\n            return {\n                input: U64.plus(memo.input, input),\n                output: U64.plus(memo.output, output)\n            };\n        },\n        {\n            input: new U64(0),\n            output: new U64(0)\n        }\n    );\n}\n\nfunction getAggsAsset(\n    address: string,\n    transaction: TransactionDoc\n): {\n    assetType: string;\n    inputQuantities: U64;\n    outputQuantities: U64;\n    burnQuantities: U64;\n}[] {\n    if (transaction.type === \"mintAsset\") {\n        if (transaction.mintAsset.recipient === address) {\n            return [\n                {\n                    assetType: transaction.mintAsset.assetType,\n                    inputQuantities: new U64(0),\n                    outputQuantities: new U64(transaction.mintAsset.supply),\n                    burnQuantities: new U64(0)\n                }\n            ];\n        } else {\n            return [];\n        }\n    } else if (transaction.type === \"transferAsset\") {\n        const filteredInputs = _.filter(\n            transaction.transferAsset.inputs,\n            input => input.prevOut.owner === address\n        );\n\n        const filteredBurns = _.filter(\n            transaction.transferAsset.burns,\n            burn => burn.prevOut.owner === address\n        );\n\n        const filteredOutputs = _.filter(\n            transaction.transferAsset.outputs,\n            output => output.owner === address\n        );\n        const results: {\n            [assetType: string]: {\n                assetType: string;\n                inputQuantities: U64;\n                outputQuantities: U64;\n                burnQuantities: U64;\n            };\n        } = {};\n        _.each(filteredInputs, filteredInput => {\n            if (results[filteredInput.prevOut.assetType]) {\n                const before = results[filteredInput.prevOut.assetType];\n                const newObject = {\n                    ...before,\n                    inputQuantities: U64.plus(\n                        before.inputQuantities,\n                        filteredInput.prevOut.quantity\n                    )\n                };\n                results[filteredInput.prevOut.assetType] = newObject;\n            } else {\n                results[filteredInput.prevOut.assetType] = {\n                    assetType: filteredInput.prevOut.assetType,\n                    inputQuantities: new U64(filteredInput.prevOut.quantity),\n                    outputQuantities: new U64(0),\n                    burnQuantities: new U64(0)\n                };\n            }\n        });\n        _.each(filteredBurns, filteredBurn => {\n            if (results[filteredBurn.prevOut.assetType]) {\n                const before = results[filteredBurn.prevOut.assetType];\n                const newObject = {\n                    ...before,\n                    burnQuantities: U64.plus(\n                        before.burnQuantities,\n                        filteredBurn.prevOut.quantity\n                    )\n                };\n                results[filteredBurn.prevOut.assetType] = newObject;\n            } else {\n                results[filteredBurn.prevOut.assetType] = {\n                    assetType: filteredBurn.prevOut.assetType,\n                    inputQuantities: new U64(0),\n                    outputQuantities: new U64(0),\n                    burnQuantities: new U64(filteredBurn.prevOut.quantity)\n                };\n            }\n        });\n        _.each(filteredOutputs, filteredOutput => {\n            if (results[filteredOutput.assetType]) {\n                const before = results[filteredOutput.assetType];\n                const newObject = {\n                    ...before,\n                    outputQuantities: U64.plus(\n                        before.outputQuantities,\n                        filteredOutput.quantity\n                    )\n                };\n                results[filteredOutput.assetType] = newObject;\n            } else {\n                results[filteredOutput.assetType] = {\n                    assetType: filteredOutput.assetType,\n                    inputQuantities: new U64(0),\n                    outputQuantities: new U64(filteredOutput.quantity),\n                    burnQuantities: new U64(0)\n                };\n            }\n        });\n        return _.values(results);\n    }\n    return [];\n}\n\nasync function createMintAssetTx(data: {\n    name: string;\n    supply: U64;\n    iconURL?: string;\n    description?: string;\n    recipient: string;\n    networkId: NetworkId;\n    feePayer: string;\n    fee: U64;\n    passphrase: string;\n}) {\n    const ccKey = await getCCKey();\n    const storedPlatformKeys = getPlatformKeys(data.networkId);\n    const storedAssetKeys = getAssetKeys(data.networkId);\n    const seedHash = await getFirstSeedHash();\n    const platformKeyMapping = _.reduce(\n        storedPlatformKeys,\n        (memo, storedPlatformKey) => {\n            return {\n                ...memo,\n                [storedPlatformKey.key]: {\n                    seedHash,\n                    path: getPlatformAddressPath(storedPlatformKey.pathIndex)\n                }\n            };\n        },\n        {}\n    );\n    const assetKeyMapping = _.reduce(\n        storedAssetKeys,\n        (memo, storedAssetKey) => {\n            return {\n                ...memo,\n                [storedAssetKey.key]: {\n                    seedHash,\n                    path: getAssetAddressPath(storedAssetKey.pathIndex)\n                }\n            };\n        },\n        {}\n    );\n    const keyStore = new LocalKeyStore(ccKey, {\n        platform: platformKeyMapping,\n        asset: assetKeyMapping\n    });\n\n    const sdk = new SDK({\n        server: getCodeChainHost(data.networkId),\n        networkId: data.networkId\n    });\n    const tx = sdk.core.createMintAssetTransaction({\n        scheme: {\n            shardId: 0,\n            metadata: JSON.stringify({\n                name: data.name,\n                description: data.description,\n                icon_url: data.iconURL\n            }),\n            supply: data.supply\n        },\n        recipient: data.recipient\n    });\n\n    const seq = await sdk.rpc.chain.getSeq(data.feePayer);\n\n    const { transactions } = await sdk.rpc.chain.getPendingTransactions();\n    const newSeq =\n        seq +\n        transactions.filter(\n            t =>\n                t.getSignerAddress({ networkId: data.networkId }).toString() ===\n                data.feePayer\n        ).length;\n\n    const signedTransaction = await sdk.key.signTransaction(tx, {\n        account: data.feePayer,\n        keyStore,\n        fee: data.fee,\n        seq: newSeq,\n        passphrase: data.passphrase\n    });\n    return signedTransaction;\n}\n\nexport const TxUtil = { getAggsAsset, getAggsQuark, createMintAssetTx };\n","import { AggsUTXODoc, AssetSchemeDoc, UTXODoc } from \"codechain-indexer-types\";\nimport { H160, U64 } from \"codechain-sdk/lib/core/classes\";\nimport { Action, ActionType } from \"./assetActions\";\n\nexport interface AssetState {\n    assetScheme: {\n        [assetType: string]: {\n            data?: AssetSchemeDoc;\n            isFetching: boolean;\n        } | null;\n    };\n    aggsUTXOList: {\n        [address: string]: {\n            data?: AggsUTXODoc[] | null;\n            updatedAt?: number | null;\n            isFetching: boolean;\n        } | null;\n    };\n    UTXOList: {\n        [id: string]: {\n            data?: UTXODoc[] | null;\n            updatedAt?: number | null;\n            isFetching: boolean;\n        } | null;\n    };\n    availableAssets: {\n        [address: string]:\n            | {\n                  assetType: string;\n                  quantities: U64;\n              }[]\n            | null;\n    };\n}\n\nexport const assetInitState: AssetState = {\n    assetScheme: {},\n    aggsUTXOList: {},\n    UTXOList: {},\n    availableAssets: {}\n};\n\nexport const getIdForCacheUTXO = (address: string, assetType: H160) => {\n    return `${address}-${assetType.value}`;\n};\n\nexport const assetReducer = (state = assetInitState, action: Action) => {\n    switch (action.type) {\n        case ActionType.CacheAssetScheme: {\n            const assetType = action.data.assetType;\n            const currentAssetScheme = {\n                data: action.data.assetScheme,\n                isFetching: false\n            };\n            const assetScheme = {\n                ...state.assetScheme,\n                [assetType]: currentAssetScheme\n            };\n            return {\n                ...state,\n                assetScheme\n            };\n        }\n        case ActionType.SetFetchingAssetScheme: {\n            const assetType = action.data.assetType;\n            const currentAssetScheme = {\n                ...state.assetScheme[assetType],\n                isFetching: true\n            };\n            const assetScheme = {\n                ...state.assetScheme,\n                [assetType]: currentAssetScheme\n            };\n            return {\n                ...state,\n                assetScheme\n            };\n        }\n        case ActionType.SetFetchingAggsUTXOList: {\n            const address = action.data.address;\n            const currentAggsUTXOList = {\n                ...state.aggsUTXOList[address],\n                isFetching: true\n            };\n            const aggsUTXOList = {\n                ...state.aggsUTXOList,\n                [address]: currentAggsUTXOList\n            };\n            return {\n                ...state,\n                aggsUTXOList\n            };\n        }\n        case ActionType.CacheAggsUTXOList: {\n            const address = action.data.address;\n            const currentAggsUTXOList = {\n                data: action.data.aggsUTXOList,\n                updatedAt: +new Date(),\n                isFetching: false\n            };\n            const aggsUTXOList = {\n                ...state.aggsUTXOList,\n                [address]: currentAggsUTXOList\n            };\n            return {\n                ...state,\n                aggsUTXOList\n            };\n        }\n        case ActionType.CacheUTXOList: {\n            const address = action.data.address;\n            const assetType = action.data.assetType;\n            const id = getIdForCacheUTXO(address, assetType);\n            const currentUTXO = {\n                data: action.data.UTXOList,\n                updatedAt: +new Date(),\n                isFetching: false\n            };\n            const UTXOList = {\n                ...state.UTXOList,\n                [id]: currentUTXO\n            };\n            return {\n                ...state,\n                UTXOList\n            };\n        }\n        case ActionType.SetFetchingUTXOList: {\n            const address = action.data.address;\n            const assetType = action.data.assetType;\n            const id = getIdForCacheUTXO(address, assetType);\n            const currentUTXO = {\n                ...state.UTXOList[id],\n                isFetching: true\n            };\n            const UTXOList = {\n                ...state.UTXOList,\n                [id]: currentUTXO\n            };\n            return {\n                ...state,\n                UTXOList\n            };\n        }\n        case ActionType.CacheAvailableAssets: {\n            const address = action.data.address;\n            const availableAssets = {\n                ...state.availableAssets,\n                [address]: action.data.availableAssets\n            };\n            return {\n                ...state,\n                availableAssets\n            };\n        }\n    }\n    return state;\n};\n","import { AggsUTXODoc, AssetSchemeDoc, UTXODoc } from \"codechain-indexer-types\";\nimport { H160, U64 } from \"codechain-sdk/lib/core/classes\";\nimport _ from \"lodash\";\nimport { hideLoading, showLoading } from \"react-redux-loading-bar\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { ReducerConfigure } from \"..\";\nimport {\n    getAggsUTXOList,\n    getAssetByAssetType,\n    getUTXOListByAssetType\n} from \"../../networks/Api\";\nimport { TxUtil } from \"../../utils/transaction\";\nimport chainActions from \"../chain/chainActions\";\nimport { getIdForCacheUTXO } from \"./assetReducer\";\n\nexport type Action =\n    | CacheAssetScheme\n    | CacheAggsUTXOList\n    | SetFetchingAggsUTXOList\n    | SetFetchingAssetScheme\n    | CacheUTXOList\n    | SetFetchingUTXOList\n    | CacheAvailableAssets;\n\nexport enum ActionType {\n    CacheAssetScheme = \"CacheAssetScheme\",\n    CacheAggsUTXOList = \"CacheAggsUTXOList\",\n    SetFetchingAggsUTXOList = \"SetFetchingAggsUTXOList\",\n    SetFetchingAssetScheme = \"SetFetchingAssetScheme\",\n    SetFetchingUTXOList = \"SetFetchingUTXOList\",\n    CacheUTXOList = \"CacheUTXOList\",\n    CacheAvailableAssets = \"CacheAvailableAssets\"\n}\n\nexport interface CacheAssetScheme {\n    type: ActionType.CacheAssetScheme;\n    data: {\n        assetType: string;\n        assetScheme: AssetSchemeDoc;\n    };\n}\n\nexport interface CacheAggsUTXOList {\n    type: ActionType.CacheAggsUTXOList;\n    data: {\n        address: string;\n        aggsUTXOList: AggsUTXODoc[];\n    };\n}\n\nexport interface SetFetchingAggsUTXOList {\n    type: ActionType.SetFetchingAggsUTXOList;\n    data: {\n        address: string;\n    };\n}\n\nexport interface SetFetchingAssetScheme {\n    type: ActionType.SetFetchingAssetScheme;\n    data: {\n        assetType: string;\n    };\n}\n\nexport interface SetFetchingUTXOList {\n    type: ActionType.SetFetchingUTXOList;\n    data: {\n        address: string;\n        assetType: H160;\n    };\n}\n\nexport interface CacheUTXOList {\n    type: ActionType.CacheUTXOList;\n    data: {\n        address: string;\n        assetType: H160;\n        UTXOList: UTXODoc[];\n    };\n}\n\nexport interface CacheAvailableAssets {\n    type: ActionType.CacheAvailableAssets;\n    data: {\n        address: string;\n        availableAssets: {\n            assetType: string;\n            quantities: U64;\n        }[];\n    };\n}\n\nconst cacheAssetScheme = (\n    assetType: H160,\n    assetScheme: AssetSchemeDoc\n): CacheAssetScheme => ({\n    type: ActionType.CacheAssetScheme,\n    data: {\n        assetType: assetType.value,\n        assetScheme\n    }\n});\n\nconst cacheAggsUTXOList = (\n    address: string,\n    aggsUTXOList: AggsUTXODoc[]\n): CacheAggsUTXOList => ({\n    type: ActionType.CacheAggsUTXOList,\n    data: {\n        address,\n        aggsUTXOList\n    }\n});\n\nconst cacheUTXOList = (\n    address: string,\n    assetType: H160,\n    UTXOList: UTXODoc[]\n): CacheUTXOList => ({\n    type: ActionType.CacheUTXOList,\n    data: {\n        address,\n        assetType,\n        UTXOList\n    }\n});\n\nconst cacheAvailableAssets = (\n    address: string,\n    availableAssets: {\n        assetType: string;\n        quantities: U64;\n    }[]\n): CacheAvailableAssets => ({\n    type: ActionType.CacheAvailableAssets,\n    data: {\n        address,\n        availableAssets\n    }\n});\n\nconst setFetchingAssetScheme = (assetType: H160): SetFetchingAssetScheme => ({\n    type: ActionType.SetFetchingAssetScheme,\n    data: {\n        assetType: assetType.value\n    }\n});\n\nconst setFetchingAggsUTXOList = (address: string): SetFetchingAggsUTXOList => ({\n    type: ActionType.SetFetchingAggsUTXOList,\n    data: {\n        address\n    }\n});\n\nconst setFetchingUTXOList = (\n    address: string,\n    assetType: H160\n): SetFetchingUTXOList => ({\n    type: ActionType.SetFetchingUTXOList,\n    data: {\n        address,\n        assetType\n    }\n});\n\nconst fetchAssetSchemeIfNeed = (assetType: H160) => {\n    return async (\n        dispatch: ThunkDispatch<ReducerConfigure, void, Action>,\n        getState: () => ReducerConfigure\n    ) => {\n        const cachedAssetScheme = getState().assetReducer.assetScheme[\n            assetType.value\n        ];\n        if (cachedAssetScheme && cachedAssetScheme.isFetching) {\n            return;\n        }\n        try {\n            dispatch(showLoading() as any);\n            dispatch(setFetchingAssetScheme(assetType));\n            const networkId = getState().globalReducer.networkId;\n            const responseAssetScheme = await getAssetByAssetType(\n                assetType,\n                networkId\n            );\n            dispatch(cacheAssetScheme(assetType, responseAssetScheme));\n            dispatch(hideLoading() as any);\n        } catch (e) {\n            console.log(e);\n        }\n    };\n};\n\nconst fetchAggsUTXOListIfNeed = (address: string) => {\n    return async (\n        dispatch: ThunkDispatch<ReducerConfigure, void, Action>,\n        getState: () => ReducerConfigure\n    ) => {\n        const cachedAggsUTXOList = getState().assetReducer.aggsUTXOList[\n            address\n        ];\n        if (cachedAggsUTXOList && cachedAggsUTXOList.isFetching) {\n            return;\n        }\n        if (\n            cachedAggsUTXOList &&\n            cachedAggsUTXOList.updatedAt &&\n            +new Date() - cachedAggsUTXOList.updatedAt < 3000\n        ) {\n            return;\n        }\n        try {\n            dispatch(showLoading() as any);\n            dispatch(setFetchingAggsUTXOList(address));\n            const networkId = getState().globalReducer.networkId;\n            const UTXOResponse = await getAggsUTXOList(address, networkId);\n            dispatch(cacheAggsUTXOList(address, UTXOResponse));\n\n            _.each(UTXOResponse, (u: any) => {\n                dispatch(\n                    cacheAssetScheme(new H160(u.assetType), u.assetScheme)\n                );\n            });\n            // FIXME: Currently, React-chrome-redux saves data to the background script asynchronously.\n            // This code is temporary for solving this problem.\n            setTimeout(() => {\n                dispatch(calculateAvailableAssets(address));\n            }, 300);\n            dispatch(hideLoading() as any);\n        } catch (e) {\n            console.log(e);\n        }\n    };\n};\n\nconst fetchUTXOListIfNeed = (address: string, assetType: H160) => {\n    return async (\n        dispatch: ThunkDispatch<ReducerConfigure, void, Action>,\n        getState: () => ReducerConfigure\n    ) => {\n        const id = getIdForCacheUTXO(address, assetType);\n        const UTXOList = getState().assetReducer.UTXOList[id];\n        const cachedUTXOList = UTXOList && UTXOList[assetType.value];\n        if (cachedUTXOList && cachedUTXOList.isFetching) {\n            return;\n        }\n        if (\n            cachedUTXOList &&\n            cachedUTXOList.updatedAt &&\n            +new Date() - cachedUTXOList.updatedAt < 3000\n        ) {\n            return;\n        }\n        try {\n            dispatch(showLoading() as any);\n            dispatch(setFetchingUTXOList(address, assetType));\n            const networkId = getState().globalReducer.networkId;\n            const UTXOListResponse = await getUTXOListByAssetType(\n                address,\n                assetType,\n                networkId\n            );\n            dispatch(cacheUTXOList(address, assetType, UTXOListResponse));\n            dispatch(hideLoading() as any);\n        } catch (e) {\n            console.log(e);\n        }\n    };\n};\n\nconst fetchAvailableAssets = (address: string) => {\n    return async (dispatch: ThunkDispatch<ReducerConfigure, void, Action>) => {\n        dispatch(chainActions.fetchPendingTxListIfNeed(address));\n        dispatch(chainActions.fetchTxListIfNeed(address));\n        dispatch(fetchAggsUTXOListIfNeed(address));\n    };\n};\n\nconst calculateAvailableAssets = (address: string) => {\n    return async (\n        dispatch: ThunkDispatch<ReducerConfigure, void, Action>,\n        getState: () => ReducerConfigure\n    ) => {\n        const addressUTXOListObj = getState().assetReducer.aggsUTXOList[\n            address\n        ];\n        const pendingTxListObj = getState().chainReducer.pendingTxList[address];\n        const txListObject = getState().chainReducer.txList[address];\n\n        const addressUTXOList = addressUTXOListObj && addressUTXOListObj.data;\n        const pendingTxList = pendingTxListObj && pendingTxListObj.data;\n        const txList = txListObject && txListObject.data;\n\n        if (!addressUTXOList || !pendingTxList || !txList) {\n            return;\n        }\n\n        const txHashList = _.map(txList, tx => tx.hash);\n        const validPendingTxList = _.filter(\n            pendingTxList,\n            pendingTx => !_.includes(txHashList, pendingTx.hash)\n        );\n        const aggregatedPendingAsset = _.flatMap(\n            validPendingTxList,\n            pendingTx => {\n                return TxUtil.getAggsAsset(address, pendingTx);\n            }\n        );\n\n        const availableAssets: {\n            [assetType: string]: {\n                assetType: string;\n                quantities: U64;\n            };\n        } = {};\n\n        _.each(addressUTXOList, addressConfirmedUTXO => {\n            availableAssets[addressConfirmedUTXO.assetType] = {\n                assetType: addressConfirmedUTXO.assetType,\n                quantities: new U64(addressConfirmedUTXO.totalAssetQuantity)\n            };\n        });\n        _.each(aggregatedPendingAsset, asset => {\n            if (\n                asset.outputQuantities.lt(\n                    U64.plus(asset.inputQuantities, asset.burnQuantities)\n                )\n            ) {\n                const quantity = U64.minus(\n                    U64.plus(asset.inputQuantities, asset.burnQuantities),\n                    asset.outputQuantities\n                );\n                if (!availableAssets[asset.assetType]) {\n                    availableAssets[asset.assetType] = {\n                        assetType: asset.assetType,\n                        quantities: new U64(0)\n                    };\n                }\n                availableAssets[asset.assetType] = {\n                    ...availableAssets[asset.assetType],\n                    quantities: U64.minus(\n                        availableAssets[asset.assetType].quantities,\n                        quantity\n                    )\n                };\n            }\n        });\n        const availableAssetsValue = _.filter(\n            _.values(availableAssets),\n            asset => !asset.quantities.eq(0)\n        );\n        dispatch(cacheAvailableAssets(address, availableAssetsValue));\n    };\n};\n\nexport default {\n    cacheAssetScheme,\n    fetchAggsUTXOListIfNeed,\n    fetchAssetSchemeIfNeed,\n    fetchUTXOListIfNeed,\n    calculateAvailableAssets,\n    fetchAvailableAssets\n};\n","import { TransactionDoc } from \"codechain-indexer-types\";\nimport { H160 } from \"codechain-sdk/lib/core/classes\";\nimport { Action, ActionType } from \"./chainActions\";\n\nexport interface ChainState {\n    pendingTxList: {\n        [address: string]: {\n            data?: TransactionDoc[] | null;\n            isFetching: boolean;\n            updatedAt?: number | null;\n        } | null;\n    };\n    txList: {\n        [address: string]: {\n            data?: TransactionDoc[] | null;\n            hasNextPage?: boolean | null;\n            hasPreviousPage?: boolean | null;\n            lastEvaluatedKey?: string | null;\n            firstEvaluatedKey?: string | null;\n            isFetching: boolean;\n            updatedAt?: number | null;\n        } | null;\n    };\n    pendingTxListById: {\n        [id: string]: {\n            data?: TransactionDoc[] | null;\n            isFetching: boolean;\n            updatedAt?: number | null;\n        } | null;\n    };\n    txListById: {\n        [id: string]: {\n            data?: TransactionDoc[] | null;\n            hasNextPage?: boolean | null;\n            hasPreviousPage?: boolean | null;\n            lastEvaluatedKey?: string | null;\n            firstEvaluatedKey?: string | null;\n            isFetching: boolean;\n            updatedAt?: number | null;\n        } | null;\n    };\n    bestBlockNumber?: {\n        data?: number | null;\n        isFetching: boolean;\n        updatedAt?: number | null;\n    } | null;\n}\n\nexport const chainInitState: ChainState = {\n    pendingTxList: {},\n    txList: {},\n    bestBlockNumber: undefined,\n    txListById: {},\n    pendingTxListById: {}\n};\n\nexport const getIdByAddressAssetType = (address: string, assetType: H160) => {\n    return `${address}-${assetType.value}`;\n};\n\nexport const chainReducer = (\n    state = chainInitState,\n    action: Action\n): ChainState => {\n    switch (action.type) {\n        case ActionType.CachePendingTxList: {\n            const address = action.data.address;\n            const currentPendingTxList = {\n                data: action.data.pendingTxList,\n                updatedAt: +new Date(),\n                isFetching: false\n            };\n            const pendingTxList = {\n                ...state.pendingTxList,\n                [address]: currentPendingTxList\n            };\n            return {\n                ...state,\n                pendingTxList\n            };\n        }\n        case ActionType.SetFetchingPendingTxList: {\n            const address = action.data.address;\n            const currentPendingTxList = {\n                ...state.pendingTxList[address],\n                isFetching: true\n            };\n            const pendingTxList = {\n                ...state.pendingTxList,\n                [address]: currentPendingTxList\n            };\n            return {\n                ...state,\n                pendingTxList\n            };\n        }\n        case ActionType.UpdateBestBlockNumber: {\n            return {\n                ...state,\n                bestBlockNumber: {\n                    data: action.data.bestBlockNumber,\n                    updatedAt: +new Date(),\n                    isFetching: false\n                }\n            };\n        }\n        case ActionType.SetFetchingBestBlockNumber: {\n            return {\n                ...state,\n                bestBlockNumber: {\n                    ...state.bestBlockNumber,\n                    isFetching: true\n                }\n            };\n        }\n        case ActionType.CacheTxList: {\n            const address = action.data.address;\n            const currentTxList = {\n                data: action.data.txList,\n                hasNextPage: action.data.hasNextPage,\n                hasPreviousPage: action.data.hasPreviousPage,\n                lastEvaluatedKey: action.data.lastEvaluatedKey,\n                firstEvaluatedKey: action.data.firstEvaluatedKey,\n                updatedAt: +new Date(),\n                isFetching: false\n            };\n            const txList = {\n                ...state.txList,\n                [address]: currentTxList\n            };\n            return {\n                ...state,\n                txList\n            };\n        }\n        case ActionType.SetFetchingTxList: {\n            const address = action.data.address;\n            const currentTxList = {\n                ...state.txList[address],\n                isFetching: true\n            };\n            const txList = {\n                ...state.txList,\n                [address]: currentTxList\n            };\n            return {\n                ...state,\n                txList\n            };\n        }\n        case ActionType.SetFetchingTxListById: {\n            const address = action.data.address;\n            const assetType = action.data.assetType;\n            const id = getIdByAddressAssetType(address, assetType);\n            const currentTxList = {\n                ...state.txListById[id],\n                isFetching: true\n            };\n            const txListById = {\n                ...state.txListById,\n                [id]: currentTxList\n            };\n            return {\n                ...state,\n                txListById\n            };\n        }\n        case ActionType.CacheTxListById: {\n            const address = action.data.address;\n            const assetType = action.data.assetType;\n            const id = getIdByAddressAssetType(address, assetType);\n            const currentTxList = {\n                data: action.data.txList,\n                hasNextPage: action.data.hasNextPage,\n                hasPreviousPage: action.data.hasPreviousPage,\n                lastEvaluatedKey: action.data.lastEvaluatedKey,\n                firstEvaluatedKey: action.data.firstEvaluatedKey,\n                updatedAt: +new Date(),\n                isFetching: false\n            };\n            const txListById = {\n                ...state.txListById,\n                [id]: currentTxList\n            };\n            return {\n                ...state,\n                txListById\n            };\n        }\n    }\n    return state;\n};\n","import { TransactionDoc } from \"codechain-indexer-types\";\nimport { SDK } from \"codechain-sdk\";\nimport {\n    H160,\n    SignedTransaction,\n    Transaction\n} from \"codechain-sdk/lib/core/classes\";\nimport _ from \"lodash\";\nimport { hideLoading, showLoading } from \"react-redux-loading-bar\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { ReducerConfigure } from \"..\";\nimport { isAssetAddress, isPlatformAddress } from \"../../model/address\";\nimport {\n    getPendingTransactions,\n    getTxsByAddress,\n    sendTxToGateway\n} from \"../../networks/Api\";\nimport { getCodeChainHost } from \"../../utils/network\";\nimport accountActions from \"../account/accountActions\";\nimport assetActions from \"../asset/assetActions\";\nimport { getIdByAddressAssetType } from \"./chainReducer\";\n\nexport type Action =\n    | CachePendingTxList\n    | CacheTxList\n    | SetFetchingPendingTxList\n    | SetFetchingTxList\n    | UpdateBestBlockNumber\n    | SetFetchingBestBlockNumber\n    | SetFetchingTxListById\n    | CacheTxListById;\n\nexport enum ActionType {\n    CachePendingTxList = \"CachePendingTxList\",\n    CacheTxList = \"CacheTxList\",\n    SetFetchingPendingTxList = \"SetFetchingPendingTxList\",\n    UpdateBestBlockNumber = \"UpdateBestBlockNumber\",\n    SetFetchingBestBlockNumber = \"SetFetchingBestBlockNumber\",\n    SetFetchingTxList = \"SetFetchingTxList\",\n    SetFetchingTxListById = \"SetFetchingTxListById\",\n    CacheTxListById = \"CacheTxListById\"\n}\n\nexport interface SetFetchingTxListById {\n    type: ActionType.SetFetchingTxListById;\n    data: {\n        address: string;\n        assetType: H160;\n    };\n}\n\nexport interface CacheTxListById {\n    type: ActionType.CacheTxListById;\n    data: {\n        address: string;\n        assetType: H160;\n        txList: TransactionDoc[];\n        hasNextPage: boolean;\n        hasPreviousPage: boolean;\n        lastEvaluatedKey?: string;\n        firstEvaluatedKey?: string;\n    };\n}\n\nexport interface CachePendingTxList {\n    type: ActionType.CachePendingTxList;\n    data: {\n        address: string;\n        pendingTxList: TransactionDoc[];\n    };\n}\n\nexport interface CacheTxList {\n    type: ActionType.CacheTxList;\n    data: {\n        address: string;\n        txList: TransactionDoc[];\n        hasNextPage: boolean;\n        hasPreviousPage: boolean;\n        lastEvaluatedKey?: string;\n        firstEvaluatedKey?: string;\n    };\n}\n\nexport interface SetFetchingPendingTxList {\n    type: ActionType.SetFetchingPendingTxList;\n    data: {\n        address: string;\n    };\n}\n\nexport interface SetFetchingTxList {\n    type: ActionType.SetFetchingTxList;\n    data: {\n        address: string;\n    };\n}\n\nexport interface UpdateBestBlockNumber {\n    type: ActionType.UpdateBestBlockNumber;\n    data: {\n        bestBlockNumber: number;\n    };\n}\n\nexport interface SetFetchingBestBlockNumber {\n    type: ActionType.SetFetchingBestBlockNumber;\n}\n\nconst cachePendingTxList = (\n    address: string,\n    pendingTxList: TransactionDoc[]\n): CachePendingTxList => ({\n    type: ActionType.CachePendingTxList,\n    data: {\n        address,\n        pendingTxList\n    }\n});\n\nconst setFetchingPendingTxList = (\n    address: string\n): SetFetchingPendingTxList => ({\n    type: ActionType.SetFetchingPendingTxList,\n    data: {\n        address\n    }\n});\n\nconst fetchPendingTxListIfNeed = (address: string) => {\n    return async (\n        dispatch: ThunkDispatch<ReducerConfigure, void, Action>,\n        getState: () => ReducerConfigure\n    ) => {\n        const cachedPendingTxList = getState().chainReducer.pendingTxList[\n            address\n        ];\n        if (cachedPendingTxList && cachedPendingTxList.isFetching) {\n            return;\n        }\n        if (\n            cachedPendingTxList &&\n            cachedPendingTxList.updatedAt &&\n            +new Date() - cachedPendingTxList.updatedAt < 3000\n        ) {\n            return;\n        }\n        try {\n            dispatch(showLoading() as any);\n            dispatch(setFetchingPendingTxList(address));\n            const networkId = getState().globalReducer.networkId;\n            const pendingTxList = await getPendingTransactions(\n                address,\n                networkId\n            );\n            dispatch(cachePendingTxList(address, pendingTxList));\n            // FIXME: Currently, React-chrome-redux saves data to the background script asynchronously.\n            // This code is temporary for solving this problem.\n            setTimeout(() => {\n                if (isAssetAddress(address)) {\n                    dispatch(assetActions.calculateAvailableAssets(address));\n                } else if (isPlatformAddress(address)) {\n                    dispatch(accountActions.calculateAvailableQuark(address));\n                }\n            }, 300);\n            dispatch(hideLoading() as any);\n        } catch (e) {\n            console.log(e);\n        }\n    };\n};\n\nconst fetchTxListIfNeed = (\n    address: string,\n    params?: {\n        firstEvaluatedKey?: string | null;\n        lastEvaluatedKey?: string | null;\n        itemsPerPage?: number;\n        force: boolean;\n    }\n) => {\n    return async (\n        dispatch: ThunkDispatch<ReducerConfigure, void, Action>,\n        getState: () => ReducerConfigure\n    ) => {\n        const { itemsPerPage = 10, force = false } = params || {};\n        const cachedTxList = getState().chainReducer.txList[address];\n        if (!force && cachedTxList && cachedTxList.isFetching) {\n            return;\n        }\n        if (\n            !force &&\n            cachedTxList &&\n            cachedTxList.updatedAt &&\n            +new Date() - cachedTxList.updatedAt < 3000\n        ) {\n            return;\n        }\n        try {\n            dispatch(showLoading() as any);\n            dispatch({\n                type: ActionType.SetFetchingTxList,\n                data: {\n                    address\n                }\n            });\n            const networkId = getState().globalReducer.networkId;\n            const {\n                transactions: txList,\n                hasNextPage,\n                hasPreviousPage,\n                lastEvaluatedKey,\n                firstEvaluatedKey\n            } = await getTxsByAddress(\n                address,\n                {\n                    itemsPerPage,\n                    lastEvaluatedKey: params\n                        ? params.lastEvaluatedKey || undefined\n                        : undefined,\n                    firstEvaluatedKey: params\n                        ? params.firstEvaluatedKey || undefined\n                        : undefined\n                },\n                networkId\n            );\n            dispatch({\n                type: ActionType.CacheTxList,\n                data: {\n                    address,\n                    txList,\n                    hasNextPage,\n                    hasPreviousPage,\n                    lastEvaluatedKey,\n                    firstEvaluatedKey\n                }\n            });\n            // FIXME: Currently, React-chrome-redux saves data to the background script asynchronously.\n            // This code is temporary for solving this problem.\n            setTimeout(() => {\n                if (isAssetAddress(address)) {\n                    dispatch(assetActions.calculateAvailableAssets(address));\n                } else if (isPlatformAddress(address)) {\n                    dispatch(accountActions.calculateAvailableQuark(address));\n                }\n            }, 300);\n            dispatch(hideLoading() as any);\n        } catch (e) {\n            console.log(e);\n        }\n    };\n};\n\nconst sendSignedTransaction = (\n    address: string,\n    signedTransaction: SignedTransaction,\n    observePlatformAddress?: string | null\n) => {\n    return async (\n        dispatch: ThunkDispatch<ReducerConfigure, void, Action>,\n        getState: () => ReducerConfigure\n    ) => {\n        return new Promise(async (resolve, reject) => {\n            try {\n                const networkId = getState().globalReducer.networkId;\n                const sdk = new SDK({\n                    server: getCodeChainHost(networkId),\n                    networkId\n                });\n                await sdk.rpc.chain.sendSignedTransaction(signedTransaction);\n                checkingIndexingFuncForSendingTx = setInterval(() => {\n                    dispatch(fetchPendingTxListIfNeed(address));\n                    dispatch(fetchTxListIfNeed(address));\n                    const pendingTxList = getState().chainReducer.pendingTxList[\n                        address\n                    ];\n                    const txList = getState().chainReducer.txList[address];\n                    if (\n                        (pendingTxList &&\n                            pendingTxList.data &&\n                            _.find(\n                                pendingTxList.data,\n                                tx => tx.hash === signedTransaction.hash().value\n                            )) ||\n                        (txList &&\n                            txList.data &&\n                            _.find(\n                                txList.data,\n                                tx => tx.hash === signedTransaction.hash().value\n                            ))\n                    ) {\n                        if (isAssetAddress(address)) {\n                            dispatch(\n                                assetActions.fetchAvailableAssets(address)\n                            );\n                        } else if (isPlatformAddress(address)) {\n                            dispatch(\n                                accountActions.fetchAvailableQuark(address)\n                            );\n                        }\n                        if (observePlatformAddress) {\n                            dispatch(\n                                accountActions.fetchAvailableQuark(\n                                    observePlatformAddress\n                                )\n                            );\n                        }\n                        clearInterval(checkingIndexingFuncForSendingTx);\n                        resolve();\n                    }\n                }, 1000);\n            } catch (e) {\n                reject(e);\n                console.error(e);\n            }\n        });\n    };\n};\n\nlet checkingIndexingFuncForSendingTx: NodeJS.Timer;\nconst sendTransactionByGateway = (\n    assetAddress: string,\n    transaction: Transaction,\n    gatewayURL: string\n) => {\n    return async (\n        dispatch: ThunkDispatch<ReducerConfigure, void, Action>,\n        getState: () => ReducerConfigure\n    ) => {\n        return new Promise(async (resolve, reject) => {\n            try {\n                await sendTxToGateway(transaction, gatewayURL);\n                checkingIndexingFuncForSendingTx = setInterval(() => {\n                    dispatch(fetchPendingTxListIfNeed(assetAddress));\n                    dispatch(fetchTxListIfNeed(assetAddress));\n                    const pendingTxList = getState().chainReducer.pendingTxList[\n                        assetAddress\n                    ];\n                    const txList = getState().chainReducer.txList[assetAddress];\n                    if (\n                        (pendingTxList &&\n                            pendingTxList.data &&\n                            _.find(\n                                pendingTxList.data,\n                                tx =>\n                                    tx.hash === transaction.unsignedHash().value\n                            )) ||\n                        (txList &&\n                            txList.data &&\n                            _.find(\n                                txList.data,\n                                tx =>\n                                    tx.hash === transaction.unsignedHash().value\n                            ))\n                    ) {\n                        dispatch(\n                            assetActions.fetchAvailableAssets(assetAddress)\n                        );\n                        clearInterval(checkingIndexingFuncForSendingTx);\n                        resolve();\n                    }\n                }, 1000);\n            } catch (e) {\n                reject(e);\n                console.error(e);\n            }\n        });\n    };\n};\n\nconst fetchTxListByAssetTypeIfNeed = (\n    address: string,\n    assetType: H160,\n    params?: {\n        firstEvaluatedKey?: string | null;\n        lastEvaluatedKey?: string | null;\n        itemsPerPage?: number;\n        force: boolean;\n    }\n) => {\n    return async (\n        dispatch: ThunkDispatch<ReducerConfigure, void, Action>,\n        getState: () => ReducerConfigure\n    ) => {\n        const { itemsPerPage = 10, force = false } = params || {};\n        const id = getIdByAddressAssetType(address, assetType);\n        const cachedTxListById = getState().chainReducer.txListById[id];\n        if (!force && cachedTxListById && cachedTxListById.isFetching) {\n            return;\n        }\n        if (\n            !force &&\n            cachedTxListById &&\n            cachedTxListById.updatedAt &&\n            +new Date() - cachedTxListById.updatedAt < 3000\n        ) {\n            return;\n        }\n        try {\n            dispatch(showLoading() as any);\n            dispatch({\n                type: ActionType.SetFetchingTxListById,\n                data: {\n                    address,\n                    assetType\n                }\n            });\n            const networkId = getState().globalReducer.networkId;\n            const {\n                transactions: txList,\n                hasNextPage,\n                hasPreviousPage,\n                lastEvaluatedKey,\n                firstEvaluatedKey\n            } = await getTxsByAddress(\n                address,\n                {\n                    itemsPerPage,\n                    lastEvaluatedKey: params\n                        ? params.lastEvaluatedKey || undefined\n                        : undefined,\n                    firstEvaluatedKey: params\n                        ? params.firstEvaluatedKey || undefined\n                        : undefined\n                },\n                networkId,\n                assetType\n            );\n            dispatch({\n                type: ActionType.CacheTxListById,\n                data: {\n                    address,\n                    assetType,\n                    txList,\n                    hasNextPage,\n                    hasPreviousPage,\n                    lastEvaluatedKey,\n                    firstEvaluatedKey\n                }\n            });\n            dispatch(hideLoading() as any);\n        } catch (e) {\n            console.log(e);\n        }\n    };\n};\n\nexport default {\n    fetchPendingTxListIfNeed,\n    fetchTxListIfNeed,\n    fetchTxListByAssetTypeIfNeed,\n    sendSignedTransaction,\n    sendTransactionByGateway\n};\n","import { U64 } from \"codechain-sdk/lib/core/classes\";\nimport _ from \"lodash\";\nimport { hideLoading, showLoading } from \"react-redux-loading-bar\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { ReducerConfigure } from \"..\";\nimport { PlatformAccount } from \"../../model/address\";\nimport { getPlatformAccount } from \"../../networks/Api\";\nimport { TxUtil } from \"../../utils/transaction\";\nimport chainActions from \"../chain/chainActions\";\n\nexport type Action = UpdateAvailableQuark | UpdateAccount | SetFetchingAccount;\n\nexport enum ActionType {\n    UpdateAvailableQuark = \"UpdateAvailableQuark\",\n    UpdateAccount = \"UpdateAccount\",\n    SetFetchingAccount = \"SetFetchingAccount\"\n}\n\nexport interface UpdateAvailableQuark {\n    type: ActionType.UpdateAvailableQuark;\n    data: {\n        address: string;\n        amount: U64;\n    };\n}\n\nexport interface UpdateAccount {\n    type: ActionType.UpdateAccount;\n    data: {\n        address: string;\n        account: PlatformAccount;\n    };\n}\n\nconst setFetchingAccount = (address: string): SetFetchingAccount => ({\n    type: ActionType.SetFetchingAccount,\n    data: {\n        address\n    }\n});\n\nconst updateAccount = (\n    address: string,\n    account: PlatformAccount\n): UpdateAccount => ({\n    type: ActionType.UpdateAccount,\n    data: {\n        address,\n        account\n    }\n});\n\nconst fetchAccountIfNeed = (address: string) => {\n    return async (\n        dispatch: ThunkDispatch<ReducerConfigure, void, Action>,\n        getState: () => ReducerConfigure\n    ) => {\n        const cachedAccount = getState().accountReducer.accounts[address];\n        if (cachedAccount && cachedAccount.isFetching) {\n            return;\n        }\n        if (\n            cachedAccount &&\n            cachedAccount.updatedAt &&\n            +new Date() - cachedAccount.updatedAt < 3000\n        ) {\n            return;\n        }\n        try {\n            dispatch(showLoading() as any);\n            dispatch(setFetchingAccount(address));\n            const networkId = getState().globalReducer.networkId;\n            const accountResponse = await getPlatformAccount(\n                address,\n                networkId\n            );\n            dispatch(updateAccount(address, accountResponse));\n            // FIXME: Currently, React-chrome-redux saves data to the background script asynchronously.\n            // This code is temporary for solving this problem.\n            setTimeout(() => {\n                dispatch(calculateAvailableQuark(address));\n            }, 300);\n            dispatch(hideLoading() as any);\n        } catch (e) {\n            console.log(e);\n        }\n    };\n};\n\nconst fetchAvailableQuark = (address: string) => {\n    return (dispatch: ThunkDispatch<ReducerConfigure, void, Action>) => {\n        dispatch(chainActions.fetchPendingTxListIfNeed(address));\n        dispatch(chainActions.fetchTxListIfNeed(address));\n        dispatch(fetchAccountIfNeed(address));\n    };\n};\n\nexport interface SetFetchingAccount {\n    type: ActionType.SetFetchingAccount;\n    data: {\n        address: string;\n    };\n}\n\nconst calculateAvailableQuark = (address: string) => {\n    return (\n        dispatch: ThunkDispatch<ReducerConfigure, void, Action>,\n        getState: () => ReducerConfigure\n    ) => {\n        const txListObj = getState().chainReducer.txList[address];\n        const accountObj = getState().accountReducer.accounts[address];\n        const pendingTxListObj = getState().chainReducer.pendingTxList[address];\n        const txList = txListObj && txListObj.data;\n        const account = accountObj && accountObj.data;\n        const pendingTxList = pendingTxListObj && pendingTxListObj.data;\n        if (!txList || !account || !pendingTxList) {\n            return;\n        }\n\n        const txHashList = _.map(txList, tx => tx.hash);\n        const validPendingTxList = _.filter(\n            pendingTxList,\n            pendingTx => !_.includes(txHashList, pendingTx.hash)\n        );\n        const aggrPendingQuark = TxUtil.getAggsQuark(\n            address,\n            validPendingTxList\n        );\n        const availableQuark = U64.minus(\n            account.balance,\n            aggrPendingQuark.input\n        );\n        dispatch({\n            type: ActionType.UpdateAvailableQuark,\n            data: {\n                address,\n                amount: availableQuark\n            }\n        });\n    };\n};\n\nexport default {\n    calculateAvailableQuark,\n    fetchAccountIfNeed,\n    fetchAvailableQuark\n};\n","import {\n    AssetTransferAddress,\n    PlatformAddress\n} from \"codechain-sdk/lib/core/classes\";\nimport _ from \"lodash\";\nimport { hideLoading, showLoading } from \"react-redux-loading-bar\";\nimport { toast } from \"react-toastify\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { ReducerConfigure } from \"..\";\nimport { AddressType, WalletAddress } from \"../../model/address\";\nimport {\n    createAssetAddress,\n    createPlatformAddress,\n    restoreAssetAddresses,\n    restorePlatformAddresses\n} from \"../../model/keystore\";\nimport { getAssetKeys, getPlatformKeys } from \"../../utils/storage\";\n\nexport type Action =\n    | UpdateWalletPlatformAddresses\n    | UpdateWalletAssetAddresses\n    | ClearWalletAddresses\n    | SetLoadingAssetAddresses\n    | SetLoadingPlatformAddresses;\n\nexport enum ActionType {\n    UpdateWalletPlatformAddresses = \"UpdateWalletPlatformAddresses\",\n    UpdateWalletAssetAddresses = \"UpdateWalletAssetAddresses\",\n    ClearWalletAddresses = \"ClearWalletAddresses\",\n    SetLoadingPlatformAddresses = \"SetLoadingPlatformAddresses\",\n    SetLoadingAssetAddresses = \"SetLoadingAssetAddresses\"\n}\n\nexport interface UpdateWalletPlatformAddresses {\n    type: ActionType.UpdateWalletPlatformAddresses;\n    data: {\n        platformAddresses: WalletAddress[];\n    };\n}\n\nexport interface UpdateWalletAssetAddresses {\n    type: ActionType.UpdateWalletAssetAddresses;\n    data: {\n        assetAddresses: WalletAddress[];\n    };\n}\n\nexport interface ClearWalletAddresses {\n    type: ActionType.ClearWalletAddresses;\n}\n\nexport interface SetLoadingAssetAddresses {\n    type: ActionType.SetLoadingAssetAddresses;\n    data: {\n        isLoading: boolean;\n    };\n}\n\nexport interface SetLoadingPlatformAddresses {\n    type: ActionType.SetLoadingPlatformAddresses;\n    data: {\n        isLoading: boolean;\n    };\n}\n\nconst updateWalletPlatformAddresses = (\n    platformAddresses: WalletAddress[]\n): UpdateWalletPlatformAddresses => ({\n    type: ActionType.UpdateWalletPlatformAddresses,\n    data: {\n        platformAddresses\n    }\n});\n\nconst updateWalletAssetAddresses = (\n    assetAddresses: WalletAddress[]\n): UpdateWalletAssetAddresses => ({\n    type: ActionType.UpdateWalletAssetAddresses,\n    data: {\n        assetAddresses\n    }\n});\n\nconst fetchWalletFromStorageIfNeed = () => {\n    return async (\n        dispatch: ThunkDispatch<ReducerConfigure, void, Action>,\n        getState: () => ReducerConfigure\n    ) => {\n        dispatch(showLoading() as any);\n        const networkId = getState().globalReducer.networkId;\n        const passphrase = getState().globalReducer.passphrase!;\n        if (!getState().walletReducer.assetAddresses) {\n            const savedAssetKeys = getAssetKeys(networkId);\n            let assetAddresses;\n            if (savedAssetKeys) {\n                assetAddresses = _.map(savedAssetKeys, key => {\n                    const address = AssetTransferAddress.fromTypeAndPayload(\n                        1,\n                        key.key,\n                        {\n                            networkId\n                        }\n                    ).value;\n                    return {\n                        index: key.pathIndex,\n                        address,\n                        type: AddressType.Asset\n                    };\n                });\n            } else {\n                dispatch({\n                    type: ActionType.SetLoadingAssetAddresses,\n                    data: {\n                        isLoading: true\n                    }\n                });\n                assetAddresses = await restoreAssetAddresses(\n                    passphrase,\n                    networkId\n                );\n                dispatch({\n                    type: ActionType.SetLoadingAssetAddresses,\n                    data: {\n                        isLoading: false\n                    }\n                });\n            }\n            dispatch(updateWalletAssetAddresses(assetAddresses));\n        }\n        if (!getState().walletReducer.platformAddresses) {\n            const savedPlatformKeys = getPlatformKeys(networkId);\n            let platformAddresses;\n            if (savedPlatformKeys) {\n                platformAddresses = _.map(savedPlatformKeys, key => {\n                    const address = PlatformAddress.fromAccountId(key.key, {\n                        networkId\n                    }).value;\n                    return {\n                        index: key.pathIndex,\n                        address,\n                        type: AddressType.Platform\n                    };\n                });\n            } else {\n                dispatch({\n                    type: ActionType.SetLoadingPlatformAddresses,\n                    data: {\n                        isLoading: true\n                    }\n                });\n                platformAddresses = await restorePlatformAddresses(\n                    passphrase,\n                    networkId\n                );\n                dispatch({\n                    type: ActionType.SetLoadingPlatformAddresses,\n                    data: {\n                        isLoading: false\n                    }\n                });\n            }\n            dispatch(updateWalletPlatformAddresses(platformAddresses));\n        }\n        dispatch(hideLoading() as any);\n    };\n};\n\nconst createWalletPlatformAddress = () => {\n    return async (\n        dispatch: ThunkDispatch<ReducerConfigure, void, Action>,\n        getState: () => ReducerConfigure\n    ) => {\n        const networkId = getState().globalReducer.networkId;\n        const platformAddresses = getState().walletReducer.platformAddresses;\n        if (platformAddresses && platformAddresses.length >= 10) {\n            toast.error(\"Sorry, you can make up to 10 addresses.\", {\n                position: toast.POSITION.BOTTOM_CENTER,\n                autoClose: 5000,\n                closeButton: false,\n                hideProgressBar: true\n            });\n            return;\n        }\n        const passphrase = getState().globalReducer.passphrase!;\n        const newAddresses = await createPlatformAddress(passphrase, networkId);\n        if (platformAddresses) {\n            dispatch(\n                updateWalletPlatformAddresses([\n                    ...platformAddresses,\n                    newAddresses\n                ])\n            );\n        } else {\n            dispatch(updateWalletPlatformAddresses([newAddresses]));\n        }\n    };\n};\n\nconst createWalletAssetAddress = () => {\n    return async (\n        dispatch: ThunkDispatch<ReducerConfigure, void, Action>,\n        getState: () => ReducerConfigure\n    ) => {\n        const networkId = getState().globalReducer.networkId;\n        const assetAddresses = getState().walletReducer.assetAddresses;\n        if (assetAddresses && assetAddresses.length >= 10) {\n            toast.error(\"Sorry, you can make up to 10 addresses.\", {\n                position: toast.POSITION.BOTTOM_CENTER,\n                autoClose: 5000,\n                closeButton: false,\n                hideProgressBar: true\n            });\n            return;\n        }\n        const passphrase = getState().globalReducer.passphrase!;\n        const newAddresses = await createAssetAddress(passphrase, networkId);\n        if (assetAddresses) {\n            dispatch(\n                updateWalletAssetAddresses([...assetAddresses, newAddresses])\n            );\n        } else {\n            dispatch(updateWalletAssetAddresses([newAddresses]));\n        }\n    };\n};\n\nexport default {\n    fetchWalletFromStorageIfNeed,\n    createWalletAssetAddress,\n    createWalletPlatformAddress\n};\n","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport QRCode from \"qrcode.react\";\nimport React from \"react\";\nimport CopyToClipboard from \"react-copy-to-clipboard\";\nimport MediaQuery from \"react-responsive\";\nimport { Link } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\n\nimport copyBtnHover from \"./img/copy-hover.svg\";\nimport copyBtn from \"./img/copy.svg\";\n\nimport { Trans, withTranslation, WithTranslation } from \"react-i18next\";\nimport \"./AddressContainer.css\";\n\ninterface Props {\n    address: string;\n    backButtonPath: string;\n    addressIndex?: number | null;\n}\n\ninterface State {\n    isCopyHovering: boolean;\n}\n\nclass AddressContainer extends React.Component<Props & WithTranslation, State> {\n    public constructor(props: Props & WithTranslation) {\n        super(props);\n        this.state = {\n            isCopyHovering: false\n        };\n    }\n    public render() {\n        const { address, backButtonPath, addressIndex } = this.props;\n        const { isCopyHovering } = this.state;\n        return (\n            <div className=\"Address-container d-flex align-items-center\">\n                <Link to={backButtonPath}>\n                    <FontAwesomeIcon className=\"back-btn\" icon=\"arrow-left\" />\n                </Link>\n                <div className=\"qr-container\">\n                    <QRCode value={address} size={57} />\n                </div>\n                <div className=\"ml-3 name-address-container\">\n                    <h2 className=\"mb-0\">\n                        <Trans\n                            i18nKey=\"main:address\"\n                            values={{\n                                index:\n                                    addressIndex != null ? addressIndex + 1 : \"\"\n                            }}\n                        />\n                    </h2>\n                    <span className=\"mono address-text mr-3\">\n                        <MediaQuery query=\"(max-width: 768px)\">\n                            {address.slice(0, 8)}\n                            ...\n                            {address.slice(address.length - 8, address.length)}\n                        </MediaQuery>\n                        <MediaQuery query=\"(min-width: 769px)\">\n                            {address}\n                        </MediaQuery>\n                    </span>\n                    <CopyToClipboard\n                        text={address}\n                        onCopy={this.handleCopyAddress}\n                    >\n                        <img\n                            className=\"copy-btn\"\n                            src={isCopyHovering ? copyBtnHover : copyBtn}\n                            alt={\"copy\"}\n                            onMouseOver={this.hoverCopyBtn}\n                            onMouseOut={this.outCopyBtn}\n                            onBlur={this.outCopyBtn}\n                        />\n                    </CopyToClipboard>\n                </div>\n            </div>\n        );\n    }\n\n    private hoverCopyBtn = () => {\n        this.setState({ isCopyHovering: true });\n    };\n\n    private outCopyBtn = () => {\n        this.setState({ isCopyHovering: false });\n    };\n\n    private handleCopyAddress = () => {\n        toast.info(this.props.t(\"main:copied\"), {\n            position: toast.POSITION.BOTTOM_CENTER,\n            autoClose: 1000,\n            closeButton: false,\n            hideProgressBar: true\n        });\n    };\n}\n\nexport default withTranslation()(AddressContainer);\n","import { TransactionDoc } from \"codechain-indexer-types\";\nimport { U64 } from \"codechain-sdk/lib/core/classes\";\nimport moment from \"moment\";\nimport React from \"react\";\nimport { Trans, withTranslation, WithTranslation } from \"react-i18next\";\nimport MediaQuery from \"react-responsive\";\nimport { NetworkId } from \"../../../model/address\";\nimport { getExplorerHost } from \"../../../utils/network\";\nimport { TxUtil } from \"../../../utils/transaction\";\nimport \"./PayTxItem.css\";\n\ninterface Props {\n    tx: TransactionDoc;\n    isPending: boolean;\n    timestamp: number;\n    address: string;\n    networkId: NetworkId;\n}\nclass PayTxItem extends React.Component<Props & WithTranslation, any> {\n    public render() {\n        const { tx, address, networkId, isPending, timestamp } = this.props;\n        const aggrTx = TxUtil.getAggsQuark(address, [tx]);\n        return (\n            <div className=\"d-flex Pay-tx-item align-items-center\">\n                <div className=\"date-container number\">\n                    <MediaQuery query=\"(max-width: 768px)\">\n                        {moment.unix(timestamp).format(\"MM-DD[\\r\\n]HH:mm\")}\n                    </MediaQuery>\n                    <MediaQuery query=\"(min-width: 769px)\">\n                        {moment.unix(timestamp).format(\"YYYY-MM-DD[\\r\\n]HH:mm\")}\n                    </MediaQuery>\n                </div>\n                <div className=\"pay-info-container\">\n                    <a\n                        className=\"mono transaction-hash\"\n                        target=\"_blank\"\n                        rel=\"noopener noreferrer\"\n                        href={`${getExplorerHost(networkId)}/tx/${tx.hash}`}\n                    >\n                        0x\n                        {tx.hash}\n                    </a>\n                </div>\n                <div className=\"balance-container number\">\n                    <span>\n                        {aggrTx.output.gte(aggrTx.input)\n                            ? `+${U64.minus(\n                                  aggrTx.output,\n                                  aggrTx.input\n                              ).toLocaleString()}`\n                            : `-${U64.minus(\n                                  aggrTx.input,\n                                  aggrTx.output\n                              ).toLocaleString()}`}{\" \"}\n                        CCC\n                    </span>\n                </div>\n                <div className=\"status-container\">\n                    {isPending ? (\n                        <span className=\"pending\">\n                            <Trans i18nKey=\"main:pending\" />\n                        </span>\n                    ) : (\n                        <span className=\"confirmed\">\n                            <Trans i18nKey=\"main:confirmed\" />\n                        </span>\n                    )}\n                </div>\n            </div>\n        );\n    }\n}\nexport default withTranslation()(PayTxItem);\n","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { TransactionDoc } from \"codechain-indexer-types\";\nimport _ from \"lodash\";\nimport React from \"react\";\nimport { Trans, WithTranslation, withTranslation } from \"react-i18next\";\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { Action } from \"redux\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { NetworkId } from \"../../model/address\";\nimport { ReducerConfigure } from \"../../redux\";\nimport chainActions from \"../../redux/chain/chainActions\";\nimport Empty from \"./img/cautiondisabled.svg\";\nimport \"./PayTxHistory.css\";\nimport PayTxItem from \"./PayTxItem/PayTxItem\";\n\ninterface OwnProps {\n    address: string;\n}\n\ninterface StateProps {\n    pendingTxList?: TransactionDoc[] | null;\n    txList?: TransactionDoc[] | null;\n    hasNextPage?: boolean | null;\n    hasPreviousPage?: boolean | null;\n    lastEvaluatedKey?: string | null;\n    firstEvaluatedKey?: string | null;\n    networkId: NetworkId;\n}\n\ninterface DispatchProps {\n    fetchPendingTxListIfNeed: (address: string) => void;\n    fetchTxListIfNeed: (\n        address: string,\n        options?: {\n            lastEvaluatedKey?: string | null;\n            firstEvaluatedKey?: string | null;\n        }\n    ) => void;\n}\n\ntype Props = WithTranslation & StateProps & OwnProps & DispatchProps;\n\nclass PayTxHistory extends React.Component<Props> {\n    public constructor(props: Props) {\n        super(props);\n    }\n\n    public componentDidMount() {\n        this.init();\n    }\n\n    public render() {\n        const { pendingTxList, txList, address, networkId } = this.props;\n        if (!pendingTxList || !txList) {\n            return <div>Loading...</div>;\n        }\n        const txHashList = _.map(txList, tx => tx.hash);\n        const validPendingTxList = _.filter(\n            pendingTxList,\n            pendingTx => !_.includes(txHashList, pendingTx.hash)\n        );\n        return (\n            <div className=\"Asset-tx-history\">\n                {validPendingTxList.length + txList.length === 0 && (\n                    <div className=\"d-flex align-items-center justify-content-center\">\n                        <div>\n                            <div className=\"text-center mt-3\">\n                                <img src={Empty} alt={\"empty\"} />\n                            </div>\n                            <div className=\"mt-3 empty\">\n                                <Trans i18nKey=\"send:ccc.recent.empty\" />\n                            </div>\n                        </div>\n                    </div>\n                )}\n                {_.map(validPendingTxList, pendingTx => (\n                    <PayTxItem\n                        key={pendingTx.hash}\n                        tx={pendingTx}\n                        address={address}\n                        networkId={networkId}\n                        isPending={true}\n                        timestamp={pendingTx.pendingTimestamp!}\n                    />\n                ))}\n                {_.map(txList, tx => (\n                    <PayTxItem\n                        key={tx.hash}\n                        tx={tx}\n                        address={address}\n                        networkId={networkId}\n                        isPending={false}\n                        timestamp={tx.timestamp!}\n                    />\n                ))}\n                {txList.length > 0 && (\n                    <div className=\"pagination-container\">\n                        <ul className=\"pagination\">\n                            <li\n                                className={`page-item ${\n                                    !this.props.hasPreviousPage\n                                        ? \"disabled\"\n                                        : \"\"\n                                }`}\n                            >\n                                <Link\n                                    className=\"page-link\"\n                                    to=\"#\"\n                                    onClick={this.handlePreviousPage}\n                                >\n                                    <FontAwesomeIcon\n                                        icon=\"angle-left\"\n                                        className=\"navigation-icon\"\n                                    />\n                                </Link>\n                            </li>\n                            <li\n                                className={`page-item ${\n                                    !this.props.hasNextPage ? \"disabled\" : \"\"\n                                }`}\n                            >\n                                <Link\n                                    className=\"page-link\"\n                                    to=\"#\"\n                                    onClick={this.handleNextPage}\n                                >\n                                    <FontAwesomeIcon\n                                        icon=\"angle-right\"\n                                        className=\"navigation-icon\"\n                                    />\n                                </Link>\n                            </li>\n                        </ul>\n                    </div>\n                )}\n            </div>\n        );\n    }\n\n    private handleNextPage = () => {\n        const { address, fetchTxListIfNeed, lastEvaluatedKey } = this.props;\n        fetchTxListIfNeed(address, { lastEvaluatedKey });\n    };\n\n    private handlePreviousPage = () => {\n        const { address, fetchTxListIfNeed, firstEvaluatedKey } = this.props;\n        fetchTxListIfNeed(address, { firstEvaluatedKey });\n    };\n\n    private init = async () => {\n        this.fetchAll();\n    };\n\n    private fetchAll = () => {\n        const {\n            address,\n            fetchPendingTxListIfNeed,\n            fetchTxListIfNeed\n        } = this.props;\n        fetchPendingTxListIfNeed(address);\n        fetchTxListIfNeed(address);\n    };\n}\n\nconst mapStateToProps = (state: ReducerConfigure, props: OwnProps) => {\n    const { address } = props;\n    const pendingTxList = state.chainReducer.pendingTxList[address];\n    const txList = state.chainReducer.txList[address];\n    const networkId = state.globalReducer.networkId;\n    return {\n        pendingTxList: pendingTxList && pendingTxList.data,\n        txList: txList && txList.data,\n        hasNextPage: txList && txList.hasNextPage,\n        hasPreviousPage: txList && txList.hasPreviousPage,\n        lastEvaluatedKey: txList && txList.lastEvaluatedKey,\n        firstEvaluatedKey: txList && txList.firstEvaluatedKey,\n        networkId\n    };\n};\nconst mapDispatchToProps = (\n    dispatch: ThunkDispatch<ReducerConfigure, void, Action>\n) => ({\n    fetchPendingTxListIfNeed: (address: string) => {\n        dispatch(chainActions.fetchPendingTxListIfNeed(address));\n    },\n    fetchTxListIfNeed: (\n        address: string,\n        options?: {\n            lastEvaluatedKey?: string | null;\n            firstEvaluatedKey?: string | null;\n        }\n    ) => {\n        dispatch(\n            chainActions.fetchTxListIfNeed(address, {\n                itemsPerPage: 10,\n                force: true,\n                ...options\n            })\n        );\n    }\n});\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withTranslation()(PayTxHistory));\n","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React from \"react\";\nimport { WithTranslation, withTranslation } from \"react-i18next\";\nimport { Tooltip } from \"reactstrap\";\nimport \"./index.css\";\n\ninterface OwnProps {\n    tooltip: string;\n}\n\ninterface State {\n    tooltipOpen: boolean;\n}\n\ntype Props = WithTranslation & OwnProps;\n\nclass TooltipLabel extends React.Component<Props, State> {\n    public uniqueId: string;\n    constructor(props: Props) {\n        super(props);\n        this.state = { tooltipOpen: false };\n        this.uniqueId = this.makeId(10);\n    }\n\n    public componentDidMount() {\n        document.addEventListener(\"mousedown\", this.closeTooltip);\n        document.addEventListener(\"touchend\", this.closeTooltip);\n    }\n\n    public componentWillUnmount() {\n        document.removeEventListener(\"mousedown\", this.closeTooltip);\n        document.removeEventListener(\"touchend\", this.closeTooltip);\n    }\n\n    public render() {\n        const { t, tooltip } = this.props;\n        return (\n            <div className=\"Tooltip-label\">\n                <span\n                    key=\"tooltip-text\"\n                    className=\"ml-1\"\n                    id={`tooltip-${this.uniqueId}`}\n                >\n                    <FontAwesomeIcon\n                        icon=\"question-circle\"\n                        className=\"question-circle\"\n                    />\n                </span>\n                <Tooltip\n                    trigger=\"click\"\n                    key=\"tooltip-object\"\n                    position=\"right\"\n                    isOpen={this.state.tooltipOpen}\n                    target={`tooltip-${this.uniqueId}`}\n                    toggle={this.toggleTooltip}\n                >\n                    {t(tooltip)}\n                </Tooltip>\n            </div>\n        );\n    }\n\n    private closeTooltip = () => {\n        this.setState({\n            tooltipOpen: false\n        });\n    };\n\n    private toggleTooltip = () => {\n        this.setState({\n            tooltipOpen: !this.state.tooltipOpen\n        });\n    };\n\n    private makeId = (length: number) => {\n        let text = \"\";\n        const possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\";\n\n        for (let i = 0; i < length; i++) {\n            text += possible.charAt(\n                Math.floor(Math.random() * possible.length)\n            );\n        }\n\n        return text;\n    };\n}\n\nexport default withTranslation()(TooltipLabel);\n","import React from \"react\";\nimport NumberFormat from \"react-number-format\";\nimport { Label } from \"reactstrap\";\nimport TooltipLabel from \"../TooltipLabel\";\nimport IconCheck from \"./img/icons-check.svg\";\nimport IconError from \"./img/icons-error.svg\";\nimport \"./ValidationInput.css\";\n\ninterface Props {\n    placeholder?: string;\n    className?: string;\n    error?: string | null;\n    onChange?: (event: React.ChangeEvent<HTMLInputElement>) => void;\n    value: string | number;\n    type?: string;\n    labelText?: string;\n    onBlur?: (event: React.FocusEvent<HTMLInputElement>) => void;\n    isValid?: boolean;\n    showValidation: boolean;\n    reverse?: boolean;\n    disable?: boolean;\n    decimalScale?: number;\n    tooltip?: string;\n}\ninterface State {\n    isFocus: boolean;\n}\nexport default class ValidationInput extends React.Component<Props, State> {\n    public uniqueId: string;\n    constructor(props: Props) {\n        super(props);\n        this.state = { isFocus: false };\n        this.uniqueId = this.makeId(10);\n    }\n    public render() {\n        const {\n            onChange,\n            value,\n            placeholder,\n            className,\n            type,\n            labelText,\n            error,\n            onBlur,\n            isValid,\n            reverse,\n            showValidation,\n            disable,\n            decimalScale,\n            tooltip\n        } = this.props;\n        const { isFocus } = this.state;\n        return (\n            <div className={`Validation-input ${className} mb-4`}>\n                {labelText && [\n                    <Label\n                        key=\"label\"\n                        for={`id-${this.uniqueId}`}\n                        className={`mb-0 label-text ${reverse && \"reverse\"}`}\n                    >\n                        {labelText}\n                    </Label>,\n                    tooltip && <TooltipLabel tooltip={tooltip} key=\"tooltip\" />\n                ]}\n                {type === \"number\" ? (\n                    <NumberFormat\n                        value={value}\n                        decimalScale={decimalScale}\n                        autoComplete=\"off\"\n                        className={`form-control ${reverse &&\n                            \"reverse\"} ${showValidation && \"validation-form\"}`}\n                        id={`id-${this.uniqueId}`}\n                        placeholder={placeholder}\n                        // onChange={onChange}\n                        onBlur={onBlur}\n                        disabled={disable}\n                        thousandSeparator={true}\n                        // tslint:disable-next-line:jsx-no-lambda\n                        onFocus={() => {\n                            this.setState({ isFocus: true });\n                        }}\n                        // tslint:disable-next-line:jsx-no-lambda\n                        onBlurCapture={() => {\n                            this.setState({ isFocus: false });\n                        }}\n                        // tslint:disable-next-line:jsx-no-lambda\n                        onValueChange={values => {\n                            const { value: v } = values;\n                            if (onChange && isFocus) {\n                                onChange({ target: { value: v } } as any);\n                            }\n                        }}\n                    />\n                ) : (\n                    <input\n                        autoComplete=\"off\"\n                        type={`${type || \"text\"}`}\n                        className={`form-control ${reverse &&\n                            \"reverse\"} ${showValidation && \"validation-form\"}`}\n                        id={`id-${this.uniqueId}`}\n                        placeholder={placeholder}\n                        value={value}\n                        onChange={onChange}\n                        onBlur={onBlur}\n                        disabled={disable}\n                    />\n                )}\n                {isValid && (\n                    <img\n                        className=\"valid-icon animated fadeIn\"\n                        src={IconCheck}\n                        alt={\"check\"}\n                    />\n                )}\n                {error && (\n                    <img\n                        className=\"error-icon animated fadeIn\"\n                        src={IconError}\n                        alt={\"error\"}\n                    />\n                )}\n                {error && (\n                    <span className=\"error-text animated fadeIn\">{error}</span>\n                )}\n            </div>\n        );\n    }\n\n    private makeId = (length: number) => {\n        let text = \"\";\n        const possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\";\n\n        for (let i = 0; i < length; i++) {\n            text += possible.charAt(\n                Math.floor(Math.random() * possible.length)\n            );\n        }\n\n        return text;\n    };\n}\n","import React from \"react\";\nimport { Trans, WithTranslation, withTranslation } from \"react-i18next\";\nimport ValidationInput from \"../../../../ValidationInput/ValidationInput\";\nimport \"./CCCReceiverItem.css\";\n\ninterface OwnProps {\n    receiver: {\n        address: string;\n        quantity: string;\n    };\n    remainingAmount: string;\n    fee: string;\n    onAddressChange: (address: string) => void;\n    onAmountChange: (quantity: string) => void;\n    onAddressValidationCheck: () => void;\n    onAmountValidationCheck: () => void;\n    onFeeValidationCheck: () => void;\n    onFeeChange: (quantity: string) => void;\n    isAddressValid?: boolean;\n    isAmountValid?: boolean;\n    addressError?: string;\n    amountError?: string;\n    feeError?: string;\n    isFeeValid?: boolean;\n}\n\ntype Props = WithTranslation & OwnProps;\n\nclass CCCReceiverItem extends React.Component<Props> {\n    public render() {\n        const {\n            t,\n            receiver,\n            isAddressValid,\n            isAmountValid,\n            addressError,\n            amountError,\n            fee,\n            isFeeValid,\n            feeError\n        } = this.props;\n        return (\n            <div className=\"CCCReceiver-item animated fadeIn\">\n                <ValidationInput\n                    value={receiver.address}\n                    onChange={this.handleChangeAddressInput}\n                    labelText={t(\"send:ccc.receiver.label\")}\n                    placeholder={t(\"send:ccc.receiver.placeholder\")}\n                    showValidation={true}\n                    isValid={isAddressValid}\n                    onBlur={this.handleBlurAddressInput}\n                    error={addressError}\n                />\n                <div className=\"d-flex align-items-end\">\n                    <ValidationInput\n                        value={receiver.quantity}\n                        onChange={this.handleChangedAmountInput}\n                        labelText={t(\"send:ccc.amount.label\")}\n                        placeholder={t(\"send:ccc.amount.placeholder\")}\n                        type=\"number\"\n                        className=\"flex-grow-1 flex-shrink-1\"\n                        showValidation={true}\n                        isValid={isAmountValid}\n                        onBlur={this.handleBlurAmountInput}\n                        error={amountError}\n                        decimalScale={0}\n                    />\n                    <button\n                        type=\"button\"\n                        className=\"btn btn-primary max-btn\"\n                        onClick={this.handleMaxValueClick}\n                    >\n                        <Trans i18nKey=\"main:max\" />\n                    </button>\n                </div>\n                <div>\n                    <ValidationInput\n                        value={fee}\n                        onChange={this.handleChangeFeeInput}\n                        labelText={t(\"send:ccc.fee.label\")}\n                        placeholder={`100 (CCC)`}\n                        type=\"number\"\n                        className=\"flex-grow-1 flex-shrink-1\"\n                        showValidation={true}\n                        isValid={isFeeValid}\n                        tooltip=\"send:ccc.fee.tooltip\"\n                        onBlur={this.handleBlurFeeInput}\n                        error={feeError}\n                        decimalScale={0}\n                    />\n                </div>\n            </div>\n        );\n    }\n\n    private handleBlurAddressInput = () => {\n        const { onAddressValidationCheck } = this.props;\n        onAddressValidationCheck();\n    };\n\n    private handleBlurAmountInput = () => {\n        const { onAmountValidationCheck } = this.props;\n        onAmountValidationCheck();\n    };\n\n    private handleBlurFeeInput = () => {\n        const { onFeeValidationCheck } = this.props;\n        onFeeValidationCheck();\n    };\n\n    private handleMaxValueClick = () => {\n        const { onAmountChange, remainingAmount } = this.props;\n        onAmountChange(remainingAmount);\n    };\n\n    private handleChangeAddressInput = (\n        event: React.ChangeEvent<HTMLInputElement>\n    ) => {\n        const { onAddressChange } = this.props;\n        onAddressChange(event.target.value);\n    };\n\n    private handleChangedAmountInput = (\n        event: React.ChangeEvent<HTMLInputElement>\n    ) => {\n        const { onAmountChange } = this.props;\n        onAmountChange(event.target.value);\n    };\n\n    private handleChangeFeeInput = (\n        event: React.ChangeEvent<HTMLInputElement>\n    ) => {\n        const { onFeeChange } = this.props;\n        onFeeChange(event.target.value);\n    };\n}\n\nexport default withTranslation()(CCCReceiverItem);\n","import BigNumber from \"bignumber.js\";\nimport { PlatformAddress, U64 } from \"codechain-sdk/lib/core/classes\";\nimport React from \"react\";\nimport { Trans, WithTranslation, withTranslation } from \"react-i18next\";\nimport \"./CCCReceiverContainer.css\";\nimport CCCReceiverItem from \"./CCCReceiverItem/CCCReceiverItem\";\n\ninterface State {\n    receiver: {\n        address: string;\n        quantity: string;\n    };\n    fee: string;\n    isAddressValid?: boolean;\n    addressError?: string;\n    isAmountValid?: boolean;\n    amountError?: string;\n    isFeeValid?: boolean;\n    feeError?: string;\n}\n\ninterface OwnProps {\n    address: string;\n    totalAmount: U64;\n    isSending: boolean;\n    onSubmit: (receiver: { address: string; quantity: U64 }, fee: U64) => void;\n}\n\ntype Props = WithTranslation & OwnProps;\n\nconst MinimumFee = 100;\n\nclass CCCReceiverContainer extends React.Component<Props, State> {\n    public constructor(props: Props) {\n        super(props);\n        this.state = {\n            receiver: {\n                address: \"\",\n                quantity: \"\"\n            },\n            fee: `${MinimumFee}`,\n            isFeeValid: undefined,\n            feeError: undefined,\n            isAddressValid: undefined,\n            addressError: undefined,\n            isAmountValid: undefined,\n            amountError: undefined\n        };\n    }\n    public render() {\n        const {\n            receiver,\n            isAddressValid,\n            addressError,\n            isAmountValid,\n            amountError,\n            isFeeValid,\n            feeError,\n            fee\n        } = this.state;\n        const { isSending } = this.props;\n        return (\n            <div className=\"CCCReceiver-container\">\n                <form onSubmit={this.handleSubmit}>\n                    <div className=\"receivers\">\n                        <CCCReceiverItem\n                            fee={fee}\n                            receiver={receiver}\n                            onAddressChange={this.handleAddressChange}\n                            onAmountChange={this.handleAmountChange}\n                            onFeeChange={this.handleFeeChange}\n                            remainingAmount={this.calculateRemainingCCCString()}\n                            onAddressValidationCheck={\n                                this.handleAddressValidationCheck\n                            }\n                            onAmountValidationCheck={\n                                this.handleAmountValidationCheck\n                            }\n                            onFeeValidationCheck={this.handleFeeValidationCheck}\n                            isAddressValid={isAddressValid}\n                            isAmountValid={isAmountValid}\n                            addressError={addressError}\n                            amountError={amountError}\n                            feeError={feeError}\n                            isFeeValid={isFeeValid}\n                        />\n                    </div>\n                    <div className=\"mt-5\">\n                        <button\n                            disabled={isSending}\n                            type=\"submit\"\n                            className=\"btn btn-primary square w-100 send-btn\"\n                        >\n                            <Trans i18nKey=\"send:ccc.button\" />\n                        </button>\n                    </div>\n                </form>\n            </div>\n        );\n    }\n\n    private calculateRemainingCCCString = () => {\n        const { totalAmount } = this.props;\n        const { fee } = this.state;\n        const remainingCCC = totalAmount.value.minus(fee);\n        if (remainingCCC.gt(0)) {\n            return remainingCCC.toString();\n        } else {\n            return \"0\";\n        }\n    };\n\n    private handleAddressValidationCheck = () => {\n        const { receiver } = this.state;\n        const { t, address: myAddress } = this.props;\n        const address = receiver.address;\n        if (address === \"\") {\n            this.setState({\n                isAddressValid: false,\n                addressError: t(\"send:ccc.error.address.required\")\n            });\n            return false;\n        }\n        if (address === myAddress) {\n            this.setState({\n                isAddressValid: false,\n                addressError: t(\"send:ccc.error.address.not_equal\")\n            });\n            return false;\n        }\n        if (address) {\n            try {\n                PlatformAddress.fromString(address);\n                this.setState({\n                    isAddressValid: true,\n                    addressError: undefined\n                });\n                return true;\n            } catch (e) {\n                // nothing\n            }\n        }\n        this.setState({\n            isAddressValid: false,\n            addressError: t(\"send:ccc.error.address.invalid\")\n        });\n        return false;\n    };\n\n    private handleAmountValidationCheck = () => {\n        const { receiver, fee } = this.state;\n        const { t, totalAmount } = this.props;\n        const cccString = receiver.quantity;\n        if (cccString === \"\") {\n            this.setState({\n                isAmountValid: false,\n                amountError: t(\"send:ccc.error.amount.required\")\n            });\n            return false;\n        }\n        console.log(cccString);\n        const amountCCC = new BigNumber(cccString);\n        if (amountCCC.isNaN()) {\n            this.setState({\n                isAmountValid: false,\n                amountError: t(\"send:ccc.error.amount.invalid\")\n            });\n            return false;\n        }\n        if (amountCCC.lt(1)) {\n            this.setState({\n                isAmountValid: false,\n                amountError: t(\"send:ccc.error.amount.minimum\")\n            });\n            return false;\n        }\n        const amountFee = new BigNumber(fee);\n        if (amountCCC.plus(amountFee).gt(totalAmount.value)) {\n            this.setState({\n                isAmountValid: false,\n                amountError: t(\"send:ccc.error.amount.not_enough\")\n            });\n            return false;\n        }\n        this.setState({\n            isAmountValid: true,\n            amountError: undefined\n        });\n        return true;\n    };\n\n    private handleFeeValidationCheck = () => {\n        const { receiver, fee } = this.state;\n        const { t, totalAmount } = this.props;\n        const feeString = fee;\n        if (feeString === \"\") {\n            this.setState({\n                isFeeValid: false,\n                feeError: t(\"send:ccc.error.fee.required\")\n            });\n            return false;\n        }\n        const amountFee = new BigNumber(feeString);\n        if (amountFee.isNaN()) {\n            this.setState({\n                isFeeValid: false,\n                feeError: t(\"send:ccc.error.fee.invalid\")\n            });\n            return false;\n        }\n        if (amountFee.lt(MinimumFee)) {\n            this.setState({\n                isFeeValid: false,\n                feeError: t(\"send:ccc.error.fee.minimum\", {\n                    minimum: MinimumFee\n                })\n            });\n            return false;\n        }\n        const amountCCC = new BigNumber(\n            receiver.quantity === \"\" ? \"0\" : receiver.quantity\n        );\n        if (amountCCC.plus(amountFee).gt(totalAmount.value)) {\n            this.setState({\n                isFeeValid: false,\n                feeError: t(\"send:ccc.error.fee.not_enough\")\n            });\n            return false;\n        }\n        this.setState({\n            isFeeValid: true,\n            feeError: undefined\n        });\n        return true;\n    };\n\n    private handleAddressChange = (address: string) => {\n        const { receiver } = this.state;\n        this.setState({\n            receiver: {\n                address,\n                quantity: receiver.quantity\n            },\n            addressError: undefined,\n            isAddressValid: undefined\n        });\n    };\n\n    private handleAmountChange = (quantity: string) => {\n        const { receiver } = this.state;\n        this.setState({\n            receiver: {\n                address: receiver.address,\n                quantity\n            },\n            amountError: undefined,\n            isAmountValid: undefined\n        });\n    };\n\n    private handleFeeChange = (amount: string) => {\n        this.setState({\n            fee: amount,\n            feeError: undefined,\n            isFeeValid: undefined\n        });\n    };\n\n    private handleSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n        event.preventDefault();\n        const { receiver, fee } = this.state;\n\n        if (!this.handleAmountValidationCheck()) {\n            return;\n        }\n\n        if (!this.handleAddressValidationCheck()) {\n            return;\n        }\n\n        if (!this.handleFeeValidationCheck()) {\n            return;\n        }\n\n        const amountCCC = new BigNumber(receiver.quantity);\n        const amountFee = new BigNumber(fee);\n        this.props.onSubmit(\n            {\n                address: receiver.address,\n                quantity: new U64(amountCCC)\n            },\n            new U64(amountFee)\n        );\n    };\n}\n\nexport default withTranslation()(CCCReceiverContainer);\n","import React from \"react\";\nimport { Trans, WithTranslation, withTranslation } from \"react-i18next\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { SDK } from \"codechain-sdk\";\nimport { SignedTransaction, U64 } from \"codechain-sdk/lib/core/classes\";\nimport { LocalKeyStore } from \"codechain-sdk/lib/key/LocalKeyStore\";\nimport _ from \"lodash\";\nimport { connect } from \"react-redux\";\nimport Spinner from \"react-spinkit\";\nimport { toast } from \"react-toastify\";\nimport { Action } from \"redux\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { NetworkId } from \"../../../model/address\";\nimport {\n    getAssetAddressPath,\n    getCCKey,\n    getFirstSeedHash,\n    getPlatformAddressPath\n} from \"../../../model/keystore\";\nimport { ReducerConfigure } from \"../../../redux\";\nimport accountActions from \"../../../redux/account/accountActions\";\nimport chainActions from \"../../../redux/chain/chainActions\";\nimport { getCodeChainHost } from \"../../../utils/network\";\nimport { getAssetKeys, getPlatformKeys } from \"../../../utils/storage\";\nimport CCCReceiverContainer from \"./CCCReceiverContainer/CCCReceiverContainer\";\nimport CheckIcon from \"./img/check_icon.svg\";\nimport \"./SendCCC.css\";\n\ninterface OwnProps {\n    address: string;\n    onClose: () => void;\n}\n\ninterface StateProps {\n    availableQuark?: U64 | null;\n    networkId: NetworkId;\n    passphrase: string;\n}\n\ninterface DispatchProps {\n    fetchAvailableQuark: (address: string) => void;\n    sendSignedTransaction: (\n        address: string,\n        signedTransaction: SignedTransaction\n    ) => Promise<unknown>;\n}\n\ninterface State {\n    isSending: boolean;\n    isSent: boolean;\n}\n\ntype Props = WithTranslation & OwnProps & StateProps & DispatchProps;\n\nclass SendCCC extends React.Component<Props, State> {\n    constructor(props: Props) {\n        super(props);\n        this.state = {\n            isSending: false,\n            isSent: false\n        };\n    }\n    public render() {\n        const { onClose, availableQuark, address } = this.props;\n        const { isSending, isSent } = this.state;\n        if (!availableQuark) {\n            return (\n                <div>\n                    <div className=\"Send-CCC\">\n                        <div className=\"loading-container\" />\n                    </div>\n                </div>\n            );\n        }\n        return (\n            <div className=\"Send-CCC animated fadeIn\">\n                <div className=\"cancel-icon-container\" onClick={onClose}>\n                    <FontAwesomeIcon className=\"cancel-icon\" icon=\"times\" />\n                </div>\n                <h2 className=\"title\">\n                    <Trans i18nKey=\"send:ccc.title\" />\n                </h2>\n                {isSent ? (\n                    <div className=\"d-flex align-items-center justify-content-center text-center complete-container\">\n                        <div className=\"text-center\">\n                            <div>\n                                <img src={CheckIcon} alt={\"check\"} />\n                            </div>\n                            <div className=\"mt-3\">\n                                <span>\n                                    <Trans i18nKey=\"send:ccc.complete\" />\n                                </span>\n                            </div>\n                        </div>\n                    </div>\n                ) : (\n                    <div>\n                        <div className=\"d-flex align-items-center balance-container mb-4\">\n                            <div className=\"mr-auto balance-text\">\n                                <Trans i18nKey=\"send:ccc.balance\" />\n                            </div>\n                            <span className=\"amount number\">\n                                {availableQuark.toLocaleString()} CCC\n                            </span>\n                        </div>\n                        <CCCReceiverContainer\n                            address={address}\n                            onSubmit={this.handleSubmit}\n                            totalAmount={availableQuark}\n                            isSending={isSending}\n                        />\n                    </div>\n                )}\n                {isSending && (\n                    <div className=\"sending-panel d-flex align-items-center justify-content-center\">\n                        <Spinner name=\"line-scale\" color=\"white\" />\n                    </div>\n                )}\n            </div>\n        );\n    }\n\n    public updateWindowDimensions = () => {\n        if (window.innerWidth <= 872) {\n            this.addModalOpenClass();\n        } else {\n            this.removeModalOpenClass();\n        }\n    };\n\n    public async componentDidMount() {\n        this.updateWindowDimensions();\n        window.addEventListener(\"resize\", this.updateWindowDimensions);\n        this.init();\n    }\n\n    public componentWillUnmount() {\n        this.removeModalOpenClass();\n        window.removeEventListener(\"resize\", this.updateWindowDimensions);\n    }\n\n    private addModalOpenClass = () => {\n        document.body.className = \"modal-open\";\n    };\n\n    private removeModalOpenClass = () => {\n        document.body.className = \"\";\n    };\n\n    private init = () => {\n        const { address, fetchAvailableQuark } = this.props;\n        fetchAvailableQuark(address);\n    };\n\n    private handleSubmit = async (\n        receiver: {\n            address: string;\n            quantity: U64;\n        },\n        fee: U64\n    ) => {\n        const { networkId, address, passphrase } = this.props;\n        const sdk = new SDK({\n            server: getCodeChainHost(networkId),\n            networkId\n        });\n\n        const tx = sdk.core.createPayTransaction({\n            recipient: receiver.address,\n            quantity: receiver.quantity\n        });\n\n        const ccKey = await getCCKey();\n\n        const storedPlatformKeys = getPlatformKeys(networkId);\n        const storedAssetKeys = getAssetKeys(networkId);\n        const seedHash = await getFirstSeedHash();\n\n        const platformKeyMapping = _.reduce(\n            storedPlatformKeys,\n            (memo, storedPlatformKey) => {\n                return {\n                    ...memo,\n                    [storedPlatformKey.key]: {\n                        seedHash,\n                        path: getPlatformAddressPath(\n                            storedPlatformKey.pathIndex\n                        )\n                    }\n                };\n            },\n            {}\n        );\n\n        const assetKeyMapping = _.reduce(\n            storedAssetKeys,\n            (memo, storedAssetKey) => {\n                return {\n                    ...memo,\n                    [storedAssetKey.key]: {\n                        seedHash,\n                        path: getAssetAddressPath(storedAssetKey.pathIndex)\n                    }\n                };\n            },\n            {}\n        );\n\n        const keyStore = new LocalKeyStore(ccKey, {\n            platform: platformKeyMapping,\n            asset: assetKeyMapping\n        });\n        const seq = await sdk.rpc.chain.getSeq(address);\n        const { transactions } = await sdk.rpc.chain.getPendingTransactions();\n        const newSeq =\n            seq +\n            transactions.filter(\n                t => t.getSignerAddress({ networkId }).toString() === address\n            ).length;\n        const signedTx = await sdk.key.signTransaction(tx, {\n            account: address,\n            keyStore,\n            fee,\n            seq: newSeq,\n            passphrase\n        });\n        this.setState({ isSending: true });\n        try {\n            await this.props.sendSignedTransaction(address, signedTx);\n            this.setState({ isSent: true });\n        } catch (e) {\n            toast.error(\"Server is not responding.\", {\n                position: toast.POSITION.BOTTOM_CENTER,\n                autoClose: 5000,\n                closeButton: false,\n                hideProgressBar: true\n            });\n            console.error(e);\n        }\n        this.setState({ isSending: false });\n    };\n}\n\nconst mapStateToProps = (state: ReducerConfigure, ownProps: OwnProps) => {\n    const { address } = ownProps;\n    const availableQuark = state.accountReducer.availableQuark[address];\n    const networkId = state.globalReducer.networkId;\n    const passphrase = state.globalReducer.passphrase!;\n    return {\n        availableQuark,\n        networkId,\n        passphrase\n    };\n};\n\nconst mapDispatchToProps = (\n    dispatch: ThunkDispatch<ReducerConfigure, void, Action>\n) => ({\n    fetchAvailableQuark: (address: string) => {\n        dispatch(accountActions.fetchAvailableQuark(address));\n    },\n    sendSignedTransaction: (\n        address: string,\n        signedTransaction: SignedTransaction\n    ) => {\n        return dispatch(\n            chainActions.sendSignedTransaction(address, signedTransaction)\n        );\n    }\n});\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withTranslation()(SendCCC));\n","import { U64 } from \"codechain-sdk/lib/core/classes\";\nimport _ from \"lodash\";\nimport React from \"react\";\nimport { Trans, WithTranslation, withTranslation } from \"react-i18next\";\nimport { connect } from \"react-redux\";\nimport { match } from \"react-router\";\nimport { Action } from \"redux\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { ReducerConfigure } from \"../../redux\";\nimport accountActions from \"../../redux/account/accountActions\";\nimport walletActions from \"../../redux/wallet/walletActions\";\nimport AddressContainer from \"../AddressContainer/AddressContainer\";\nimport PayTxHistory from \"../PayTxHistory/PayTxHistory\";\nimport \"./Account.css\";\nimport SendCCC from \"./SendAsset/SendCCC\";\n\ninterface OwnProps {\n    match: match<{ address: string }>;\n}\n\ninterface StateProps {\n    availableQuark?: U64 | null;\n    addressIndex?: number | null;\n}\n\ninterface DispatchProps {\n    fetchAvailableQuark: (address: string) => void;\n    fetchWalletFromStorageIfNeed: () => void;\n}\n\ninterface State {\n    sendingCCC: boolean;\n}\n\ntype Props = WithTranslation & OwnProps & StateProps & DispatchProps;\n\nclass Account extends React.Component<Props, State> {\n    private refresher: any;\n    public constructor(props: Props) {\n        super(props);\n        this.state = {\n            sendingCCC: false\n        };\n    }\n    public componentWillReceiveProps(props: Props) {\n        const {\n            match: {\n                params: { address }\n            }\n        } = this.props;\n        const {\n            match: {\n                params: { address: nextAddress }\n            }\n        } = props;\n        if (nextAddress !== address) {\n            this.init();\n        }\n    }\n\n    public componentDidMount() {\n        this.init();\n    }\n\n    public componentWillUnmount() {\n        this.clearInterval();\n    }\n\n    public render() {\n        const {\n            availableQuark,\n            match: {\n                params: { address }\n            },\n            addressIndex\n        } = this.props;\n        const { sendingCCC } = this.state;\n        if (!availableQuark) {\n            return null;\n        }\n        return (\n            <div className=\"Account animated fadeIn\">\n                <div className=\"d-flex\">\n                    <div className=\"left-panel mx-auto\">\n                        <AddressContainer\n                            address={address}\n                            backButtonPath=\"/\"\n                            addressIndex={addressIndex}\n                        />\n                        <div>\n                            <div className=\"element-container mb-3\">\n                                <h4 className=\"element-title\">\n                                    <Trans i18nKey=\"send:ccc.balance\" />\n                                </h4>\n                                <div className=\"ccc-text number\">\n                                    <span className=\"mr-2\">\n                                        {availableQuark.toLocaleString()}\n                                    </span>\n                                    <span>CCC</span>\n                                </div>\n                                <div className=\"mt-4\">\n                                    <button\n                                        className=\"btn btn-primary square reverse send-btn mr-3 mb-3\"\n                                        onClick={this.openSendingCCC}\n                                        disabled={sendingCCC}\n                                    >\n                                        <Trans i18nKey=\"send:ccc.button\" />\n                                    </button>\n                                </div>\n                            </div>\n                            <div className=\"element-container\">\n                                <h4 className=\"mb-3\">\n                                    <Trans i18nKey=\"send:ccc.recent.title\" />\n                                </h4>\n                                <PayTxHistory address={address} />\n                            </div>\n                        </div>\n                    </div>\n                    {sendingCCC && (\n                        <div className=\"right-container\">\n                            <div className=\"right-panel\">\n                                <SendCCC\n                                    address={address}\n                                    onClose={this.handleCloseSendingCCC}\n                                />\n                            </div>\n                        </div>\n                    )}\n                </div>\n            </div>\n        );\n    }\n\n    private openSendingCCC = () => {\n        window.scrollTo(0, 0);\n        this.setState({ sendingCCC: true });\n    };\n\n    private handleCloseSendingCCC = () => {\n        this.setState({\n            sendingCCC: false\n        });\n    };\n\n    private init = async () => {\n        this.clearInterval();\n        this.refresher = setInterval(() => {\n            this.fetchAll();\n        }, 10000);\n        this.fetchAll();\n    };\n    private clearInterval = () => {\n        if (this.refresher) {\n            clearInterval(this.refresher);\n        }\n    };\n    private fetchAll = async () => {\n        const {\n            match: {\n                params: { address }\n            }\n        } = this.props;\n        this.props.fetchAvailableQuark(address);\n        this.props.fetchWalletFromStorageIfNeed();\n    };\n}\n\nconst mapStateToProps = (state: ReducerConfigure, props: OwnProps) => {\n    const {\n        match: {\n            params: { address }\n        }\n    } = props;\n    const availableQuark = state.accountReducer.availableQuark[address];\n    const assetAddress = _.find(\n        state.walletReducer.platformAddresses,\n        aa => aa.address === address\n    );\n    return {\n        availableQuark,\n        addressIndex: assetAddress && assetAddress.index\n    };\n};\nconst mapDispatchToProps = (\n    dispatch: ThunkDispatch<ReducerConfigure, void, Action>\n) => ({\n    fetchAvailableQuark: (address: string) => {\n        dispatch(accountActions.fetchAvailableQuark(address));\n    },\n    fetchWalletFromStorageIfNeed: () => {\n        dispatch(walletActions.fetchWalletFromStorageIfNeed());\n    }\n});\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withTranslation()(Account));\n","import React from \"react\";\nimport { NetworkId } from \"../../model/address\";\nimport { getIndexerHost } from \"../network\";\nconst Identicon = require(\"identicon.js\");\nconst sha256 = require(\"js-sha256\");\n\ninterface Props {\n    data: string;\n    className?: string;\n    size: number;\n    isAssetImage: boolean;\n    networkId: NetworkId;\n}\ninterface State {\n    requestUrl?: string;\n}\n\nexport class ImageLoader extends React.Component<Props, State> {\n    constructor(prop: Props) {\n        super(prop);\n        let requestUrl;\n        if (prop.isAssetImage) {\n            const host = getIndexerHost(prop.networkId || \"cc\");\n            requestUrl = `${host}/api/asset-image/${prop.data}`;\n        } else {\n            requestUrl = this.getDefaultImage();\n        }\n        this.state = {\n            requestUrl\n        };\n    }\n\n    public render() {\n        const { className, size } = this.props;\n        const { requestUrl } = this.state;\n\n        return (\n            <img\n                className={className}\n                style={{ verticalAlign: \"middle\", width: size, height: size }}\n                src={requestUrl}\n                alt={\"loader\"}\n                onError={this.fallback}\n            />\n        );\n    }\n\n    private getDefaultImage = () => {\n        const hash = sha256.create();\n        hash.update(this.props.data);\n        const identiconData = new Identicon(\n            hash.hex(),\n            this.props.size\n        ).toString();\n        return `data:image/png;base64,${identiconData}`;\n    };\n\n    private fallback = () => {\n        this.setState({ requestUrl: this.getDefaultImage() });\n    };\n}\n","import React from \"react\";\nimport CopyToClipboard from \"react-copy-to-clipboard\";\nimport { connect } from \"react-redux\";\nimport { RouteComponentProps, withRouter } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport { Action } from \"redux\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { AddressType, NetworkId, WalletAddress } from \"../../../model/address\";\nimport { ReducerConfigure } from \"../../../redux\";\nimport \"./AddressItem.css\";\n\nimport { U64 } from \"codechain-sdk/lib/core/classes\";\nimport { Trans, withTranslation, WithTranslation } from \"react-i18next\";\nimport accountActions from \"../../../redux/account/accountActions\";\nimport assetActions from \"../../../redux/asset/assetActions\";\nimport { ImageLoader } from \"../../../utils/ImageLoader/ImageLoader\";\nimport copyBtnHover from \"./img/copy-hover.svg\";\nimport copyBtn from \"./img/copy.svg\";\n\ninterface OwnProps {\n    walletAddress: WalletAddress;\n    className?: string | null;\n}\ninterface DispatchProps {\n    fetchAvailableQuark: (address: string) => void;\n    fetchAvailableAssets: (address: string) => void;\n}\ninterface StateProps {\n    availableQuark?: U64 | null;\n    availableAssets?:\n        | {\n              assetType: string;\n              quantities: U64;\n          }[]\n        | null;\n    networkId: NetworkId;\n}\ninterface State {\n    isCopyHovering: boolean;\n}\n\ntype Props = WithTranslation &\n    RouteComponentProps &\n    OwnProps &\n    DispatchProps &\n    StateProps;\n\nclass AddressItem extends React.Component<Props, State> {\n    public constructor(props: Props) {\n        super(props);\n        this.state = {\n            isCopyHovering: false\n        };\n    }\n    public componentDidMount() {\n        const {\n            walletAddress,\n            fetchAvailableQuark,\n            fetchAvailableAssets\n        } = this.props;\n        if (walletAddress.type === AddressType.Platform) {\n            fetchAvailableQuark(walletAddress.address);\n        }\n        if (walletAddress.type === AddressType.Asset) {\n            fetchAvailableAssets(walletAddress.address);\n        }\n    }\n    public render() {\n        const {\n            walletAddress,\n            className,\n            availableQuark,\n            availableAssets,\n            networkId\n        } = this.props;\n        const { isCopyHovering } = this.state;\n        return (\n            <div\n                className={`Address-item animated fadeIn ${className}`}\n                onClick={this.handleClick}\n            >\n                <div\n                    className={`item-body ${\n                        walletAddress.type === AddressType.Platform\n                            ? \"platform-type\"\n                            : \"asset-type\"\n                    }`}\n                >\n                    <div>\n                        <p className=\"address-name mb-0\">\n                            <Trans\n                                i18nKey=\"main:address\"\n                                values={{\n                                    index: walletAddress.index + 1\n                                }}\n                            />\n                        </p>\n                    </div>\n                    <span className=\"address-text mono\">\n                        {walletAddress.address.slice(0, 10)}\n                        ...\n                        {walletAddress.address.slice(\n                            walletAddress.address.length - 10,\n                            walletAddress.address.length\n                        )}\n                    </span>\n                    <CopyToClipboard\n                        text={walletAddress.address}\n                        onCopy={this.handleCopyAddress}\n                    >\n                        <img\n                            className=\"ml-3\"\n                            src={isCopyHovering ? copyBtnHover : copyBtn}\n                            alt={\"copy\"}\n                            onMouseOver={this.hoverCopyBtn}\n                            onMouseOut={this.outCopyBtn}\n                        />\n                    </CopyToClipboard>\n                </div>\n                {walletAddress.type === AddressType.Platform && (\n                    <div className=\"platform-account\">\n                        {availableQuark ? (\n                            <span className=\"number balance\">\n                                {availableQuark.toLocaleString()} CCC\n                            </span>\n                        ) : (\n                            <span className=\"number balance\">\n                                <Trans i18nKey=\"main:address_loading\" />\n                            </span>\n                        )}\n                    </div>\n                )}\n                {walletAddress.type === AddressType.Asset && (\n                    <div className=\"platform-account\">\n                        {availableAssets ? (\n                            availableAssets.length > 0 ? (\n                                [\n                                    availableAssets.slice(0, 3).map(a => (\n                                        <div\n                                            className=\"asset-image\"\n                                            key={a.assetType}\n                                        >\n                                            <ImageLoader\n                                                isAssetImage={true}\n                                                data={a.assetType}\n                                                size={37}\n                                                networkId={networkId}\n                                            />\n                                        </div>\n                                    )),\n                                    availableAssets.length > 3 && (\n                                        <span key=\"others\" className=\"balance\">\n                                            + {availableAssets.length - 3}\n                                        </span>\n                                    )\n                                ]\n                            ) : (\n                                <span className=\"balance\">\n                                    <Trans i18nKey=\"main:asset.no_asset\" />\n                                </span>\n                            )\n                        ) : (\n                            <span className=\"number balance\">\n                                <Trans i18nKey=\"main:address_loading\" />\n                            </span>\n                        )}\n                    </div>\n                )}\n            </div>\n        );\n    }\n    private handleClick = () => {\n        const { walletAddress, history } = this.props;\n        const { isCopyHovering } = this.state;\n        if (isCopyHovering) {\n            return;\n        }\n        if (walletAddress.type === AddressType.Platform) {\n            history.push(`/${walletAddress.address}/account`);\n        } else {\n            history.push(`/${walletAddress.address}/assets`);\n        }\n    };\n    private hoverCopyBtn = () => {\n        this.setState({ isCopyHovering: true });\n    };\n    private outCopyBtn = () => {\n        this.setState({ isCopyHovering: false });\n    };\n    private handleCopyAddress = () => {\n        toast.info(this.props.t(\"main:copied\"), {\n            position: toast.POSITION.BOTTOM_CENTER,\n            autoClose: 1000,\n            closeButton: false,\n            hideProgressBar: true\n        });\n    };\n}\n\nconst mapStateToProps = (state: ReducerConfigure, props: OwnProps) => {\n    const { walletAddress } = props;\n    const availableQuark =\n        state.accountReducer.availableQuark[walletAddress.address];\n    const availableAssets =\n        state.assetReducer.availableAssets[walletAddress.address];\n    return {\n        availableQuark,\n        availableAssets,\n        networkId: state.globalReducer.networkId\n    };\n};\nconst mapDispatchToProps = (\n    dispatch: ThunkDispatch<ReducerConfigure, void, Action>\n) => ({\n    fetchAvailableQuark: (address: string) => {\n        dispatch(accountActions.fetchAvailableQuark(address));\n    },\n    fetchAvailableAssets: (address: string) => {\n        dispatch(assetActions.fetchAvailableAssets(address));\n    }\n});\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withRouter(withTranslation()(AddressItem)));\n","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport _ from \"lodash\";\nimport React from \"react\";\nimport { Trans, WithTranslation, withTranslation } from \"react-i18next\";\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { Col, Container, Row } from \"reactstrap\";\nimport { Action } from \"redux\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { NetworkId, WalletAddress } from \"../../model/address\";\nimport { ReducerConfigure } from \"../../redux\";\nimport actions from \"../../redux/wallet/walletActions\";\nimport AddressItem from \"./AddressItem/AddressItem\";\nimport \"./AddressList.css\";\n\ninterface StateProps {\n    platformAddresses?: WalletAddress[] | null;\n    assetAddresses?: WalletAddress[] | null;\n    networkId: NetworkId;\n    isLoadingAssetAddresses?: boolean | null;\n    isLoadingPlatformAddresses?: boolean | null;\n}\n\ninterface DispatchProps {\n    fetchWalletFromStorageIfNeed: () => void;\n    createWalletAssetAddress: () => void;\n    createWalletPlatformAddress: () => void;\n}\ntype Props = WithTranslation & StateProps & DispatchProps;\n\nclass AddressList extends React.Component<Props> {\n    public componentDidMount() {\n        this.props.fetchWalletFromStorageIfNeed();\n    }\n    public componentWillReceiveProps(props: Props) {\n        const { networkId } = this.props;\n        const { networkId: nextNetworkId } = props;\n        if (networkId !== nextNetworkId) {\n            this.props.fetchWalletFromStorageIfNeed();\n        }\n    }\n    public render() {\n        const { platformAddresses, assetAddresses, networkId } = this.props;\n        return (\n            <div className=\"Address-list animated fadeIn\">\n                <Container>\n                    <div className=\"asset-address-container mb-5\">\n                        <div className=\"deco asset-title-deco\" />\n                        <h5 className=\"mb-1\">\n                            <Trans i18nKey=\"main:asset.title\" />\n                        </h5>\n                        <div className=\"mb-4 address-description\">\n                            <span>\n                                <Trans i18nKey=\"main:asset.detail\" />\n                            </span>\n                        </div>\n                        <Row className=\"address-item-container\">\n                            {_.map(assetAddresses, (address, index: number) => (\n                                <Col md={6} lg={4} xl={3} key={index}>\n                                    <AddressItem walletAddress={address} />\n                                </Col>\n                            ))}\n                            <Col md={6} lg={4} xl={3}>\n                                {!assetAddresses ? (\n                                    <div className=\"restoring\">\n                                        <Trans i18nKey=\"main:asset.restore\" />\n                                    </div>\n                                ) : (\n                                    <div>\n                                        <div\n                                            onClick={this.createAssetAddress}\n                                            className=\"add-address-btn d-flex align-items-center justify-content-center\"\n                                        >\n                                            <Trans i18nKey=\"main:asset.add\" />\n                                            <FontAwesomeIcon\n                                                className=\"ml-2\"\n                                                icon=\"plus-circle\"\n                                            />\n                                        </div>\n                                        {assetAddresses.length > 0 && (\n                                            <Link to=\"/mint\">\n                                                <div className=\"mint-asset-btn d-flex align-items-center justify-content-center\">\n                                                    <Trans i18nKey=\"main:asset.mint\" />\n                                                </div>\n                                            </Link>\n                                        )}\n                                    </div>\n                                )}\n                            </Col>\n                        </Row>\n                    </div>\n                    <hr />\n                    <div className=\"platform-address-container\">\n                        <div className=\"deco platform-title-deco\" />\n                        <h5 className=\"mb-1\">\n                            <Trans i18nKey=\"main:ccc.title\" />\n                        </h5>\n                        <div className=\"mb-4 address-description\">\n                            <span>\n                                <Trans i18nKey=\"main:ccc.detail\" />\n                            </span>\n                        </div>\n                        <Row className=\"address-item-container\">\n                            {_.map(\n                                platformAddresses,\n                                (address, index: number) => (\n                                    <Col md={6} lg={4} xl={3} key={index}>\n                                        <AddressItem walletAddress={address} />\n                                    </Col>\n                                )\n                            )}\n                            <Col md={6} lg={4} xl={3}>\n                                {!platformAddresses ? (\n                                    <div className=\"restoring\">\n                                        <Trans i18nKey=\"main:ccc.restore\" />\n                                    </div>\n                                ) : (\n                                    <div>\n                                        <div\n                                            onClick={this.createPlatformAddress}\n                                            className=\"add-address-btn d-flex align-items-center justify-content-center\"\n                                        >\n                                            <Trans i18nKey=\"main:ccc.add\" />\n                                            <FontAwesomeIcon\n                                                className=\"ml-2\"\n                                                icon=\"plus-circle\"\n                                            />\n                                        </div>\n                                        {platformAddresses.length > 0 &&\n                                            (networkId === \"wc\" && (\n                                                <a\n                                                    href=\"https://corgi.codechain.io/faucet\"\n                                                    target=\"_blank\"\n                                                    rel=\"noopener noreferrer\"\n                                                >\n                                                    <div className=\"buy-CCC-btn d-flex align-items-center justify-content-center\">\n                                                        <Trans i18nKey=\"main:ccc.faucet\" />\n                                                    </div>\n                                                </a>\n                                            ))}\n                                    </div>\n                                )}\n                            </Col>\n                        </Row>\n                    </div>\n                </Container>\n            </div>\n        );\n    }\n    private createPlatformAddress = async () => {\n        const { createWalletPlatformAddress } = this.props;\n        createWalletPlatformAddress();\n    };\n\n    private createAssetAddress = async () => {\n        const { createWalletAssetAddress } = this.props;\n        createWalletAssetAddress();\n    };\n}\nconst mapStateToProps = (state: ReducerConfigure) => ({\n    platformAddresses: state.walletReducer.platformAddresses,\n    assetAddresses: state.walletReducer.assetAddresses,\n    networkId: state.globalReducer.networkId,\n    isLoadingAssetAddresses: state.walletReducer.isLoadingAssetAddresses,\n    isLoadingPlatformAddresses: state.walletReducer.isLoadingPlatformAddresses\n});\nconst mapDispatchToProps = (\n    dispatch: ThunkDispatch<ReducerConfigure, void, Action>\n) => ({\n    fetchWalletFromStorageIfNeed: () => {\n        dispatch(actions.fetchWalletFromStorageIfNeed());\n    },\n    createWalletPlatformAddress: () => {\n        dispatch(actions.createWalletPlatformAddress());\n    },\n    createWalletAssetAddress: () => {\n        dispatch(actions.createWalletAssetAddress());\n    }\n});\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withTranslation()(AddressList));\n","export const parseMetadata = (metadata: string): Metadata => {\n    try {\n        return JSON.parse(metadata);\n    } catch {\n        return {};\n    }\n};\n\nexport interface Metadata {\n    name?: string;\n    description?: string;\n    icon_url?: string;\n    gateway?: { url?: string };\n}\n","import { AssetSchemeDoc, TransactionDoc } from \"codechain-indexer-types\";\nimport { H160, U64 } from \"codechain-sdk/lib/core/classes\";\nimport moment from \"moment\";\nimport React from \"react\";\nimport { Trans, withTranslation, WithTranslation } from \"react-i18next\";\nimport { connect } from \"react-redux\";\nimport MediaQuery from \"react-responsive\";\nimport { Action } from \"redux\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { NetworkId } from \"../../../../model/address\";\nimport { ReducerConfigure } from \"../../../../redux\";\nimport assetActions from \"../../../../redux/asset/assetActions\";\nimport { ImageLoader } from \"../../../../utils/ImageLoader/ImageLoader\";\nimport { parseMetadata } from \"../../../../utils/metadata\";\nimport { getExplorerHost } from \"../../../../utils/network\";\n\ninterface OwnProps {\n    index: number;\n    timestamp: number;\n    networkId: NetworkId;\n    tx: TransactionDoc;\n    isPending: boolean;\n    history: {\n        assetType: string;\n        inputQuantities: U64;\n        outputQuantities: U64;\n        burnQuantities: U64;\n    };\n}\n\ninterface StateProps {\n    assetScheme?: AssetSchemeDoc | null;\n}\n\ninterface DispatchProps {\n    fetchAssetSchemeIfNeed: (assetType: H160) => void;\n}\n\ntype Props = OwnProps & StateProps & DispatchProps & WithTranslation;\nclass AssetTxItemEntity extends React.Component<Props, any> {\n    public componentDidMount() {\n        this.props.fetchAssetSchemeIfNeed(\n            new H160(this.props.history.assetType)\n        );\n    }\n    public render() {\n        const {\n            history,\n            timestamp,\n            networkId,\n            tx,\n            isPending,\n            assetScheme,\n            t\n        } = this.props;\n\n        let metadata;\n        if (assetScheme) {\n            metadata = parseMetadata(assetScheme.metadata);\n        }\n        return (\n            <div className=\"d-flex Asset-tx-item align-items-center\">\n                <div className=\"date-container number\">\n                    <MediaQuery query=\"(max-width: 768px)\">\n                        {moment.unix(timestamp).format(\"MM-DD[\\r\\n]HH:mm\")}\n                    </MediaQuery>\n                    <MediaQuery query=\"(min-width: 769px)\">\n                        {moment.unix(timestamp).format(\"YYYY-MM-DD[\\r\\n]HH:mm\")}\n                    </MediaQuery>\n                </div>\n                <div className=\"asset-info-container\">\n                    <div className=\"d-flex\">\n                        <ImageLoader\n                            className=\"asset-image mr-2\"\n                            data={history.assetType}\n                            size={18}\n                            isAssetImage={true}\n                            networkId={networkId}\n                        />\n                        <span className=\"asset-name\">\n                            {(metadata && metadata.name) ||\n                                `0x${history.assetType}`}\n                        </span>\n                    </div>\n                    <a\n                        className=\"mono transaction-hash\"\n                        target=\"_blank\"\n                        rel=\"noopener noreferrer\"\n                        href={`${getExplorerHost(networkId)}/tx/${tx.hash}`}\n                    >\n                        0x\n                        {tx.hash}\n                    </a>\n                    {tx.type === \"transferAsset\" &&\n                        tx.transferAsset.metadata &&\n                        tx.transferAsset.metadata !== \"\" && (\n                            <div className=\"memo-container\">\n                                <span className=\"memo-text\">\n                                    {t(\"main:memo\")}:{\" \"}\n                                    {tx.transferAsset.metadata}\n                                </span>\n                            </div>\n                        )}\n                </div>\n                <div className=\"balance-container number\">\n                    {this.renderQuantity(history)}\n                </div>\n                <div className=\"status-container\">\n                    {isPending ? (\n                        <span className=\"pending\">\n                            <Trans i18nKey=\"main:pending\" />\n                        </span>\n                    ) : (\n                        <span className=\"confirmed\">\n                            <Trans i18nKey=\"main:confirmed\" />\n                        </span>\n                    )}\n                </div>\n            </div>\n        );\n    }\n\n    private renderQuantity = (history: {\n        assetType: string;\n        inputQuantities: U64;\n        outputQuantities: U64;\n        burnQuantities: U64;\n    }) => {\n        if (\n            history.outputQuantities.gt(\n                U64.plus(history.inputQuantities, history.burnQuantities)\n            )\n        ) {\n            const quantity = U64.minus(\n                history.outputQuantities,\n                U64.plus(history.inputQuantities, history.burnQuantities)\n            );\n            return `+${quantity.toLocaleString()}`;\n        } else {\n            const quantity = U64.minus(\n                U64.plus(history.inputQuantities, history.burnQuantities),\n                history.outputQuantities\n            );\n            return `-${quantity.toLocaleString()}`;\n        }\n    };\n}\n\nconst mapStateToProps = (state: ReducerConfigure, ownProps: OwnProps) => {\n    const assetScheme =\n        state.assetReducer.assetScheme[ownProps.history.assetType];\n    return {\n        assetScheme: assetScheme && assetScheme.data\n    };\n};\nconst mapDispatchToProps = (\n    dispatch: ThunkDispatch<ReducerConfigure, void, Action>\n) => ({\n    fetchAssetSchemeIfNeed: (assetType: H160) => {\n        dispatch(assetActions.fetchAssetSchemeIfNeed(assetType));\n    }\n});\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withTranslation()(AssetTxItemEntity));\n","import { TransactionDoc } from \"codechain-indexer-types\";\nimport _ from \"lodash\";\nimport React from \"react\";\nimport { NetworkId } from \"../../../model/address\";\nimport { TxUtil } from \"../../../utils/transaction\";\nimport \"./AssetTxItem.css\";\nimport AssetTxItemEntity from \"./AssetTxItemEntity\";\n\ninterface Props {\n    tx: TransactionDoc;\n    isPending: boolean;\n    timestamp: number;\n    address: string;\n    networkId: NetworkId;\n}\n\nexport default class AssetTxItem extends React.Component<Props, any> {\n    public render() {\n        const { tx, address, networkId, isPending, timestamp } = this.props;\n        const assetHistory = TxUtil.getAggsAsset(address, tx);\n        return _.map(assetHistory, (history, index) => (\n            <AssetTxItemEntity\n                key={`${history.assetType}-${index}`}\n                tx={tx}\n                history={history}\n                index={index}\n                timestamp={timestamp}\n                isPending={isPending}\n                networkId={networkId}\n            />\n        ));\n    }\n}\n","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { TransactionDoc } from \"codechain-indexer-types\";\nimport { H160 } from \"codechain-sdk/lib/core/classes\";\nimport _ from \"lodash\";\nimport React from \"react\";\nimport { Trans, WithTranslation, withTranslation } from \"react-i18next\";\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { Action } from \"redux\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { NetworkId } from \"../../model/address\";\nimport { ReducerConfigure } from \"../../redux\";\nimport chainActions from \"../../redux/chain/chainActions\";\nimport { getIdByAddressAssetType } from \"../../redux/chain/chainReducer\";\nimport \"./AssetTxHistory.css\";\nimport AssetTxItem from \"./AssetTxItem/AssetTxItem\";\nimport Empty from \"./img/cautiondisabled.svg\";\n\ninterface OwnProps {\n    address: string;\n    assetType?: H160;\n}\n\ninterface StateProps {\n    pendingTxList?: TransactionDoc[] | null;\n    txList?: TransactionDoc[] | null;\n    hasNextPage?: boolean | null;\n    hasPreviousPage?: boolean | null;\n    lastEvaluatedKey?: string | null;\n    firstEvaluatedKey?: string | null;\n    networkId: NetworkId;\n}\n\ninterface DispatchProps {\n    fetchPendingTxListIfNeed: (address: string) => void;\n    fetchTxListIfNeed: (\n        address: string,\n        options?: {\n            lastEvaluatedKey?: string | null;\n            firstEvaluatedKey?: string | null;\n        }\n    ) => void;\n    fetchTxListByAssetTypeIfNeed: (\n        address: string,\n        assetType: H160,\n        options?: {\n            lastEvaluatedKey?: string | null;\n            firstEvaluatedKey?: string | null;\n        }\n    ) => void;\n}\n\ntype Props = WithTranslation & StateProps & OwnProps & DispatchProps;\n\nclass AssetTxHistory extends React.Component<Props> {\n    public constructor(props: Props) {\n        super(props);\n        this.state = {\n            activePage: 1\n        };\n    }\n\n    public componentDidMount() {\n        this.init();\n    }\n\n    public render() {\n        const { pendingTxList, txList, address, networkId } = this.props;\n        if (!pendingTxList || !txList) {\n            return <div>Loading...</div>;\n        }\n        const txHashList = _.map(txList, tx => tx.hash);\n        const validPendingTxList = _.filter(\n            pendingTxList,\n            pendingTx => !_.includes(txHashList, pendingTx.hash)\n        );\n        return (\n            <div className=\"Asset-tx-history\">\n                {validPendingTxList.length + txList.length === 0 && (\n                    <div className=\"d-flex align-items-center justify-content-center\">\n                        <div>\n                            <div className=\"text-center mt-3\">\n                                <img src={Empty} alt={\"empty\"} />\n                            </div>\n                            <div className=\"mt-3 empty\">\n                                <Trans i18nKey=\"send:asset.recent.empty\" />\n                            </div>\n                        </div>\n                    </div>\n                )}\n                {_.map(validPendingTxList, pendingTx => (\n                    <AssetTxItem\n                        key={pendingTx.hash}\n                        tx={pendingTx}\n                        address={address}\n                        networkId={networkId}\n                        isPending={true}\n                        timestamp={pendingTx.pendingTimestamp!}\n                    />\n                ))}\n                {_.map(txList, tx => (\n                    <AssetTxItem\n                        key={tx.hash}\n                        tx={tx}\n                        address={address}\n                        networkId={networkId}\n                        isPending={false}\n                        timestamp={tx.timestamp!}\n                    />\n                ))}\n                {txList.length > 0 && (\n                    <div className=\"pagination-container\">\n                        <ul className=\"pagination\">\n                            <li\n                                className={`page-item ${\n                                    !this.props.hasPreviousPage\n                                        ? \"disabled\"\n                                        : \"\"\n                                }`}\n                            >\n                                <Link\n                                    className=\"page-link\"\n                                    to=\"#\"\n                                    onClick={this.handlePreviousPage}\n                                >\n                                    <FontAwesomeIcon\n                                        icon=\"angle-left\"\n                                        className=\"navigation-icon\"\n                                    />\n                                </Link>\n                            </li>\n                            <li\n                                className={`page-item ${\n                                    !this.props.hasNextPage ? \"disabled\" : \"\"\n                                }`}\n                            >\n                                <Link\n                                    className=\"page-link\"\n                                    to=\"#\"\n                                    onClick={this.handleNextPage}\n                                >\n                                    <FontAwesomeIcon\n                                        icon=\"angle-right\"\n                                        className=\"navigation-icon\"\n                                    />\n                                </Link>\n                            </li>\n                        </ul>\n                    </div>\n                )}\n            </div>\n        );\n    }\n\n    private handleNextPage = () => {\n        const {\n            address,\n            fetchTxListIfNeed,\n            fetchTxListByAssetTypeIfNeed,\n            assetType,\n            lastEvaluatedKey\n        } = this.props;\n        if (assetType) {\n            fetchTxListByAssetTypeIfNeed(address, assetType, {\n                lastEvaluatedKey\n            });\n        } else {\n            fetchTxListIfNeed(address, { lastEvaluatedKey });\n        }\n    };\n\n    private handlePreviousPage = () => {\n        const {\n            address,\n            fetchTxListIfNeed,\n            fetchTxListByAssetTypeIfNeed,\n            assetType,\n            firstEvaluatedKey\n        } = this.props;\n        if (assetType) {\n            fetchTxListByAssetTypeIfNeed(address, assetType, {\n                firstEvaluatedKey\n            });\n        } else {\n            fetchTxListIfNeed(address, { firstEvaluatedKey });\n        }\n    };\n\n    private init = async () => {\n        this.fetchAll();\n    };\n\n    private fetchAll = () => {\n        const {\n            address,\n            fetchPendingTxListIfNeed,\n            fetchTxListIfNeed,\n            assetType,\n            fetchTxListByAssetTypeIfNeed\n        } = this.props;\n        fetchPendingTxListIfNeed(address);\n\n        if (assetType) {\n            fetchTxListByAssetTypeIfNeed(address, assetType);\n        } else {\n            fetchTxListIfNeed(address);\n        }\n    };\n}\n\nconst mapStateToProps = (state: ReducerConfigure, props: OwnProps) => {\n    const { address, assetType } = props;\n    const pendingTxList = state.chainReducer.pendingTxList[address];\n    const txList = assetType\n        ? state.chainReducer.txListById[\n              getIdByAddressAssetType(address, assetType)\n          ]\n        : state.chainReducer.txList[address];\n    const networkId = state.globalReducer.networkId;\n    return {\n        pendingTxList: pendingTxList && pendingTxList.data,\n        txList: txList && txList.data,\n        hasNextPage: txList && txList.hasNextPage,\n        hasPreviousPage: txList && txList.hasPreviousPage,\n        lastEvaluatedKey: txList && txList.lastEvaluatedKey,\n        firstEvaluatedKey: txList && txList.firstEvaluatedKey,\n        networkId\n    };\n};\nconst mapDispatchToProps = (\n    dispatch: ThunkDispatch<ReducerConfigure, void, Action>\n) => ({\n    fetchPendingTxListIfNeed: (address: string) => {\n        dispatch(chainActions.fetchPendingTxListIfNeed(address));\n    },\n    fetchTxListIfNeed: (\n        address: string,\n        options?: {\n            lastEvaluatedKey?: string | null;\n            firstEvaluatedKey?: string | null;\n        }\n    ) => {\n        dispatch(\n            chainActions.fetchTxListIfNeed(address, {\n                itemsPerPage: 10,\n                force: true,\n                ...options\n            })\n        );\n    },\n    fetchTxListByAssetTypeIfNeed: (\n        address: string,\n        assetType: H160,\n        options?: {\n            lastEvaluatedKey?: string | null;\n            firstEvaluatedKey?: string | null;\n        }\n    ) => {\n        dispatch(\n            chainActions.fetchTxListByAssetTypeIfNeed(address, assetType, {\n                itemsPerPage: 10,\n                force: true,\n                ...options\n            })\n        );\n    }\n});\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withTranslation()(AssetTxHistory));\n","import BigNumber from \"bignumber.js\";\nimport { AssetSchemeDoc } from \"codechain-indexer-types\";\nimport { H160, U64 } from \"codechain-sdk/lib/core/classes\";\nimport _ from \"lodash\";\nimport React from \"react\";\nimport { Trans, withTranslation, WithTranslation } from \"react-i18next\";\nimport { connect } from \"react-redux\";\nimport { match } from \"react-router\";\nimport { Col, Row } from \"reactstrap\";\nimport { Action } from \"redux\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { NetworkId } from \"../../model/address\";\nimport { ReducerConfigure } from \"../../redux\";\nimport assetActions from \"../../redux/asset/assetActions\";\nimport walletActions from \"../../redux/wallet/walletActions\";\nimport { ImageLoader } from \"../../utils/ImageLoader/ImageLoader\";\nimport { parseMetadata } from \"../../utils/metadata\";\nimport AddressContainer from \"../AddressContainer/AddressContainer\";\nimport AssetTxHistory from \"../AssetTxHistory/AssetTxHistory\";\nimport \"./AssetDetail.css\";\n\ninterface OwnProps {\n    match: match<{ address: string; assetType: string }>;\n}\n\ninterface StateProps {\n    assetScheme?: AssetSchemeDoc | null;\n    networkId: NetworkId;\n    availableAsset?: {\n        assetType: string;\n        quantities: U64;\n    } | null;\n    addressIndex?: number | null;\n}\n\ninterface DispatchProps {\n    fetchAssetSchemeIfNeed: (assetType: H160) => void;\n    fetchAvailableAssets: (address: string) => void;\n    fetchWalletFromStorageIfNeed: () => void;\n}\n\ntype Props = OwnProps & StateProps & DispatchProps & WithTranslation;\n\nclass AssetDetail extends React.Component<Props, any> {\n    public async componentDidMount() {\n        this.init();\n    }\n\n    public render() {\n        const {\n            assetScheme,\n            match: {\n                params: { assetType, address }\n            },\n            networkId,\n            availableAsset,\n            addressIndex,\n            t\n        } = this.props;\n        if (!assetScheme || !availableAsset) {\n            return null;\n        }\n\n        const metadata = parseMetadata(assetScheme.metadata);\n        return (\n            <div className=\"Asset-detail d-flex animated fadeIn\">\n                <div className=\"panel mx-auto\">\n                    <AddressContainer\n                        address={address}\n                        backButtonPath={`/${address}/assets`}\n                        addressIndex={addressIndex}\n                    />\n                    <div className=\"detail-history-container\">\n                        <h4 className=\"mr-auto\">\n                            <Trans i18nKey={\"asset:title\"} />\n                        </h4>\n                        <div className=\"d-flex mt-4 mb-4 align-itmes-center\">\n                            <ImageLoader\n                                className=\"asset-image\"\n                                data={assetType}\n                                size={65}\n                                isAssetImage={true}\n                                networkId={networkId}\n                            />\n                            <div className=\"ml-4 name-quantity-container\">\n                                <h4 className=\"mb-0\">\n                                    {metadata.name || \"None\"}\n                                </h4>\n                                <div className=\"mono asset-type\">\n                                    0x\n                                    {new H160(assetType).value}\n                                </div>\n                                <div>\n                                    <span className=\"total-text mr-3\">\n                                        <Trans i18nKey={\"asset:total\"} />\n                                    </span>\n                                    <span className=\"quantity-text number\">\n                                        {availableAsset.quantities.toLocaleString()}\n                                    </span>\n                                </div>\n                            </div>\n                        </div>\n                        <hr />\n                        <div className=\"info-container\">\n                            <Row>\n                                <Col md={2}>\n                                    <Trans i18nKey={\"asset:description\"} />\n                                </Col>\n                                <Col md={10}>\n                                    {metadata.description || t(\"asset:none\")}\n                                </Col>\n                            </Row>\n                            <Row>\n                                <Col md={2}>\n                                    <Trans i18nKey=\"asset:approver\" />\n                                </Col>\n                                <Col md={10}>\n                                    {assetScheme.approver || t(\"asset:none\")}\n                                </Col>\n                            </Row>\n                            <Row>\n                                <Col md={2}>\n                                    <Trans i18nKey=\"asset:total_supply\" />\n                                </Col>\n                                <Col md={10}>\n                                    {new BigNumber(\n                                        assetScheme.supply\n                                    ).toFormat()}\n                                </Col>\n                            </Row>\n                        </div>\n                        <h4 className=\"mb-3\">\n                            <Trans i18nKey=\"asset:recent_transactions\" />\n                        </h4>\n                        <AssetTxHistory\n                            address={address}\n                            assetType={new H160(assetType)}\n                        />\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    private init = () => {\n        const {\n            match: {\n                params: { assetType, address }\n            }\n        } = this.props;\n        this.props.fetchAssetSchemeIfNeed(new H160(assetType));\n        this.props.fetchAvailableAssets(address);\n        this.props.fetchWalletFromStorageIfNeed();\n    };\n}\n\nconst mapStateToProps = (state: ReducerConfigure, ownProps: OwnProps) => {\n    const {\n        match: {\n            params: { assetType, address }\n        }\n    } = ownProps;\n    const assetScheme =\n        state.assetReducer.assetScheme[new H160(assetType).value];\n    const networkId = state.globalReducer.networkId;\n    const availableAssets = state.assetReducer.availableAssets[address];\n    const availableAsset = _.find(\n        availableAssets,\n        asset => asset.assetType === new H160(assetType).value\n    );\n    const assetAddress = _.find(\n        state.walletReducer.assetAddresses,\n        aa => aa.address === address\n    );\n    return {\n        assetScheme: assetScheme && assetScheme.data,\n        networkId,\n        availableAsset,\n        addressIndex: assetAddress && assetAddress.index\n    };\n};\nconst mapDispatchToProps = (\n    dispatch: ThunkDispatch<ReducerConfigure, void, Action>\n) => ({\n    fetchAssetSchemeIfNeed: (assetType: H160) => {\n        dispatch(assetActions.fetchAssetSchemeIfNeed(assetType));\n    },\n    fetchAvailableAssets: (address: string) => {\n        dispatch(assetActions.fetchAvailableAssets(address));\n    },\n    fetchWalletFromStorageIfNeed: () => {\n        dispatch(walletActions.fetchWalletFromStorageIfNeed());\n    }\n});\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withTranslation()(AssetDetail));\n","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { AssetSchemeDoc } from \"codechain-indexer-types\";\nimport { H160, U64 } from \"codechain-sdk/lib/core/classes\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport { RouteComponentProps, withRouter } from \"react-router-dom\";\nimport { Action } from \"redux\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { NetworkId } from \"../../../model/address\";\nimport { ReducerConfigure } from \"../../../redux\";\nimport assetActions from \"../../../redux/asset/assetActions\";\nimport { ImageLoader } from \"../../../utils/ImageLoader/ImageLoader\";\nimport { parseMetadata } from \"../../../utils/metadata\";\nimport \"./AssetItem.css\";\n\ninterface OwnProps {\n    assetType: string;\n    quantities: U64;\n    networkId: NetworkId;\n    address: string;\n\n    isSelected: boolean;\n    onSelect: (assetType: string) => void;\n}\n\ninterface StateProps {\n    assetScheme?: AssetSchemeDoc | null;\n}\n\ninterface DispatchProps {\n    fetchAssetSchemeIfNeed: (assetType: H160) => void;\n}\n\ntype Props = RouteComponentProps & OwnProps & StateProps & DispatchProps;\n\nclass AssetItem extends React.Component<Props, any> {\n    public constructor(props: Props) {\n        super(props);\n    }\n    public componentDidMount() {\n        this.props.fetchAssetSchemeIfNeed(new H160(this.props.assetType));\n    }\n    public render() {\n        const {\n            assetType,\n            quantities,\n            networkId,\n            isSelected,\n            assetScheme\n        } = this.props;\n        let metadata;\n        if (assetScheme) {\n            metadata = parseMetadata(assetScheme.metadata);\n        }\n        return (\n            <div\n                onClick={this.handleClick}\n                className={`Asset-item animated-fadeIn ${isSelected &&\n                    \"selected\"}`}\n            >\n                <div className=\"d-flex align-items-center\">\n                    <div className=\"image-container\">\n                        <ImageLoader\n                            data={assetType}\n                            size={48}\n                            isAssetImage={true}\n                            networkId={networkId}\n                        />\n                    </div>\n                    <div className=\"name-container\">\n                        <span className=\"mb-0 asset-name\">\n                            {(metadata && metadata.name) ||\n                                `...${assetType.slice(\n                                    assetType.length - 8,\n                                    assetType.length\n                                )}`}\n                        </span>\n                    </div>\n                    <span className=\"mb-0 number asset-quantities\">\n                        {quantities.toLocaleString()}\n                    </span>\n                    <div onClick={this.handleClickInfo} className=\"info-icon\">\n                        <FontAwesomeIcon icon=\"info-circle\" />\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    private handleClick = () => {\n        const { assetType, onSelect } = this.props;\n        onSelect(assetType);\n    };\n\n    private handleClickInfo = () => {\n        const { assetType, address } = this.props;\n        this.props.history.push(`/${address}/${assetType}`);\n    };\n}\n\nconst mapStateToProps = (state: ReducerConfigure, ownProps: OwnProps) => {\n    const assetScheme = state.assetReducer.assetScheme[ownProps.assetType];\n    return {\n        assetScheme: assetScheme && assetScheme.data\n    };\n};\nconst mapDispatchToProps = (\n    dispatch: ThunkDispatch<ReducerConfigure, void, Action>\n) => ({\n    fetchAssetSchemeIfNeed: (assetType: H160) => {\n        dispatch(assetActions.fetchAssetSchemeIfNeed(assetType));\n    }\n});\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withRouter(AssetItem));\n","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React from \"react\";\nimport { Trans, WithTranslation, withTranslation } from \"react-i18next\";\nimport ValidationInput from \"../../../../ValidationInput/ValidationInput\";\n\nimport { U64 } from \"codechain-sdk/lib/core/classes\";\nimport \"./ReceiverItem.css\";\n\ninterface OwnProps {\n    receiver: {\n        address: string;\n        quantity: string;\n    };\n    remainingAsset: U64;\n    onAddressChange: (index: number, address: string) => void;\n    onQuantityChange: (index: number, quantity: string) => void;\n    onAddressValidationCheck: (index: number) => void;\n    onQuantityValidationCheck: (index: number) => void;\n    isAddressValid?: boolean;\n    isQuantityValid?: boolean;\n    addressError?: string;\n    quantityError?: string;\n    index: number;\n    onRemove: (index: number) => void;\n    hideCancel?: boolean;\n}\n\ntype Props = WithTranslation & OwnProps;\n\nclass ReceiverItem extends React.Component<Props> {\n    public render() {\n        const {\n            t,\n            receiver,\n            index,\n            isAddressValid,\n            isQuantityValid,\n            addressError,\n            quantityError,\n            hideCancel\n        } = this.props;\n        return (\n            <div className=\"Receiver-item animated fadeIn\">\n                <div className=\"d-flex align-items-end\">\n                    {!hideCancel && (\n                        <span className=\"mr-auto receiver-item-index\">\n                            {index + 1}\n                        </span>\n                    )}\n                    {!hideCancel && (\n                        <span\n                            className=\"receiver-item-cancel\"\n                            onClick={this.handleRemove}\n                        >\n                            {t(\"send:asset.remove\")}{\" \"}\n                            <FontAwesomeIcon icon=\"times\" />\n                        </span>\n                    )}\n                </div>\n                <ValidationInput\n                    value={receiver.address}\n                    onChange={this.handleChangeAddressInput}\n                    labelText={t(\"send:asset.receiver.label\")}\n                    placeholder={t(\"send:asset.receiver.placeholder\")}\n                    showValidation={true}\n                    isValid={isAddressValid}\n                    onBlur={this.handleBlurAddressInput}\n                    error={addressError}\n                />\n                <div className=\"d-flex align-items-end\">\n                    <ValidationInput\n                        value={receiver.quantity}\n                        onChange={this.handleChangeQuantitiesInput}\n                        labelText={t(\"send:asset.quantity.label\")}\n                        placeholder={t(\"send:asset.quantity.placeholder\")}\n                        type=\"number\"\n                        className=\"flex-grow-1 flex-shrink-1\"\n                        showValidation={true}\n                        isValid={isQuantityValid}\n                        onBlur={this.handleBlurQuantityInput}\n                        error={quantityError}\n                        decimalScale={0}\n                    />\n                    <button\n                        type=\"button\"\n                        className=\"btn btn-primary max-btn\"\n                        onClick={this.handleMaxValueClick}\n                    >\n                        <Trans i18nKey=\"main:max\" />\n                    </button>\n                </div>\n            </div>\n        );\n    }\n\n    private handleRemove = () => {\n        const { index, onRemove } = this.props;\n        onRemove(index);\n    };\n\n    private handleBlurAddressInput = () => {\n        const { index, onAddressValidationCheck } = this.props;\n        onAddressValidationCheck(index);\n    };\n\n    private handleBlurQuantityInput = () => {\n        const { index, onQuantityValidationCheck } = this.props;\n        onQuantityValidationCheck(index);\n    };\n\n    private handleMaxValueClick = () => {\n        const { index, onQuantityChange, remainingAsset } = this.props;\n        onQuantityChange(index, remainingAsset.toString(10));\n    };\n\n    private handleChangeAddressInput = (\n        event: React.ChangeEvent<HTMLInputElement>\n    ) => {\n        const { index, onAddressChange } = this.props;\n        onAddressChange(index, event.target.value);\n    };\n\n    private handleChangeQuantitiesInput = (\n        event: React.ChangeEvent<HTMLInputElement>\n    ) => {\n        const { index, onQuantityChange } = this.props;\n        onQuantityChange(index, event.target.value);\n    };\n}\n\nexport default withTranslation()(ReceiverItem);\n","import BigNumber from \"bignumber.js\";\nimport { AssetTransferAddress, U64 } from \"codechain-sdk/lib/core/classes\";\nimport _ from \"lodash\";\nimport React from \"react\";\nimport { Trans, WithTranslation, withTranslation } from \"react-i18next\";\nimport { connect } from \"react-redux\";\nimport { Action } from \"redux\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { WalletAddress } from \"../../../../model/address\";\nimport { ReducerConfigure } from \"../../../../redux\";\nimport accountActions from \"../../../../redux/account/accountActions\";\nimport walletActions from \"../../../../redux/wallet/walletActions\";\nimport TooltipLabel from \"../../../TooltipLabel\";\nimport ValidationInput from \"../../../ValidationInput/ValidationInput\";\nimport \"./ReceiverContainer.css\";\nimport ReceiverItem from \"./ReceiverItem/ReceiverItem\";\n\ninterface State {\n    receivers: {\n        address: string;\n        quantity: string;\n    }[];\n    addressValidations: {\n        [index: number]:\n            | {\n                  isAddressValid?: boolean;\n                  addressError?: string;\n              }\n            | undefined;\n    };\n    quantityValidations: {\n        [index: number]:\n            | {\n                  isQuantityValid?: boolean;\n                  quantityError?: string;\n              }\n            | undefined;\n    };\n    fee: string;\n    feePayer?: string;\n    isFeeValid?: boolean;\n    feeError?: string;\n    memo: string;\n    memoError?: string;\n    isMemoValid?: boolean;\n}\n\ninterface OwnProps {\n    address: string;\n    totalQuantity: U64;\n    onSubmit: (\n        receivers: { address: string; quantity: U64 }[],\n        memo: string,\n        fee?: {\n            payer: string;\n            quantity: U64;\n        } | null\n    ) => void;\n    gatewayURL?: string | null;\n    isSendingTx: boolean;\n}\n\ninterface StateProps {\n    platformAddresses?: WalletAddress[] | null;\n    availableQuarkList: { [address: string]: U64 | null | undefined };\n}\n\ninterface DispatchProps {\n    fetchWalletFromStorageIfNeed: () => void;\n    fetchAvailableQuark: (address: string) => void;\n}\n\ntype Props = WithTranslation & OwnProps & DispatchProps & StateProps;\n\nconst MinimumFee = 100;\nclass ReceiverContainer extends React.Component<Props, State> {\n    public constructor(props: Props) {\n        super(props);\n        this.state = {\n            receivers: [\n                {\n                    address: \"\",\n                    quantity: \"\"\n                }\n            ],\n            addressValidations: {},\n            quantityValidations: {},\n            fee: \"\",\n            feePayer: undefined,\n            isFeeValid: undefined,\n            feeError: undefined,\n            memo: \"\",\n            memoError: undefined,\n            isMemoValid: undefined\n        };\n    }\n    public componentDidMount() {\n        this.props.fetchWalletFromStorageIfNeed();\n        if (this.props.platformAddresses) {\n            if (this.props.platformAddresses.length > 0) {\n                this.selectFeePayer(this.props.platformAddresses[0].address);\n            }\n        }\n    }\n    public componentWillUpdate(nextProps: Props) {\n        if (!this.props.platformAddresses && nextProps.platformAddresses) {\n            if (nextProps.platformAddresses) {\n                if (nextProps.platformAddresses.length > 0) {\n                    this.selectFeePayer(nextProps.platformAddresses[0].address);\n                }\n            }\n        }\n    }\n    public render() {\n        const {\n            receivers,\n            addressValidations,\n            quantityValidations,\n            fee,\n            feePayer,\n            isFeeValid,\n            feeError,\n            memo,\n            memoError,\n            isMemoValid\n        } = this.state;\n        const {\n            t,\n            platformAddresses,\n            gatewayURL,\n            availableQuarkList,\n            isSendingTx\n        } = this.props;\n        if (!platformAddresses) {\n            return <span>Loading...</span>;\n        }\n        return (\n            <div className=\"Receiver-container\">\n                <form onSubmit={this.handleSubmit}>\n                    <div className=\"receivers\">\n                        {_.map(receivers, (receiver, index) => (\n                            <ReceiverItem\n                                hideCancel={receivers.length === 1}\n                                key={`receiver-${index}`}\n                                receiver={receiver}\n                                onAddressChange={this.handleAddressChange}\n                                onQuantityChange={this.handleQuantityChange}\n                                remainingAsset={this.calculateRemainingAsset(\n                                    index\n                                )}\n                                index={index}\n                                onAddressValidationCheck={\n                                    this.handleAddressValidationCheck\n                                }\n                                onQuantityValidationCheck={\n                                    this.handleQuantityValidationCheck\n                                }\n                                isAddressValid={\n                                    addressValidations[index] &&\n                                    addressValidations[index]!.isAddressValid\n                                }\n                                isQuantityValid={\n                                    quantityValidations[index] &&\n                                    quantityValidations[index]!.isQuantityValid\n                                }\n                                addressError={\n                                    addressValidations[index] &&\n                                    addressValidations[index]!.addressError\n                                }\n                                quantityError={\n                                    quantityValidations[index] &&\n                                    quantityValidations[index]!.quantityError\n                                }\n                                onRemove={this.handleRemoveReceiver}\n                            />\n                        ))}\n                    </div>\n                    {receivers.length < 10 && (\n                        <div>\n                            <button\n                                type=\"button\"\n                                className=\"btn btn-primary add-receiver-btn\"\n                                onClick={this.handleAddReceiver}\n                            >\n                                <Trans i18nKey=\"send:asset.add\" />\n                            </button>\n                        </div>\n                    )}\n                    <div className=\"memo-container\">\n                        <ValidationInput\n                            labelText={t(\"send:asset.memo.label\")}\n                            value={memo}\n                            isValid={isMemoValid}\n                            error={memoError}\n                            showValidation={true}\n                            placeholder={t(\"send:asset.memo.placeholder\")}\n                            onBlur={this.checkMemo}\n                            onChange={this.handleChangeMemo}\n                        />\n                    </div>\n                    {gatewayURL == null && (\n                        <div className=\"d-flex fee-container\">\n                            <div className=\"fee-input-container\">\n                                <ValidationInput\n                                    value={fee}\n                                    onChange={this.handleChangeFee}\n                                    showValidation={true}\n                                    labelText={t(\"send:asset.fee.label\")}\n                                    type=\"number\"\n                                    decimalScale={0}\n                                    placeholder={\n                                        !feePayer\n                                            ? \"select payer\"\n                                            : !availableQuarkList[feePayer]\n                                            ? \"loading...\"\n                                            : \"100 (CCC)\"\n                                    }\n                                    tooltip=\"send:asset.fee.tooltip\"\n                                    disable={\n                                        feePayer == null ||\n                                        (feePayer != null &&\n                                            availableQuarkList[feePayer] ==\n                                                null)\n                                    }\n                                    onBlur={this.checkFeeValidation}\n                                    isValid={isFeeValid}\n                                    error={feeError}\n                                />\n                            </div>\n                            <div className=\"fee-payer-container\">\n                                <div className=\"payer-label\">\n                                    <Trans i18nKey=\"send:asset.payer.label\" />\n                                    <TooltipLabel tooltip=\"send:asset.payer.tooltip\" />\n                                </div>\n                                {platformAddresses.length === 0 ? (\n                                    <select\n                                        className=\"form-control\"\n                                        disabled={true}\n                                    >\n                                        <option>\n                                            {t(\"send:asset.payer.empty\")}\n                                        </option>\n                                    </select>\n                                ) : (\n                                    <div>\n                                        <select\n                                            className=\"form-control\"\n                                            value={feePayer}\n                                            defaultValue={\"default\"}\n                                            onChange={this.handleChangeFeePayer}\n                                        >\n                                            <option\n                                                value=\"default\"\n                                                disabled={true}\n                                            >\n                                                {t(\"send:asset.payer.select\")}\n                                            </option>\n                                            {_.map(platformAddresses, pa => (\n                                                <option\n                                                    value={pa.address}\n                                                    key={pa.address}\n                                                >\n                                                    CCC{\" \"}\n                                                    {t(\"main:address\", {\n                                                        index: pa.index + 1\n                                                    })}\n                                                </option>\n                                            ))}\n                                        </select>\n                                        {feePayer &&\n                                            availableQuarkList[feePayer] && (\n                                                <span className=\"available-ccc-text number pl-2 pr-2\">\n                                                    {availableQuarkList[\n                                                        feePayer\n                                                    ]!.toLocaleString()}\n                                                    CCC\n                                                </span>\n                                            )}\n                                    </div>\n                                )}\n                            </div>\n                        </div>\n                    )}\n                    <div className=\"submit-btn-container\">\n                        <button\n                            type=\"submit\"\n                            className=\"btn btn-primary square w-100 send-btn\"\n                            disabled={isSendingTx}\n                        >\n                            <Trans i18nKey=\"send:asset.button\" />\n                        </button>\n                    </div>\n                </form>\n            </div>\n        );\n    }\n\n    private handleChangeFeePayer = (\n        event: React.ChangeEvent<HTMLSelectElement>\n    ) => {\n        this.selectFeePayer(event.target.value);\n    };\n\n    private selectFeePayer = (address: string) => {\n        this.setState({\n            feePayer: address,\n            fee: `${MinimumFee}`,\n            feeError: undefined,\n            isFeeValid: undefined\n        });\n        this.props.fetchAvailableQuark(address);\n    };\n\n    private handleChangeMemo = (event: React.ChangeEvent<HTMLInputElement>) => {\n        this.setState({\n            memo: event.target.value\n        });\n    };\n\n    private checkMemo = () => {\n        const { t } = this.props;\n        const { memo } = this.state;\n        if (memo.length > 25) {\n            this.setState({\n                isMemoValid: false,\n                memoError: t(\"send:asset.error.memo.maximum\")\n            });\n            return false;\n        }\n        this.setState({\n            isMemoValid: true,\n            memoError: undefined\n        });\n        return true;\n    };\n\n    private checkFeeValidation = () => {\n        const { fee, feePayer } = this.state;\n        const { t, availableQuarkList } = this.props;\n\n        if (!feePayer) {\n            this.setState({\n                isFeeValid: false,\n                feeError: t(\"send:asset.error.fee.not_selected\")\n            });\n            return false;\n        }\n        const availableQuark = availableQuarkList[feePayer];\n        if (!availableQuark) {\n            throw Error(t(\"send:asset.error.fee.invalid_balance\"));\n        }\n        if (fee === \"\") {\n            this.setState({\n                isFeeValid: false,\n                feeError: t(\"send:asset.error.fee.required\")\n            });\n            return false;\n        }\n        const amountFee = new BigNumber(fee);\n        if (amountFee.isNaN()) {\n            this.setState({\n                isFeeValid: false,\n                feeError: t(\"send:asset.error.fee.invalid\")\n            });\n            return false;\n        }\n        if (amountFee.lt(MinimumFee)) {\n            this.setState({\n                isFeeValid: false,\n                feeError: t(\"send:asset.error.fee.minimum\", {\n                    minimum: MinimumFee\n                })\n            });\n            return false;\n        }\n\n        if (availableQuark.value.lt(amountFee)) {\n            this.setState({\n                isFeeValid: false,\n                feeError: t(\"send:asset.error.fee.not_enough\")\n            });\n            return false;\n        }\n\n        this.setState({\n            isFeeValid: true,\n            feeError: undefined\n        });\n        return true;\n    };\n\n    private handleChangeFee = (event: React.ChangeEvent<HTMLInputElement>) => {\n        this.setState({\n            fee: event.target.value\n        });\n    };\n\n    private handleRemoveReceiver = (myIndex: number) => {\n        const { receivers } = this.state;\n        const receiversExceptIndex = _.clone(receivers);\n        _.pullAt(receiversExceptIndex, myIndex);\n        this.setState({\n            receivers: receiversExceptIndex\n        });\n    };\n\n    private handleAddReceiver = () => {\n        this.setState({\n            receivers: [...this.state.receivers, { address: \"\", quantity: \"\" }]\n        });\n    };\n\n    private calculateRemainingAsset = (myIndex: number) => {\n        const { receivers } = this.state;\n        const { totalQuantity } = this.props;\n        const receiversExceptIndex = _.clone(receivers);\n        _.pullAt(receiversExceptIndex, myIndex);\n        const currentTotal = _.reduce(\n            receiversExceptIndex,\n            (memo, receiver) =>\n                U64.plus(\n                    memo,\n                    receiver.quantity === \"\" ? 0 : receiver.quantity\n                ),\n            new U64(0)\n        );\n\n        const remainingAsset = U64.minus(totalQuantity, currentTotal);\n        if (remainingAsset.gt(0)) {\n            return remainingAsset;\n        }\n        return new U64(0);\n    };\n\n    private handleAddressValidationCheck = (index: number) => {\n        const { receivers } = this.state;\n        const { t, address: myAddress } = this.props;\n        const address = receivers[index].address;\n        if (address === \"\") {\n            this.setState({\n                addressValidations: {\n                    ...this.state.addressValidations,\n                    [index]: {\n                        ...this.state.addressValidations[index],\n                        isAddressValid: false,\n                        addressError: t(\"send:asset.error.receiver.required\")\n                    }\n                }\n            });\n            return false;\n        }\n        if (address === myAddress) {\n            this.setState({\n                addressValidations: {\n                    ...this.state.addressValidations,\n                    [index]: {\n                        ...this.state.addressValidations[index],\n                        isAddressValid: false,\n                        addressError: t(\n                            \"send:asset.error.receiver.not_available\"\n                        )\n                    }\n                }\n            });\n            return false;\n        }\n        try {\n            AssetTransferAddress.fromString(address);\n            this.setState({\n                addressValidations: {\n                    ...this.state.addressValidations,\n                    [index]: {\n                        ...this.state.addressValidations[index],\n                        isAddressValid: true,\n                        addressError: undefined\n                    }\n                }\n            });\n            return true;\n        } catch (e) {\n            // nothing\n        }\n        this.setState({\n            addressValidations: {\n                ...this.state.addressValidations,\n                [index]: {\n                    ...this.state.addressValidations[index],\n                    isAddressValid: false,\n                    addressError: t(\"send:asset.error.receiver.invalid\")\n                }\n            }\n        });\n        return false;\n    };\n\n    private handleQuantityValidationCheck = (index: number) => {\n        const { receivers } = this.state;\n        const { t, totalQuantity } = this.props;\n        const quantityString = this.state.receivers[index].quantity;\n        if (quantityString === \"\") {\n            this.setState({\n                quantityValidations: {\n                    ...this.state.quantityValidations,\n                    [index]: {\n                        ...this.state.quantityValidations[index],\n                        isQuantityValid: false,\n                        quantityError: t(\"send:asset.error.quantity.required\")\n                    }\n                }\n            });\n            return false;\n        }\n        const quantity = new BigNumber(quantityString);\n        if (quantity.isNaN()) {\n            this.setState({\n                quantityValidations: {\n                    ...this.state.quantityValidations,\n                    [index]: {\n                        ...this.state.quantityValidations[index],\n                        isQuantityValid: false,\n                        quantityError: t(\"send:asset.error.quantity.invalid\")\n                    }\n                }\n            });\n            return false;\n        }\n        if (quantity.lte(0)) {\n            this.setState({\n                quantityValidations: {\n                    ...this.state.quantityValidations,\n                    [index]: {\n                        ...this.state.quantityValidations[index],\n                        isQuantityValid: false,\n                        quantityError: t(\"send:asset.error.quantity.minimum\")\n                    }\n                }\n            });\n            return false;\n        }\n        const currentTotal = _.reduce(\n            receivers,\n            (memo, receiver) =>\n                U64.plus(\n                    memo,\n                    receiver.quantity === \"\" ? 0 : receiver.quantity\n                ),\n            new U64(0)\n        );\n        if (currentTotal.gt(totalQuantity)) {\n            this.setState({\n                quantityValidations: {\n                    ...this.state.quantityValidations,\n                    [index]: {\n                        ...this.state.quantityValidations[index],\n                        isQuantityValid: false,\n                        quantityError: t(\"send:asset.error.quantity.not_enough\")\n                    }\n                }\n            });\n            return false;\n        }\n        this.setState({\n            quantityValidations: {\n                ...this.state.quantityValidations,\n                [index]: {\n                    ...this.state.quantityValidations[index],\n                    isQuantityValid: true,\n                    quantityError: undefined\n                }\n            }\n        });\n        return true;\n    };\n\n    private handleAddressChange = (newIndex: number, address: string) => {\n        const { receivers } = this.state;\n        const newReceivers = _.map(receivers, (receiver, index) => {\n            if (index === newIndex) {\n                return {\n                    address,\n                    quantity: receiver.quantity\n                };\n            }\n            return receiver;\n        });\n        this.setState({\n            receivers: newReceivers,\n            addressValidations: {\n                ...this.state.addressValidations,\n                [newIndex]: {\n                    ...this.state.addressValidations[newIndex],\n                    isAddressValid: undefined,\n                    addressError: undefined\n                }\n            }\n        });\n    };\n\n    private handleQuantityChange = (newIndex: number, quantity: string) => {\n        const { receivers } = this.state;\n        const newReceivers = _.map(receivers, (receiver, index) => {\n            if (index === newIndex) {\n                return {\n                    address: receiver.address,\n                    quantity\n                };\n            }\n            return receiver;\n        });\n        this.setState({\n            receivers: newReceivers,\n            quantityValidations: {\n                ...this.state.quantityValidations,\n                [newIndex]: {\n                    ...this.state.quantityValidations[newIndex],\n                    isQuantityValid: undefined,\n                    quantityError: undefined\n                }\n            }\n        });\n    };\n\n    private handleSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n        event.preventDefault();\n        const { gatewayURL } = this.props;\n        const { receivers, fee, feePayer, memo } = this.state;\n\n        for (let i = 0; i < receivers.length; i++) {\n            if (!this.handleAddressValidationCheck(i)) {\n                return;\n            }\n            if (!this.handleQuantityValidationCheck(i)) {\n                return;\n            }\n        }\n\n        if (!this.checkMemo()) {\n            return;\n        }\n\n        const returnValue = receivers.map(r => ({\n            address: r.address,\n            quantity: new U64(r.quantity)\n        }));\n        if (gatewayURL == null) {\n            if (!this.checkFeeValidation()) {\n                return;\n            }\n            this.props.onSubmit(returnValue, memo, {\n                payer: feePayer!,\n                quantity: new U64(fee)\n            });\n        } else {\n            this.props.onSubmit(returnValue, memo);\n        }\n    };\n}\n\nconst mapStateToProps = (state: ReducerConfigure) => {\n    const platformAddresses = state.walletReducer.platformAddresses;\n    const availableQuarkList = state.accountReducer.availableQuark;\n    return {\n        platformAddresses,\n        availableQuarkList\n    };\n};\n\nconst mapDispatchToProps = (\n    dispatch: ThunkDispatch<ReducerConfigure, void, Action>\n) => ({\n    fetchWalletFromStorageIfNeed: () => {\n        dispatch(walletActions.fetchWalletFromStorageIfNeed());\n    },\n    fetchAvailableQuark: (address: string) => {\n        dispatch(accountActions.fetchAvailableQuark(address));\n    }\n});\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withTranslation()(ReceiverContainer));\n","import { Action as ReduxAction } from \"redux\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { ReducerConfigure } from \"..\";\nimport { NetworkId } from \"../../model/address\";\nimport {\n    clearPassphrase,\n    saveNetworkId,\n    savePassphrase\n} from \"../../utils/storage\";\nimport { ActionType as WalletActions } from \"../wallet/walletActions\";\n\nexport type Action = Login | ClearData | Logout | UpdateNetwork;\n\nexport enum ActionType {\n    Login = \"Login\",\n    ClearData = \"ClearData\",\n    Logout = \"Logout\",\n    UpdateNetwork = \"UpdateNetwork\"\n}\n\nexport interface Login {\n    type: ActionType.Login;\n    data: {\n        passphrase: string;\n    };\n}\n\nexport interface ClearData {\n    type: ActionType.ClearData;\n}\n\nexport interface Logout {\n    type: ActionType.Logout;\n}\n\nexport interface UpdateNetwork {\n    type: ActionType.UpdateNetwork;\n    data: {\n        networkId: NetworkId;\n    };\n}\n\nconst updateNetworkId = (networkId: NetworkId) => {\n    return async (\n        dispatch: ThunkDispatch<ReducerConfigure, void, ReduxAction>,\n        getState: () => ReducerConfigure\n    ) => {\n        dispatch({\n            type: WalletActions.ClearWalletAddresses\n        });\n        dispatch({\n            type: ActionType.UpdateNetwork,\n            data: {\n                networkId\n            }\n        });\n        saveNetworkId(networkId);\n    };\n};\n\nconst login = (passphrase: string) => {\n    return async (\n        dispatch: ThunkDispatch<ReducerConfigure, void, Action>,\n        getState: () => ReducerConfigure\n    ) => {\n        savePassphrase(passphrase);\n        dispatch({\n            type: ActionType.Login,\n            data: {\n                passphrase\n            }\n        });\n    };\n};\n\nconst logout = () => {\n    return async (\n        dispatch: ThunkDispatch<ReducerConfigure, void, Action>,\n        getState: () => ReducerConfigure\n    ) => {\n        clearPassphrase();\n        dispatch(clearData());\n        dispatch({\n            type: ActionType.Logout\n        });\n    };\n};\n\nconst clearData = () => {\n    return async (\n        dispatch: ThunkDispatch<ReducerConfigure, void, Action>,\n        getState: () => ReducerConfigure\n    ) => {\n        dispatch({\n            type: ActionType.ClearData\n        });\n    };\n};\n\nexport default {\n    login,\n    logout,\n    clearData,\n    updateNetworkId\n};\n","import React from \"react\";\nimport { Trans, WithTranslation, withTranslation } from \"react-i18next\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { AssetSchemeDoc, UTXODoc } from \"codechain-indexer-types\";\nimport { SDK } from \"codechain-sdk\";\nimport {\n    Asset,\n    AssetTransferAddress,\n    AssetTransferOutput,\n    H160,\n    SignedTransaction,\n    Transaction,\n    U64\n} from \"codechain-sdk/lib/core/classes\";\nimport { LocalKeyStore } from \"codechain-sdk/lib/key/LocalKeyStore\";\nimport _ from \"lodash\";\nimport { connect } from \"react-redux\";\nimport Spinner from \"react-spinkit\";\nimport { toast } from \"react-toastify\";\nimport { Action } from \"redux\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { NetworkId, WalletAddress } from \"../../../model/address\";\nimport {\n    getAssetAddressPath,\n    getCCKey,\n    getFirstSeedHash,\n    getPlatformAddressPath\n} from \"../../../model/keystore\";\nimport { ReducerConfigure } from \"../../../redux\";\nimport assetActions from \"../../../redux/asset/assetActions\";\nimport { getIdForCacheUTXO } from \"../../../redux/asset/assetReducer\";\nimport chainActions from \"../../../redux/chain/chainActions\";\nimport walletActions from \"../../../redux/wallet/walletActions\";\nimport { ImageLoader } from \"../../../utils/ImageLoader/ImageLoader\";\nimport * as Metadata from \"../../../utils/metadata\";\nimport { getCodeChainHost } from \"../../../utils/network\";\nimport { getAssetKeys, getPlatformKeys } from \"../../../utils/storage\";\nimport CheckIcon from \"./img/check_icon.svg\";\nimport ReceiverContainer from \"./ReceiverContainer/ReceiverContainer\";\nimport \"./SendAsset.css\";\n\ninterface OwnProps {\n    address: string;\n    selectedAssetType: string;\n    onClose: () => void;\n}\n\ninterface StateProps {\n    assetScheme?: AssetSchemeDoc | null;\n    UTXOList?: UTXODoc[] | null;\n    availableAssets?:\n        | {\n              assetType: string;\n              quantities: U64;\n          }[]\n        | null;\n    networkId: NetworkId;\n    passphrase: string;\n    assetAddresses?: WalletAddress[] | null;\n    platformAddresses?: WalletAddress[] | null;\n}\n\ninterface State {\n    isSendingTx: boolean;\n    isSentTx: boolean;\n}\n\ninterface DispatchProps {\n    fetchAssetSchemeIfNeed: (assetType: H160) => void;\n    fetchAvailableAssets: (address: string) => void;\n    fetchUTXOListIfNeed: (address: string, assetType: H160) => void;\n    sendTransactionByGateway: (\n        address: string,\n        transferTx: Transaction,\n        gatewayURL: string\n    ) => Promise<unknown>;\n    fetchWalletFromStorageIfNeed: () => void;\n    sendSignedTransaction: (\n        address: string,\n        signedTransaction: SignedTransaction,\n        feePayer: string\n    ) => Promise<unknown>;\n}\n\ntype Props = WithTranslation & OwnProps & StateProps & DispatchProps;\n\nclass SendAsset extends React.Component<Props, State> {\n    constructor(props: Props) {\n        super(props);\n        this.state = {\n            isSendingTx: false,\n            isSentTx: false\n        };\n    }\n    public render() {\n        const { onClose } = this.props;\n        const { isSendingTx, isSentTx } = this.state;\n        const {\n            assetScheme,\n            selectedAssetType: assetType,\n            networkId,\n            address\n        } = this.props;\n        const {\n            availableAssets,\n            UTXOList,\n            platformAddresses,\n            assetAddresses\n        } = this.props;\n        if (\n            !assetScheme ||\n            !UTXOList ||\n            !availableAssets ||\n            !platformAddresses ||\n            !assetAddresses\n        ) {\n            return (\n                <div>\n                    <div className=\"Send-asset\">\n                        <div className=\"loading-container\" />\n                    </div>\n                </div>\n            );\n        }\n        const availableAsset = _.find(\n            availableAssets,\n            a => a.assetType === assetType\n        );\n        const metadata = Metadata.parseMetadata(assetScheme.metadata);\n        return (\n            <div className=\"Send-asset animated fadeIn\">\n                <div className=\"cancel-icon-container\" onClick={onClose}>\n                    <FontAwesomeIcon className=\"cancel-icon\" icon=\"times\" />\n                </div>\n                <h2 className=\"title\">\n                    <Trans i18nKey=\"send:asset.title\" />\n                </h2>\n                {isSentTx ? (\n                    <div className=\"d-flex align-items-center justify-content-center text-center complete-container\">\n                        <div className=\"text-center\">\n                            <div>\n                                <img src={CheckIcon} alt={\"check\"} />\n                            </div>\n                            <div className=\"mt-3\">\n                                <span>\n                                    <Trans i18nKey=\"send:asset.complete\" />\n                                </span>\n                            </div>\n                        </div>\n                    </div>\n                ) : (\n                    <div>\n                        <div className=\"d-flex align-items-center asset-info-item mb-5\">\n                            <ImageLoader\n                                className=\"asset-info-icon\"\n                                data={assetType}\n                                isAssetImage={true}\n                                networkId={networkId}\n                                size={50}\n                            />\n                            <span className=\"name ml-3 mr-auto\">\n                                {metadata.name ||\n                                    `...${assetType.slice(\n                                        assetType.length - 6,\n                                        assetType.length\n                                    )}`}\n                            </span>\n                            <span className=\"quantity number\">\n                                {availableAsset\n                                    ? availableAsset.quantities.toLocaleString()\n                                    : 0}\n                            </span>\n                        </div>\n                        <ReceiverContainer\n                            address={address}\n                            onSubmit={this.handleSubmit}\n                            totalQuantity={\n                                availableAsset\n                                    ? availableAsset.quantities\n                                    : new U64(0)\n                            }\n                            isSendingTx={isSendingTx}\n                            gatewayURL={\n                                metadata.gateway && metadata.gateway.url\n                            }\n                        />\n                    </div>\n                )}\n                {isSendingTx && (\n                    <div className=\"sending-panel d-flex align-items-center justify-content-center\">\n                        <Spinner name=\"line-scale\" color=\"white\" />\n                    </div>\n                )}\n            </div>\n        );\n    }\n\n    public updateWindowDimensions = () => {\n        if (window.innerWidth <= 872) {\n            this.addModalOpenClass();\n        } else {\n            this.removeModalOpenClass();\n        }\n    };\n\n    public async componentDidMount() {\n        this.updateWindowDimensions();\n        window.addEventListener(\"resize\", this.updateWindowDimensions);\n        this.init();\n    }\n\n    public componentWillUnmount() {\n        this.removeModalOpenClass();\n        window.removeEventListener(\"resize\", this.updateWindowDimensions);\n    }\n\n    private addModalOpenClass = () => {\n        document.body.className = \"modal-open\";\n    };\n\n    private removeModalOpenClass = () => {\n        document.body.className = \"\";\n    };\n\n    private init = () => {\n        const { selectedAssetType, address } = this.props;\n        this.props.fetchAssetSchemeIfNeed(new H160(selectedAssetType));\n        this.props.fetchUTXOListIfNeed(address, new H160(selectedAssetType));\n        this.props.fetchAvailableAssets(address);\n        this.props.fetchWalletFromStorageIfNeed();\n    };\n\n    private handleSubmit = async (\n        receivers: { address: string; quantity: U64 }[],\n        memo: string,\n        fee?: {\n            payer: string;\n            quantity: U64;\n        } | null\n    ) => {\n        const { UTXOList } = this.props;\n        const {\n            t,\n            selectedAssetType: assetType,\n            address,\n            networkId,\n            passphrase,\n            assetAddresses,\n            platformAddresses,\n            assetScheme\n        } = this.props;\n\n        if (!assetAddresses || !platformAddresses || !assetScheme) {\n            return;\n        }\n\n        const sumOfSendingAsset = _.reduce(\n            receivers,\n            (m, receiver) => U64.plus(m, receiver.quantity),\n            new U64(0)\n        );\n\n        const inputUTXO = [];\n        let inputUTXOSum = new U64(0);\n        for (const utxo of UTXOList!) {\n            inputUTXO.push(utxo);\n            inputUTXOSum = U64.plus(inputUTXOSum, utxo.quantity);\n            if (inputUTXOSum.gte(sumOfSendingAsset)) {\n                break;\n            }\n        }\n\n        const sdk = new SDK({\n            server: getCodeChainHost(networkId),\n            networkId\n        });\n        const ccKey = await getCCKey();\n\n        const storedPlatformKeys = getPlatformKeys(networkId);\n        const storedAssetKeys = getAssetKeys(networkId);\n        const seedHash = await getFirstSeedHash();\n\n        const platformKeyMapping = _.reduce(\n            storedPlatformKeys,\n            (m, storedPlatformKey) => {\n                return {\n                    ...m,\n                    [storedPlatformKey.key]: {\n                        seedHash,\n                        path: getPlatformAddressPath(\n                            storedPlatformKey.pathIndex\n                        )\n                    }\n                };\n            },\n            {}\n        );\n\n        const assetKeyMapping = _.reduce(\n            storedAssetKeys,\n            (m, storedAssetKey) => {\n                return {\n                    ...m,\n                    [storedAssetKey.key]: {\n                        seedHash,\n                        path: getAssetAddressPath(storedAssetKey.pathIndex)\n                    }\n                };\n            },\n            {}\n        );\n\n        const keyStore = new LocalKeyStore(ccKey, {\n            platform: platformKeyMapping,\n            asset: assetKeyMapping\n        });\n\n        const inputAssets = _.map(inputUTXO, utxo => {\n            return Asset.fromJSON({\n                assetType: utxo.assetType,\n                lockScriptHash: utxo.lockScriptHash,\n                parameters: utxo.parameters,\n                quantity: utxo.quantity,\n                tracker: utxo.transactionTracker,\n                transactionOutputIndex: utxo.transactionOutputIndex,\n                orderHash: utxo.orderHash,\n                shardId: utxo.shardId\n            }).createTransferInput();\n        });\n        const outputData = _.map(receivers, receiver => {\n            return {\n                recipient: receiver.address,\n                quantity: receiver.quantity,\n                shardId: 0, // FIXME: Add a valid data\n                assetType\n            };\n        });\n\n        const refundAmount = U64.minus(inputUTXOSum, sumOfSendingAsset);\n        if (refundAmount.gt(0)) {\n            outputData.push({\n                recipient: address,\n                quantity: refundAmount,\n                assetType,\n                shardId: 0\n            });\n        }\n        const outputs = _.map(\n            outputData,\n            o =>\n                new AssetTransferOutput({\n                    recipient: AssetTransferAddress.fromString(o.recipient),\n                    quantity: o.quantity,\n                    shardId: 0, // FIXME: Add a valid data\n                    assetType: new H160(o.assetType)\n                })\n        );\n        const transferTx = sdk.core.createTransferAssetTransaction({\n            inputs: inputAssets,\n            outputs,\n            metadata: memo\n        });\n        try {\n            await Promise.all(\n                _.map(inputAssets, (_A, index) => {\n                    return sdk.key.signTransactionInput(transferTx, index, {\n                        keyStore,\n                        passphrase\n                    });\n                })\n            );\n        } catch (e) {\n            if (e.message === \"DecryptionFailed\") {\n                toast.error(t(\"send:asset.error.password.wrong\"), {\n                    position: toast.POSITION.BOTTOM_CENTER,\n                    autoClose: 5000,\n                    closeButton: false,\n                    hideProgressBar: true\n                });\n            }\n            console.log(e);\n            return;\n        }\n        const metadata = Metadata.parseMetadata(assetScheme.metadata);\n\n        this.setState({ isSendingTx: true });\n        if (metadata.gateway && metadata.gateway.url) {\n            try {\n                await this.props.sendTransactionByGateway(\n                    address,\n                    transferTx,\n                    metadata.gateway.url\n                );\n                this.setState({ isSentTx: true });\n            } catch (e) {\n                toast.error(t(\"send:asset.error.gateway.unauthorized\"), {\n                    position: toast.POSITION.BOTTOM_CENTER,\n                    closeButton: false,\n                    hideProgressBar: true,\n                    autoClose: false\n                });\n                console.error(e);\n            }\n        } else {\n            const feePayer = fee!.payer;\n            const seq = await sdk.rpc.chain.getSeq(feePayer);\n            const {\n                transactions\n            } = await sdk.rpc.chain.getPendingTransactions();\n            const newSeq =\n                seq +\n                transactions.filter(\n                    tx =>\n                        tx.getSignerAddress({ networkId }).toString() ===\n                        feePayer\n                ).length;\n            const signedTransaction = await sdk.key.signTransaction(\n                transferTx,\n                {\n                    account: feePayer,\n                    keyStore,\n                    fee: fee!.quantity,\n                    seq: newSeq,\n                    passphrase\n                }\n            );\n            try {\n                await this.props.sendSignedTransaction(\n                    address,\n                    signedTransaction,\n                    feePayer\n                );\n                this.setState({ isSentTx: true });\n            } catch (e) {\n                toast.error(\"Server is not responding.\", {\n                    position: toast.POSITION.BOTTOM_CENTER,\n                    autoClose: 5000,\n                    closeButton: false,\n                    hideProgressBar: true\n                });\n                console.error(e);\n            }\n        }\n        this.setState({ isSendingTx: false });\n    };\n}\n\nconst mapStateToProps = (state: ReducerConfigure, ownProps: OwnProps) => {\n    const { selectedAssetType, address } = ownProps;\n    const assetScheme =\n        state.assetReducer.assetScheme[new H160(selectedAssetType).value];\n    const id = getIdForCacheUTXO(address, new H160(selectedAssetType));\n    const UTXOList = state.assetReducer.UTXOList[id];\n    const availableAssets = state.assetReducer.availableAssets[address];\n    const networkId = state.globalReducer.networkId;\n    const passphrase = state.globalReducer.passphrase!;\n    const assetAddresses = state.walletReducer.assetAddresses;\n    const platformAddresses = state.walletReducer.platformAddresses;\n    return {\n        assetScheme: assetScheme && assetScheme.data,\n        UTXOList: UTXOList && UTXOList.data,\n        availableAssets,\n        networkId,\n        passphrase,\n        platformAddresses,\n        assetAddresses\n    };\n};\n\nconst mapDispatchToProps = (\n    dispatch: ThunkDispatch<ReducerConfigure, void, Action>\n) => ({\n    fetchAssetSchemeIfNeed: (assetType: H160) => {\n        dispatch(assetActions.fetchAssetSchemeIfNeed(assetType));\n    },\n    fetchAvailableAssets: (address: string) => {\n        dispatch(assetActions.fetchAvailableAssets(address));\n    },\n    sendTransactionByGateway: (\n        address: string,\n        transferTx: Transaction,\n        gatewayURL: string\n    ) => {\n        return dispatch(\n            chainActions.sendTransactionByGateway(\n                address,\n                transferTx,\n                gatewayURL\n            )\n        );\n    },\n    sendSignedTransaction: (\n        address: string,\n        signedTransaction: SignedTransaction,\n        feePayer: string\n    ) => {\n        return dispatch(\n            chainActions.sendSignedTransaction(\n                address,\n                signedTransaction,\n                feePayer\n            )\n        );\n    },\n    fetchUTXOListIfNeed: (address: string, assetType: H160) => {\n        dispatch(assetActions.fetchUTXOListIfNeed(address, assetType));\n    },\n    fetchWalletFromStorageIfNeed: () => {\n        dispatch(walletActions.fetchWalletFromStorageIfNeed());\n    }\n});\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withTranslation()(SendAsset));\n","import { AggsUTXODoc, TransactionDoc } from \"codechain-indexer-types\";\nimport { U64 } from \"codechain-sdk/lib/core/classes\";\nimport _ from \"lodash\";\nimport React from \"react\";\nimport { Trans, WithTranslation, withTranslation } from \"react-i18next\";\nimport { connect } from \"react-redux\";\nimport { match } from \"react-router\";\nimport { Action } from \"redux\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { NetworkId } from \"../../model/address\";\nimport { ReducerConfigure } from \"../../redux\";\nimport assetActions from \"../../redux/asset/assetActions\";\nimport chainActions from \"../../redux/chain/chainActions\";\nimport walletActions from \"../../redux/wallet/walletActions\";\nimport AddressContainer from \"../AddressContainer/AddressContainer\";\nimport AssetTxHistory from \"../AssetTxHistory/AssetTxHistory\";\nimport AssetItem from \"./AssetItem/AssetItem\";\nimport \"./AssetList.css\";\nimport Empty from \"./img/cautiondisabled.svg\";\nimport SendAsset from \"./SendAsset/SendAsset\";\n\ninterface OwnProps {\n    match: match<{ address: string }>;\n}\n\ninterface StateProps {\n    addressUTXOList?: AggsUTXODoc[] | null;\n    pendingTxList?: TransactionDoc[] | null;\n    availableAssets?:\n        | {\n              assetType: string;\n              quantities: U64;\n          }[]\n        | null;\n    networkId: NetworkId;\n    addressIndex?: number | null;\n}\n\ninterface DispatchProps {\n    fetchAggsUTXOListIfNeed: (address: string) => void;\n    fetchPendingTxListIfNeed: (address: string) => void;\n    fetchAvailableAssets: (address: string) => void;\n    fetchWalletFromStorageIfNeed: () => void;\n}\n\ninterface State {\n    selectedAssetType?: string | null;\n}\n\ntype Props = WithTranslation & OwnProps & StateProps & DispatchProps;\n\nclass AssetList extends React.Component<Props, State> {\n    private refresher: any;\n    public constructor(props: Props) {\n        super(props);\n        this.state = {\n            selectedAssetType: undefined\n        };\n    }\n    public componentWillReceiveProps(props: Props) {\n        const {\n            match: {\n                params: { address }\n            }\n        } = this.props;\n        const {\n            match: {\n                params: { address: nextAddress }\n            }\n        } = props;\n        if (nextAddress !== address) {\n            this.setState({ selectedAssetType: undefined });\n            this.init();\n        }\n    }\n\n    public componentDidMount() {\n        this.init();\n    }\n\n    public componentWillUnmount() {\n        this.clearInterval();\n    }\n\n    public render() {\n        const {\n            match: {\n                params: { address }\n            }\n        } = this.props;\n        const {\n            addressUTXOList,\n            pendingTxList,\n            availableAssets,\n            networkId,\n            addressIndex\n        } = this.props;\n        const { selectedAssetType } = this.state;\n        if (!addressUTXOList || !pendingTxList || !availableAssets) {\n            return null;\n        }\n        return (\n            <div className=\"Asset-list animated fadeIn\">\n                <div className=\"d-flex\">\n                    <div className=\"left-panel mx-auto\">\n                        <AddressContainer\n                            address={address}\n                            backButtonPath=\"/\"\n                            addressIndex={addressIndex}\n                        />\n                        <div>\n                            <div className=\"element-container mb-3\">\n                                <h4 className=\"mb-3\">\n                                    <Trans i18nKey=\"send:asset.list.title\" />\n                                </h4>\n                                <div className=\"asset-item-container\">\n                                    {availableAssets.length > 0 ? (\n                                        _.map(\n                                            availableAssets,\n                                            availableAsset => (\n                                                <AssetItem\n                                                    key={\n                                                        availableAsset.assetType\n                                                    }\n                                                    assetType={\n                                                        availableAsset.assetType\n                                                    }\n                                                    quantities={\n                                                        availableAsset.quantities\n                                                    }\n                                                    networkId={networkId}\n                                                    address={address}\n                                                    onSelect={\n                                                        this.handleSelectAsset\n                                                    }\n                                                    isSelected={\n                                                        selectedAssetType !==\n                                                            undefined &&\n                                                        selectedAssetType ===\n                                                            availableAsset.assetType\n                                                    }\n                                                />\n                                            )\n                                        )\n                                    ) : (\n                                        <div className=\"d-flex align-items-center justify-content-center\">\n                                            <div>\n                                                <div className=\"text-center mt-3\">\n                                                    <img\n                                                        src={Empty}\n                                                        alt={\"empty\"}\n                                                    />\n                                                </div>\n                                                <div className=\"mt-3 empty\">\n                                                    <Trans i18nKey=\"send:asset.list.empty\" />\n                                                </div>\n                                            </div>\n                                        </div>\n                                    )}\n                                </div>\n                            </div>\n                            <div className=\"element-container mb-3\">\n                                <h4 className=\"mb-3\">\n                                    <Trans i18nKey=\"send:asset.recent.title\" />\n                                </h4>\n                                <AssetTxHistory address={address} />\n                            </div>\n                        </div>\n                    </div>\n                    {selectedAssetType && (\n                        <div className=\"right-container\">\n                            <div className=\"right-panel\">\n                                <SendAsset\n                                    address={address}\n                                    selectedAssetType={selectedAssetType}\n                                    onClose={this.handleSendAssetClose}\n                                />\n                            </div>\n                        </div>\n                    )}\n                </div>\n            </div>\n        );\n    }\n    private handleSendAssetClose = () => {\n        this.setState({ selectedAssetType: undefined });\n    };\n    private handleSelectAsset = (assetType: string) => {\n        window.scrollTo(0, 0);\n\n        const selectedAssetType = this.state.selectedAssetType;\n        if (!selectedAssetType) {\n            this.setState({\n                selectedAssetType: assetType\n            });\n        } else if (selectedAssetType === assetType) {\n            this.setState({\n                selectedAssetType: undefined\n            });\n        } else {\n            this.setState({\n                selectedAssetType: undefined\n            });\n            setTimeout(() => {\n                this.setState({ selectedAssetType: assetType });\n            }, 100);\n        }\n    };\n    private init = async () => {\n        this.clearInterval();\n        this.refresher = setInterval(() => {\n            this.fetchAll();\n        }, 10000);\n        this.fetchAll();\n    };\n    private clearInterval = () => {\n        if (this.refresher) {\n            clearInterval(this.refresher);\n        }\n    };\n    private fetchAll = async () => {\n        const {\n            match: {\n                params: { address }\n            }\n        } = this.props;\n        this.props.fetchPendingTxListIfNeed(address);\n        this.props.fetchAggsUTXOListIfNeed(address);\n        this.props.fetchAvailableAssets(address);\n        this.props.fetchWalletFromStorageIfNeed();\n    };\n}\n\nconst mapStateToProps = (state: ReducerConfigure, props: OwnProps) => {\n    const {\n        match: {\n            params: { address }\n        }\n    } = props;\n    const aggsUTXOList = state.assetReducer.aggsUTXOList[address];\n    const pendingTxList = state.chainReducer.pendingTxList[address];\n    const availableAssets = state.assetReducer.availableAssets[address];\n    const networkId = state.globalReducer.networkId;\n    const assetAddress = _.find(\n        state.walletReducer.assetAddresses,\n        aa => aa.address === address\n    );\n    return {\n        addressUTXOList: aggsUTXOList && aggsUTXOList.data,\n        pendingTxList: pendingTxList && pendingTxList.data,\n        availableAssets,\n        networkId,\n        addressIndex: assetAddress && assetAddress.index\n    };\n};\nconst mapDispatchToProps = (\n    dispatch: ThunkDispatch<ReducerConfigure, void, Action>\n) => ({\n    fetchAggsUTXOListIfNeed: (address: string) => {\n        dispatch(assetActions.fetchAggsUTXOListIfNeed(address));\n    },\n    fetchPendingTxListIfNeed: (address: string) => {\n        dispatch(chainActions.fetchPendingTxListIfNeed(address));\n    },\n    fetchAvailableAssets: (address: string) => {\n        dispatch(assetActions.fetchAvailableAssets(address));\n    },\n    fetchWalletFromStorageIfNeed: () => {\n        dispatch(walletActions.fetchWalletFromStorageIfNeed());\n    }\n});\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withTranslation()(AssetList));\n","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React from \"react\";\nimport { Container } from \"reactstrap\";\n\nimport _ from \"lodash\";\nimport { connect } from \"react-redux\";\nimport { Link, RouteComponentProps, withRouter } from \"react-router-dom\";\nimport { Action } from \"redux\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport {\n    clearKeystore,\n    createSeed,\n    exportMnemonic\n} from \"../../model/keystore\";\nimport { ReducerConfigure } from \"../../redux\";\nimport globalActions from \"../../redux/global/globalActions\";\nimport actions from \"../../redux/wallet/walletActions\";\nimport { clearPassphrase, clearWalletKeys } from \"../../utils/storage\";\nimport ConfirmBackupPhrase from \"./ConfirmBackupPhrase/ConfirmBackupPhrase\";\nimport \"./CreateWallet.css\";\nimport InputPassphrase from \"./InputPassphrase/InputPassphrase\";\nimport ShowBackupPhrase from \"./ShowBackupPhrase/ShowBackupPhrase\";\n\nenum PageState {\n    inputPassPhrase = 1,\n    showSecretPhrase,\n    confirmSecretPhrase\n}\n\ninterface State {\n    currentPage: PageState;\n    passphrase?: string | null;\n    mnemonic?: string[];\n    username?: string;\n}\n\ninterface DispatchProps {\n    login: (passpharase: string) => Promise<void>;\n    clearData: () => Promise<void>;\n    createWalletAssetAddress: () => Promise<void>;\n    createWalletPlatformAddress: () => Promise<void>;\n}\n\ntype Props = RouteComponentProps & DispatchProps;\nclass CreateWallet extends React.Component<Props, State> {\n    public constructor(props: any) {\n        super(props);\n        this.state = {\n            currentPage: PageState.inputPassPhrase,\n            passphrase: undefined,\n            username: undefined\n        };\n    }\n    public async componentDidMount() {\n        const { clearData } = this.props;\n        clearPassphrase();\n        clearData();\n        clearWalletKeys();\n        await clearKeystore();\n    }\n    public render() {\n        const { currentPage, mnemonic } = this.state;\n        return (\n            <Container className=\"Create-wallet animated fadeIn\">\n                <div className=\"close-btn\">\n                    <Link to=\"/selectKeyfile\">\n                        <FontAwesomeIcon icon=\"times\" className=\"icon\" />\n                    </Link>\n                </div>\n                <div className=\"create-wallet-form-group\">\n                    {currentPage === PageState.inputPassPhrase && (\n                        <InputPassphrase\n                            onSubmit={this.handleSubmitPassphraseInput}\n                        />\n                    )}\n                    {currentPage === PageState.showSecretPhrase && (\n                        <ShowBackupPhrase\n                            onSubmit={this.handleSubmitShowPhrase}\n                            mnemonic={mnemonic!}\n                        />\n                    )}\n                    {currentPage === PageState.confirmSecretPhrase && (\n                        <ConfirmBackupPhrase\n                            phrases={mnemonic!}\n                            onConfirm={this.handleConfirmPhrase}\n                        />\n                    )}\n                </div>\n                <div className=\"dot-indicator-container\">\n                    {_.map(_.range(3), index => {\n                        return (\n                            <FontAwesomeIcon\n                                key={`dot-${index}`}\n                                icon=\"circle\"\n                                className={`indicator-icon ${\n                                    index < currentPage ? \"active\" : \"inactive\"\n                                }`}\n                            />\n                        );\n                    })}\n                </div>\n            </Container>\n        );\n    }\n\n    private handleSubmitPassphraseInput = async (\n        username: string,\n        passphrase: string\n    ) => {\n        await createSeed(passphrase);\n        const mnemonicString = await exportMnemonic(passphrase);\n        const mnemonic = mnemonicString.split(\" \");\n        this.setState({\n            currentPage: PageState.showSecretPhrase,\n            passphrase,\n            mnemonic,\n            username\n        });\n    };\n\n    private handleSubmitShowPhrase = () => {\n        this.setState({ currentPage: PageState.confirmSecretPhrase });\n    };\n\n    private handleConfirmPhrase = async () => {\n        const { login, history } = this.props;\n        const { passphrase, username } = this.state;\n        localStorage.setItem(\"USERNAME\", username!);\n        await login(passphrase!);\n        await this.props.createWalletAssetAddress();\n        await this.props.createWalletPlatformAddress();\n        history.push(`/`);\n    };\n}\n\nconst mapDispatchToProps = (\n    dispatch: ThunkDispatch<ReducerConfigure, void, Action>\n) => ({\n    login: (passphrase: string) => {\n        return dispatch(globalActions.login(passphrase));\n    },\n    clearData: () => {\n        return dispatch(globalActions.clearData());\n    },\n    createWalletPlatformAddress: () => {\n        return dispatch(actions.createWalletPlatformAddress());\n    },\n    createWalletAssetAddress: () => {\n        return dispatch(actions.createWalletAssetAddress());\n    }\n});\n\nexport default connect(\n    () => ({}),\n    mapDispatchToProps\n)(withRouter(CreateWallet));\n","import _ from \"lodash\";\nimport React from \"react\";\nimport { Trans, WithTranslation, withTranslation } from \"react-i18next\";\nimport \"./ConfirmBackupPhrase.css\";\n\ninterface OwnProps {\n    phrases: string[];\n    onConfirm: () => void;\n}\n\ninterface State {\n    selectedPhrasesIndex?: number[] | null;\n    suffledPhrases: string[];\n}\n\ntype Props = WithTranslation & OwnProps;\n\nclass ConfirmBackupPhrase extends React.Component<Props, State> {\n    constructor(props: Props) {\n        super(props);\n        this.state = {\n            selectedPhrasesIndex: undefined,\n            suffledPhrases: _.shuffle(this.props.phrases)\n        };\n    }\n    public componentDidMount() {\n        window.scrollTo(0, 0);\n    }\n    public render() {\n        const { phrases, onConfirm } = this.props;\n        const { selectedPhrasesIndex, suffledPhrases } = this.state;\n        return (\n            <div className=\"Confirm-backup-phrase animated fadeIn\">\n                <div className=\"title-container\">\n                    <h4 className=\"title\">\n                        <Trans i18nKey=\"create:confirm.title\" />\n                    </h4>\n                </div>\n                <div className=\"description\">\n                    <Trans i18nKey=\"create:confirm.detail\" />\n                </div>\n                <div>\n                    <div className=\"backup-phrase-input d-flex align-items-center justify-content-center\">\n                        {selectedPhrasesIndex &&\n                            this.indexToString(selectedPhrasesIndex).join(\" \")}\n                    </div>\n                    <div className=\"backup-phrase-button-container text-center\">\n                        <div>\n                            {_.map(suffledPhrases, (text, index) => {\n                                return (\n                                    <button\n                                        key={`phrase-${text}`}\n                                        className={`btn btn-primary backup-phrase-btn ${selectedPhrasesIndex &&\n                                            _.includes(\n                                                selectedPhrasesIndex,\n                                                index\n                                            ) &&\n                                            \"reverse\"}`}\n                                        onClick={_.partial(\n                                            this.toggleSelectPhrase,\n                                            index\n                                        )}\n                                    >\n                                        {text}\n                                    </button>\n                                );\n                            })}\n                        </div>\n                    </div>\n                </div>\n                <div>\n                    <button\n                        className=\"btn btn-primary reverse square main-btn\"\n                        disabled={\n                            selectedPhrasesIndex == null ||\n                            !_.isEqual(\n                                phrases,\n                                this.indexToString(selectedPhrasesIndex)\n                            )\n                        }\n                        onClick={onConfirm}\n                    >\n                        <Trans i18nKey=\"create:confirm.button\" />\n                    </button>\n                </div>\n            </div>\n        );\n    }\n    private indexToString = (selectedPhraseIndex: number[]) => {\n        const { suffledPhrases } = this.state;\n        return _.map(selectedPhraseIndex, i => suffledPhrases[i]);\n    };\n    private toggleSelectPhrase = (index: number) => {\n        const { selectedPhrasesIndex } = this.state;\n        if (!selectedPhrasesIndex) {\n            this.setState({ selectedPhrasesIndex: [index] });\n            return;\n        }\n        if (_.includes(selectedPhrasesIndex, index)) {\n            this.setState({\n                selectedPhrasesIndex: _.filter(\n                    selectedPhrasesIndex,\n                    sp => sp !== index\n                )\n            });\n        } else {\n            this.setState({\n                selectedPhrasesIndex: [...selectedPhrasesIndex, index]\n            });\n        }\n    };\n}\nexport default withTranslation()(ConfirmBackupPhrase);\n","import React from \"react\";\nimport { Trans, WithTranslation, withTranslation } from \"react-i18next\";\n\nimport { Form } from \"reactstrap\";\nimport ValidationInput from \"../../ValidationInput/ValidationInput\";\nimport \"./InputPassphrase.css\";\n\ninterface State {\n    passphrase: string;\n    passphraseConfirm: string;\n    isPassphraseValid?: boolean;\n    passphraseError?: string;\n    isPassphraseConfirmValid?: boolean;\n    passphraseConfirmError?: string;\n    isSubmitted: boolean;\n    username: string;\n    isUsernameValid?: boolean;\n    usernameError?: string;\n    hasAgreeTOC: boolean;\n    hasAgreePP: boolean;\n}\n\nconst TermsOfConditionLink =\n    \"https://docs.google.com/document/d/1-HJep6vXMaiX4p62ijIfAc9yyX_rKAFkFLPsMod8tl0/edit?usp=sharing\";\nconst PPLink =\n    \"https://docs.google.com/document/d/13Bonpgp2Va4dDlAIzvH2JSKFyOBlSSUrvFQ_PE2YqWI/edit?usp=sharing\";\n\ninterface OwnProps {\n    onSubmit: (username: string, passphrase: string) => void;\n}\n\ntype Props = WithTranslation & OwnProps;\n\nclass InputPassphrase extends React.Component<Props, State> {\n    public constructor(props: Props) {\n        super(props);\n        this.state = {\n            passphrase: \"\",\n            passphraseConfirm: \"\",\n            isPassphraseValid: undefined,\n            passphraseError: undefined,\n            isPassphraseConfirmValid: undefined,\n            passphraseConfirmError: undefined,\n            isSubmitted: false,\n            username: \"\",\n            isUsernameValid: undefined,\n            usernameError: undefined,\n            hasAgreeTOC: false,\n            hasAgreePP: false\n        };\n    }\n    public render() {\n        const { t } = this.props;\n        const {\n            passphrase,\n            passphraseConfirm,\n            isPassphraseConfirmValid,\n            isPassphraseValid,\n            passphraseConfirmError,\n            passphraseError,\n            isSubmitted,\n            username,\n            isUsernameValid,\n            usernameError,\n            hasAgreeTOC,\n            hasAgreePP\n        } = this.state;\n        return (\n            <Form\n                className=\"Input-passphrase animated fadeIn\"\n                onSubmit={this.handleOnFormSubmit}\n            >\n                <div className=\"title-container\">\n                    <h4 className=\"title\">\n                        <Trans i18nKey=\"create:seed.title\" />\n                    </h4>\n                </div>\n                <div>\n                    <ValidationInput\n                        labelText={t(\"create:seed.name\")}\n                        onChange={this.handleUsernameInput}\n                        value={username}\n                        showValidation={true}\n                        placeholder={t(\"create:seed.name\")}\n                        type=\"text\"\n                        isValid={isUsernameValid}\n                        error={usernameError}\n                        onBlur={this.checkUsernameValid}\n                    />\n                </div>\n                <div>\n                    <ValidationInput\n                        labelText={t(\"create:seed.password\")}\n                        onChange={this.handlePassphraseInput}\n                        value={passphrase}\n                        showValidation={true}\n                        placeholder={t(\"create:seed.password\")}\n                        type=\"password\"\n                        isValid={isPassphraseValid}\n                        error={passphraseError}\n                        onBlur={this.checkPassphraseValid}\n                    />\n                </div>\n                <div>\n                    <ValidationInput\n                        labelText={t(\"create:seed.password_confirm\")}\n                        onChange={this.handlePassphraseConfirmInput}\n                        value={passphraseConfirm}\n                        showValidation={true}\n                        placeholder={t(\"create:seed.password_confirm\")}\n                        type=\"password\"\n                        isValid={isPassphraseConfirmValid}\n                        error={passphraseConfirmError}\n                        onBlur={this.checkPassphraseConfirm}\n                    />\n                </div>\n                <div className=\"form-container\">\n                    <div className=\"form-check\">\n                        <input\n                            type=\"checkbox\"\n                            className=\"form-check-input\"\n                            id=\"tocCheck\"\n                            checked={hasAgreeTOC}\n                            onChange={this.handleTOCClick}\n                        />\n                        <label className=\"form-check-label\" htmlFor=\"tocCheck\">\n                            <Trans i18nKey=\"create:seed.terms\">\n                                {/* eslint-disable-next-line */}\n                                <a\n                                    href={`${TermsOfConditionLink}`}\n                                    target=\"_blank\"\n                                    rel=\"noopener noreferrer\"\n                                />\n                            </Trans>\n                        </label>\n                    </div>\n                    <div className=\"form-check\">\n                        <input\n                            type=\"checkbox\"\n                            className=\"form-check-input\"\n                            id=\"ppCheck\"\n                            checked={hasAgreePP}\n                            onChange={this.handlePPClick}\n                        />\n                        <label className=\"form-check-label\" htmlFor=\"ppCheck\">\n                            <Trans i18nKey=\"create:seed.privacy\">\n                                {/* eslint-disable-next-line */}\n                                <a\n                                    href={`${PPLink}`}\n                                    target=\"_blank\"\n                                    rel=\"noopener noreferrer\"\n                                />\n                            </Trans>\n                        </label>\n                    </div>\n                </div>\n                <div className=\"mt-5\">\n                    <button\n                        className=\"btn btn-primary reverse square main-btn\"\n                        disabled={isSubmitted || !hasAgreePP || !hasAgreeTOC}\n                        type=\"submit\"\n                    >\n                        {isSubmitted\n                            ? t(\"create:seed.creating\")\n                            : t(\"create:seed.ok\")}\n                    </button>\n                </div>\n            </Form>\n        );\n    }\n\n    private handleTOCClick = (event: React.ChangeEvent<HTMLInputElement>) => {\n        this.setState({\n            hasAgreeTOC: event.target.checked\n        });\n    };\n\n    private handlePPClick = (event: React.ChangeEvent<HTMLInputElement>) => {\n        this.setState({\n            hasAgreePP: event.target.checked\n        });\n    };\n\n    private handleOnFormSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n        event.preventDefault();\n        this.handleSubmit();\n    };\n\n    private handleSubmit = () => {\n        const { onSubmit } = this.props;\n        const { passphrase, username } = this.state;\n        if (!this.checkUsernameValid()) {\n            return;\n        }\n        if (!this.checkPassphraseValid()) {\n            return;\n        }\n        if (!this.checkPassphraseConfirm()) {\n            return;\n        }\n\n        this.setState({ isSubmitted: true });\n\n        setTimeout(() => {\n            onSubmit(username, passphrase);\n        }, 500);\n    };\n\n    private checkPassphraseValid = () => {\n        const { passphrase } = this.state;\n        if (passphrase.length < 8) {\n            this.setState({\n                passphraseError: this.props.t(\"create:seed.error.pass_minimum\"),\n                isPassphraseValid: false\n            });\n            return false;\n        }\n\n        this.setState({\n            passphraseError: undefined,\n            isPassphraseValid: true\n        });\n        return true;\n    };\n\n    private checkPassphraseConfirm = () => {\n        const { passphrase, passphraseConfirm } = this.state;\n        if (passphrase !== passphraseConfirm) {\n            this.setState({\n                passphraseConfirmError: this.props.t(\n                    \"create:seed.error.pass_mismatch\"\n                ),\n                isPassphraseConfirmValid: false\n            });\n            return false;\n        }\n\n        this.setState({\n            passphraseConfirmError: undefined,\n            isPassphraseConfirmValid: true\n        });\n        return true;\n    };\n\n    private checkUsernameValid = () => {\n        const { username } = this.state;\n        if (username === \"\") {\n            this.setState({\n                isUsernameValid: false,\n                usernameError: this.props.t(\"create:seed.error.name_required\")\n            });\n            return false;\n        }\n        if (username.length > 20) {\n            this.setState({\n                usernameError: this.props.t(\"create:seed.error.name_maximum\"),\n                isUsernameValid: false\n            });\n            return false;\n        }\n        this.setState({\n            isUsernameValid: true,\n            usernameError: undefined\n        });\n        return true;\n    };\n\n    private handlePassphraseInput = (\n        event: React.ChangeEvent<HTMLInputElement>\n    ) => {\n        this.setState({\n            passphraseError: undefined,\n            isPassphraseValid: undefined\n        });\n        this.setState({\n            passphrase: event.target.value,\n            passphraseConfirm: \"\",\n            passphraseConfirmError: undefined,\n            isPassphraseConfirmValid: undefined\n        });\n    };\n\n    private handlePassphraseConfirmInput = (\n        event: React.ChangeEvent<HTMLInputElement>\n    ) => {\n        this.setState({\n            passphraseConfirmError: undefined,\n            isPassphraseConfirmValid: undefined\n        });\n        this.setState({ passphraseConfirm: event.target.value });\n    };\n\n    private handleUsernameInput = (\n        event: React.ChangeEvent<HTMLInputElement>\n    ) => {\n        this.setState({\n            username: event.target.value,\n            usernameError: undefined,\n            isUsernameValid: undefined\n        });\n    };\n}\n\nexport default withTranslation()(InputPassphrase);\n","import React from \"react\";\nimport CopyToClipboard from \"react-copy-to-clipboard\";\nimport { Trans, WithTranslation, withTranslation } from \"react-i18next\";\nimport { toast } from \"react-toastify\";\nimport \"./ShowBackupPhrase.css\";\n\ninterface OwnProps {\n    onSubmit: () => void;\n    mnemonic: string[];\n}\ntype Props = WithTranslation & OwnProps;\n\nclass ShowBackupPhrase extends React.Component<Props> {\n    public componentDidMount() {\n        window.scrollTo(0, 0);\n    }\n    public render() {\n        const { mnemonic } = this.props;\n        return (\n            <div className=\"Show-backup-phrase animated fadeIn\">\n                <div className=\"title-container\">\n                    <h4 className=\"title\">\n                        <Trans i18nKey=\"create:mnemonic.title\" />\n                    </h4>\n                </div>\n                <div className=\"text-1\">\n                    <Trans i18nKey=\"create:mnemonic.detail\" />\n                </div>\n                <div className=\"warning-text\">\n                    <Trans i18nKey=\"create:mnemonic.warning\" />\n                </div>\n                <div className=\"tips-container\">\n                    <p className=\"tips-text mb-0\">\n                        <Trans i18nKey=\"create:mnemonic.tip\" />\n                    </p>\n                    <span className=\"text-2\">\n                        <Trans i18nKey=\"create:mnemonic.tip_detail\" />\n                    </span>\n                </div>\n                <div className=\"backup-phrase-container\">\n                    <div className=\"backup-phrase-panel d-flex align-items-center justify-content-center\">\n                        <span>{mnemonic.join(\" \")}</span>\n                        <CopyToClipboard\n                            text={mnemonic.join(\" \")}\n                            onCopy={this.handleCopyPhrase}\n                        >\n                            <div className=\"copy-btn\">\n                                <span>\n                                    <Trans i18nKey=\"create:mnemonic.copy\" />\n                                </span>\n                            </div>\n                        </CopyToClipboard>\n                    </div>\n                </div>\n                <div>\n                    <button\n                        className=\"btn btn-primary reverse square main-btn\"\n                        type=\"submit\"\n                        onClick={this.props.onSubmit}\n                    >\n                        <Trans i18nKey=\"create:mnemonic.button\" />\n                    </button>\n                </div>\n            </div>\n        );\n    }\n\n    private handleCopyPhrase = () => {\n        toast.info(this.props.t(\"create:mnemonic.copied\"), {\n            position: toast.POSITION.BOTTOM_CENTER,\n            autoClose: 1000,\n            closeButton: false,\n            hideProgressBar: true\n        });\n    };\n}\n\nexport default withTranslation()(ShowBackupPhrase);\n","import React from \"react\";\nimport { WithTranslation, withTranslation } from \"react-i18next\";\nimport { Col, Container, Row } from \"reactstrap\";\nimport facebook from \"./img/facebook.svg\";\nimport github from \"./img/github.svg\";\nimport gitter from \"./img/gitter.svg\";\nimport medium from \"./img/medium.svg\";\nimport telegram from \"./img/telegram.svg\";\nimport twitter from \"./img/twitter.svg\";\nimport \"./index.css\";\n\ntype Props = WithTranslation;\n\nclass Footer extends React.Component<Props> {\n    public render() {\n        return (\n            <div className=\"Footer\">\n                <Container>\n                    <Row>\n                        <Col lg={6} className=\"left-panel\">\n                            <ul className=\"left-menu-list list-inline list-unstyled\">\n                                <li className=\"list-inline-item\">\n                                    <a\n                                        target=\"_blank\"\n                                        rel=\"noopener noreferrer\"\n                                        href=\"https://codechain.io\"\n                                    >\n                                        About Us\n                                    </a>\n                                </li>\n                                <li className=\"list-inline-item\">\n                                    <a\n                                        target=\"_blank\"\n                                        rel=\"noopener noreferrer\"\n                                        href=\"https://codechain.io/#contact\"\n                                    >\n                                        Contact\n                                    </a>\n                                </li>\n                                <li className=\"list-inline-item\">\n                                    <a\n                                        target=\"_blank\"\n                                        rel=\"noopener noreferrer\"\n                                        href=\"https://docs.google.com/document/d/13Bonpgp2Va4dDlAIzvH2JSKFyOBlSSUrvFQ_PE2YqWI/edit?usp=sharing\"\n                                    >\n                                        Privacy Policy\n                                    </a>\n                                </li>\n                                <li className=\"list-inline-item\">\n                                    <a\n                                        target=\"_blank\"\n                                        rel=\"noopener noreferrer\"\n                                        href=\"https://docs.google.com/document/d/1-HJep6vXMaiX4p62ijIfAc9yyX_rKAFkFLPsMod8tl0/edit?usp=sharing\"\n                                    >\n                                        Terms and Conditions\n                                    </a>\n                                </li>\n                            </ul>\n                        </Col>\n                        <Col lg={6} className=\"right-panel\">\n                            <ul className=\"right-menu-list list-unstyled list-unstyled\">\n                                <li className=\"list-inline-item\">\n                                    <a\n                                        target=\"_blank\"\n                                        rel=\"noopener noreferrer\"\n                                        href=\"https://www.facebook.com/codechain/\"\n                                    >\n                                        <img src={facebook} alt={\"facebook\"} />\n                                    </a>\n                                </li>\n                                <li className=\"list-inline-item\">\n                                    <a\n                                        target=\"_blank\"\n                                        rel=\"noopener noreferrer\"\n                                        href=\"https://github.com/CodeChain-io/codechain-web-wallet\"\n                                    >\n                                        <img src={github} alt={\"github\"} />\n                                    </a>\n                                </li>\n                                <li className=\"list-inline-item\">\n                                    <a\n                                        target=\"_blank\"\n                                        rel=\"noopener noreferrer\"\n                                        href=\"https://gitter.im/CodeChain-io/codechain\"\n                                    >\n                                        <img src={gitter} alt={\"gitter\"} />\n                                    </a>\n                                </li>\n                                <li className=\"list-inline-item\">\n                                    <a\n                                        target=\"_blank\"\n                                        rel=\"noopener noreferrer\"\n                                        href=\"https://twitter.com/codechain_io\"\n                                    >\n                                        <img src={twitter} alt={\"twitter\"} />\n                                    </a>\n                                </li>\n                                <li className=\"list-inline-item\">\n                                    <a\n                                        target=\"_blank\"\n                                        rel=\"noopener noreferrer\"\n                                        href=\"https://medium.com/codechain\"\n                                    >\n                                        <img src={medium} alt={\"medium\"} />\n                                    </a>\n                                </li>\n                                <li className=\"list-inline-item\">\n                                    <a\n                                        target=\"_blank\"\n                                        rel=\"noopener noreferrer\"\n                                        href=\"http://t.me/codechain_protocol\"\n                                    >\n                                        <img src={telegram} alt={\"telegram\"} />\n                                    </a>\n                                </li>\n                                <li className=\"list-inline-item language-selector-container\">\n                                    <select\n                                        onChange={this.onLanguageChange}\n                                        className=\"language-selector\"\n                                        value={this.props.i18n.language}\n                                        defaultValue=\"en\"\n                                    >\n                                        <option value=\"en\">English</option>\n                                        <option value=\"ko\"></option>\n                                    </select>\n                                </li>\n                            </ul>\n                        </Col>\n                    </Row>\n                </Container>\n            </div>\n        );\n    }\n\n    public onLanguageChange = (event: React.ChangeEvent<HTMLSelectElement>) => {\n        const lang = event.target.value;\n        this.props.i18n.changeLanguage(lang);\n    };\n}\n\nexport default withTranslation()(Footer);\n","import React from \"react\";\nimport CopyToClipboard from \"react-copy-to-clipboard\";\nimport { Trans, withTranslation, WithTranslation } from \"react-i18next\";\nimport { toast } from \"react-toastify\";\nimport { Button, Modal, ModalBody, ModalHeader } from \"reactstrap\";\nimport Form from \"reactstrap/lib/Form\";\nimport { checkPassphrase, exportMnemonic } from \"../../model/keystore\";\nimport ValidationInput from \"../ValidationInput/ValidationInput\";\nimport \"./ExportBackupPopup.css\";\n\ninterface Props {\n    isOpen: boolean;\n    toggle: () => void;\n    className?: string;\n}\n\ninterface State {\n    passphrase: string;\n    isValidPassphrase?: boolean;\n    passphraseError?: string;\n    revealBackupPhrase: boolean;\n    backupPhraseString?: string | null;\n}\n\nclass ExportBackupPopup extends React.Component<\n    Props & WithTranslation,\n    State\n> {\n    constructor(props: Props & WithTranslation) {\n        super(props);\n        this.state = {\n            passphrase: \"\",\n            isValidPassphrase: undefined,\n            passphraseError: undefined,\n            revealBackupPhrase: false,\n            backupPhraseString: undefined\n        };\n    }\n    public render() {\n        const { className, toggle, isOpen, t } = this.props;\n        const {\n            passphrase,\n            isValidPassphrase,\n            passphraseError,\n            revealBackupPhrase,\n            backupPhraseString\n        } = this.state;\n        return (\n            <Modal\n                isOpen={isOpen}\n                toggle={toggle}\n                className={`Export-backup-popup ${className}`}\n                size=\"sm\"\n                centered={true}\n            >\n                <ModalHeader toggle={toggle}>\n                    <Trans i18nKey=\"backup:title\" />\n                </ModalHeader>\n                <ModalBody>\n                    <Form onSubmit={this.handleOnFormSubmit}>\n                        <div className=\"passphrase-container\">\n                            <div className=\"d-flex align-items-center justify-content-center passphrase-panel\">\n                                {backupPhraseString && [\n                                    <span key=\"backup-phrase\">\n                                        {backupPhraseString}\n                                    </span>,\n                                    <CopyToClipboard\n                                        key=\"copy\"\n                                        text={backupPhraseString}\n                                        onCopy={this.handleCopyPhrase}\n                                    >\n                                        <div className=\"copy-btn\">\n                                            <span>COPY</span>\n                                        </div>\n                                    </CopyToClipboard>\n                                ]}\n                            </div>\n                            {!revealBackupPhrase && (\n                                <div className=\"d-flex align-items-center justify-content-center disable-panel\">\n                                    <span>\n                                        <Trans i18nKey=\"backup:reveal\" />\n                                    </span>\n                                </div>\n                            )}\n                        </div>\n                        <div className=\"mt-3\">\n                            <ValidationInput\n                                onChange={this.handlePassphrase}\n                                value={passphrase}\n                                showValidation={true}\n                                labelText={t(\"backup:password.label\")}\n                                placeholder={t(\"backup:password.placeholder\")}\n                                type=\"password\"\n                                isValid={isValidPassphrase}\n                                error={passphraseError}\n                                onBlur={this.checkPhrase}\n                                disable={revealBackupPhrase}\n                            />\n                        </div>\n                        <div className=\"mb-3\">\n                            <Button\n                                color=\"primary square reverse w-100\"\n                                disabled={\n                                    !passphrase ||\n                                    isValidPassphrase === false ||\n                                    revealBackupPhrase\n                                }\n                            >\n                                <Trans i18nKey=\"backup:see_btn\" />\n                            </Button>\n                        </div>\n                    </Form>\n                </ModalBody>\n            </Modal>\n        );\n    }\n    private handleOnFormSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n        event.preventDefault();\n        this.handleButtonClick();\n    };\n    private handlePassphrase = (event: React.ChangeEvent<HTMLInputElement>) => {\n        this.setState({\n            passphrase: event.target.value,\n            isValidPassphrase: undefined,\n            passphraseError: undefined\n        });\n    };\n    private checkPhrase = async () => {\n        const { passphrase } = this.state;\n        const isValid = await checkPassphrase(passphrase);\n        if (isValid) {\n            this.setState({\n                isValidPassphrase: true,\n                passphraseError: undefined\n            });\n        } else {\n            this.setState({\n                isValidPassphrase: false,\n                passphraseError: this.props.t(\"backup:password_error\")\n            });\n        }\n    };\n    private handleButtonClick = async () => {\n        const { passphrase } = this.state;\n        if (!this.checkPhrase()) {\n            return;\n        }\n\n        const backupPhraseString = await exportMnemonic(passphrase);\n        this.setState({\n            revealBackupPhrase: true,\n            backupPhraseString\n        });\n    };\n    private handleCopyPhrase = () => {\n        toast.info(this.props.t(\"main:copied\"), {\n            position: toast.POSITION.BOTTOM_CENTER,\n            autoClose: 1000,\n            closeButton: false,\n            hideProgressBar: true\n        });\n    };\n}\n\nexport default withTranslation()(ExportBackupPopup);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Popover, PopoverBody } from \"reactstrap\";\nimport { Action } from \"redux\";\nimport { NetworkId } from \"../../../model/address\";\nimport { ReducerConfigure } from \"../../../redux\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { WithTranslation, withTranslation } from \"react-i18next\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport globalActions from \"../../../redux/global/globalActions\";\nimport ExportBackupPopup from \"../../ExportBackupPopup/ExportBackupPopup\";\nimport \"./MenuButton.css\";\n\ninterface OwnProps {\n    className?: string;\n}\n\ninterface StateProps {\n    networkId: NetworkId;\n}\n\ninterface State {\n    popoverOpen: boolean;\n    exportPopupOpen: boolean;\n}\n\ninterface DispatchProps {\n    logout: () => void;\n}\n\ntype Props = WithTranslation & DispatchProps & StateProps & OwnProps;\nclass MenuButton extends React.Component<Props, State> {\n    constructor(props: Props) {\n        super(props);\n        this.state = {\n            popoverOpen: false,\n            exportPopupOpen: false\n        };\n    }\n    public render() {\n        const { className, t } = this.props;\n        const { exportPopupOpen, popoverOpen } = this.state;\n        return (\n            <div\n                className={`Menu-button ${className}`}\n                onClick={this.toggle}\n                id=\"menu-button\"\n            >\n                {exportPopupOpen && (\n                    <ExportBackupPopup\n                        toggle={this.toggleExportPopup}\n                        isOpen={exportPopupOpen}\n                    />\n                )}\n                <div className=\"d-flex align-items-center network-btn\">\n                    <FontAwesomeIcon icon=\"ellipsis-h\" />\n                </div>\n                <Popover\n                    placement=\"bottom\"\n                    isOpen={popoverOpen}\n                    target=\"menu-button\"\n                    toggle={this.toggle}\n                >\n                    <PopoverBody className=\"popover-select-list\">\n                        <ul className=\"list-unstyled mb-0\">\n                            <li onClick={this.handleSignout}>\n                                <div className=\"d-flex align-items-center justify-content-end\">\n                                    <span className=\"mr-2\">\n                                        {t(\"main:menu.lock\")}\n                                    </span>\n                                    <FontAwesomeIcon icon=\"lock\" />\n                                </div>\n                            </li>\n                            <li onClick={this.openExportPopup}>\n                                <div className=\"d-flex align-items-center justify-content-end\">\n                                    <span className=\"mr-2\">\n                                        {t(\"main:menu.backup_phrase\")}\n                                    </span>\n                                    <FontAwesomeIcon icon=\"arrow-circle-down\" />\n                                </div>\n                            </li>\n                        </ul>\n                    </PopoverBody>\n                </Popover>\n            </div>\n        );\n    }\n    public handleSignout = () => {\n        const { logout } = this.props;\n        logout();\n    };\n    private openExportPopup = () => {\n        this.setState({\n            exportPopupOpen: !this.state.exportPopupOpen,\n            popoverOpen: false\n        });\n    };\n    private toggle = () => {\n        this.setState({ popoverOpen: !this.state.popoverOpen });\n    };\n    private toggleExportPopup = () => {\n        this.setState({ exportPopupOpen: !this.state.exportPopupOpen });\n    };\n}\nconst mapStateToProps = (state: ReducerConfigure) => ({\n    networkId: state.globalReducer.networkId,\n    passphrase: state.globalReducer.passphrase\n});\nconst mapDispatchToProps = (\n    dispatch: ThunkDispatch<ReducerConfigure, void, Action>\n) => ({\n    logout: () => {\n        dispatch(globalActions.logout());\n    }\n});\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withTranslation()(MenuButton));\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Popover, PopoverBody } from \"reactstrap\";\nimport { Action } from \"redux\";\nimport { NetworkId } from \"../../../model/address\";\nimport { ReducerConfigure } from \"../../../redux\";\nimport { getNetworkNameById } from \"../../../utils/network\";\nimport MainNet from \"./img/mainnet.svg\";\nimport TestNet from \"./img/testnet.svg\";\n\nimport _ from \"lodash\";\nimport { RouteComponentProps, withRouter } from \"react-router-dom\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport globalActions from \"../../../redux/global/globalActions\";\nimport \"./NetworkButton.css\";\n\ninterface OwnProps {\n    className?: string;\n}\n\ninterface StateProps {\n    networkId: NetworkId;\n}\n\ninterface State {\n    popoverOpen: boolean;\n}\n\ninterface DispatchProps {\n    updateNetworkId: (networkId: NetworkId) => void;\n}\n\ntype Props = RouteComponentProps & StateProps & OwnProps & DispatchProps;\nclass NetworkButton extends React.Component<Props, State> {\n    constructor(props: Props) {\n        super(props);\n        this.state = {\n            popoverOpen: false\n        };\n    }\n    public render() {\n        const { networkId, className } = this.props;\n        return (\n            <div\n                className={`Network-button ${className}`}\n                onClick={this.toggle}\n                id=\"network-button\"\n            >\n                <div className=\"d-flex align-items-center network-btn\">\n                    <div className=\"mr-1\">{getNetworkNameById(networkId)}</div>\n                    <img\n                        src={networkId === \"cc\" ? MainNet : TestNet}\n                        alt={\"network\"}\n                    />\n                </div>\n                <Popover\n                    placement=\"bottom\"\n                    isOpen={this.state.popoverOpen}\n                    target=\"network-button\"\n                    toggle={this.toggle}\n                >\n                    <PopoverBody className=\"popover-select-list\">\n                        <ul className=\"list-unstyled mb-0\">\n                            <li onClick={_.partial(this.chagneNetworkId, \"cc\")}>\n                                <div className=\"d-flex align-items-center justify-content-end\">\n                                    <span className=\"mr-1\">MAINNET</span>\n                                    <img src={MainNet} alt={\"mainnet\"} />\n                                </div>\n                            </li>\n                            {/*\n                            <li onClick={_.partial(this.chagneNetworkId, \"tc\")}>\n                                <div className=\"d-flex align-items-center justify-content-end\">\n                                    <span className=\"mr-1\">HUSKY</span>\n                                    <img src={TestNet} />\n                                </div>\n                            </li>\n                            <li onClick={_.partial(this.chagneNetworkId, \"sc\")}>\n                                <div className=\"d-flex align-items-center justify-content-end\">\n                                    <span className=\"mr-1\">SALUKI</span>\n                                    <img src={TestNet} />\n                                </div>\n                            </li>\n                            */}\n                            <li onClick={_.partial(this.chagneNetworkId, \"wc\")}>\n                                <div className=\"d-flex align-items-center justify-content-end\">\n                                    <span className=\"mr-1\">TESTNET</span>\n                                    <img src={TestNet} alt={\"testnet\"} />\n                                </div>\n                            </li>\n                        </ul>\n                    </PopoverBody>\n                </Popover>\n            </div>\n        );\n    }\n    private toggle = () => {\n        this.setState({ popoverOpen: !this.state.popoverOpen });\n    };\n    private chagneNetworkId = (networkId: NetworkId) => {\n        const { updateNetworkId, networkId: currentNetworkId } = this.props;\n        const { history } = this.props;\n        this.toggle();\n        if (networkId === currentNetworkId) {\n            return;\n        }\n        updateNetworkId(networkId);\n        history.replace(\"/\");\n    };\n}\nconst mapStateToProps = (state: ReducerConfigure) => ({\n    networkId: state.globalReducer.networkId,\n    passphrase: state.globalReducer.passphrase\n});\nconst mapDispatchToProps = (\n    dispatch: ThunkDispatch<ReducerConfigure, void, Action>\n) => ({\n    updateNetworkId: (networkId: NetworkId) => {\n        dispatch(globalActions.updateNetworkId(networkId));\n    }\n});\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withRouter(NetworkButton));\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Action } from \"redux\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { ReducerConfigure } from \"../../../redux\";\nimport globalActions from \"../../../redux/global/globalActions\";\n\nclass WalletSaver extends React.Component<any, any> {\n    public timer: NodeJS.Timeout | null = null;\n\n    public componentDidMount() {\n        this.startTimer();\n        document.addEventListener(\"mousedown\", this.handleClickOutside);\n        document.addEventListener(\"touchend\", this.handleTouchOutside);\n        document.addEventListener(\"keydown\", this.handleKeyDown);\n    }\n\n    public componentWillUnmount() {\n        this.clearTimer();\n        document.removeEventListener(\"mousedown\", this.handleClickOutside);\n        document.removeEventListener(\"touchend\", this.handleTouchOutside);\n        document.removeEventListener(\"keydown\", this.handleKeyDown);\n    }\n\n    public render() {\n        return null;\n    }\n\n    private handleClickOutside = () => {\n        this.resetTimer();\n    };\n\n    private handleTouchOutside = () => {\n        this.resetTimer();\n    };\n\n    private handleKeyDown = () => {\n        this.resetTimer();\n    };\n\n    private startTimer = () => {\n        const { logout } = this.props;\n        this.clearTimer();\n        this.timer = setTimeout(() => {\n            logout();\n        }, 60 * 10 * 1000);\n    };\n\n    private clearTimer = () => {\n        if (this.timer) {\n            clearTimeout(this.timer);\n        }\n    };\n\n    private resetTimer = () => {\n        this.startTimer();\n    };\n}\n\nconst mapDispatchToProps = (\n    dispatch: ThunkDispatch<ReducerConfigure, void, Action>\n) => ({\n    logout: () => {\n        dispatch(globalActions.logout());\n    }\n});\nexport default connect(\n    undefined,\n    mapDispatchToProps\n)(WalletSaver);\n","import React from \"react\";\nimport LoadingBar from \"react-redux-loading-bar\";\nimport { Link } from \"react-router-dom\";\nimport \"./Header.css\";\nimport Logo from \"./img/logo.svg\";\nimport MenuButton from \"./MenuButton/MenuButton\";\nimport NetworkButton from \"./NetworkButton/NetworkButton\";\nimport WalletSaver from \"./WalletSaver\";\n\nexport default class Header extends React.Component {\n    public render() {\n        return (\n            <div className=\"Header\" key=\"header\">\n                <div className=\"header-container d-flex align-items-center h-100\">\n                    <Link to=\"/\">\n                        <img src={Logo} alt={\"logo\"} className=\"logo\" />\n                    </Link>\n                    <WalletSaver />\n                    <NetworkButton className=\"ml-auto\" />\n                    <MenuButton className=\"\" />\n                </div>\n                <LoadingBar className=\"loading-bar\" />\n            </div>\n        );\n    }\n}\n","import React from \"react\";\nimport { Trans, WithTranslation, withTranslation } from \"react-i18next\";\nimport { Form } from \"reactstrap\";\nimport ValidationInput from \"../../ValidationInput/ValidationInput\";\nimport \"./LoginForm.css\";\n\ninterface OwnProps {\n    onChange: (passphrase: string) => void;\n    onSignIn: () => void;\n    passphrase: string;\n    isValid?: boolean;\n    username?: string | null;\n}\n\ntype Props = WithTranslation & OwnProps;\n\nclass LoginForm extends React.Component<Props> {\n    public render() {\n        const { t, passphrase, isValid, username } = this.props;\n        return (\n            <Form className=\"login-form\" onSubmit={this.handleOnFormSubmit}>\n                <h4 className=\"welcome-text\">\n                    <Trans\n                        i18nKey=\"welcome:title\"\n                        values={{ name: username ? username : \"\" }}\n                    />\n                </h4>\n                <div className=\"passphrase-input-container\">\n                    <ValidationInput\n                        onChange={this.handleOnChagne}\n                        value={passphrase}\n                        showValidation={true}\n                        labelText={t(\"welcome:password\")}\n                        placeholder={t(\"welcome:password_placeholder\")}\n                        type=\"password\"\n                        isValid={isValid}\n                        error={\n                            isValid === false\n                                ? (t(\"welcome:password_invalid\") as string)\n                                : undefined\n                        }\n                    />\n                </div>\n                <div>\n                    <button\n                        className=\"btn btn-primary square sign-in-btn\"\n                        type=\"submit\"\n                    >\n                        <Trans i18nKey=\"welcome:signin\" />\n                    </button>\n                </div>\n            </Form>\n        );\n    }\n\n    private handleOnFormSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n        event.preventDefault();\n        this.props.onSignIn();\n    };\n\n    private handleOnChagne = (event: React.ChangeEvent<HTMLInputElement>) => {\n        const { onChange } = this.props;\n        onChange(event.target.value);\n    };\n}\n\nexport default withTranslation()(LoginForm);\n","import React from \"react\";\nimport { Trans, WithTranslation, withTranslation } from \"react-i18next\";\nimport { connect } from \"react-redux\";\nimport { Container } from \"reactstrap\";\nimport { Action } from \"redux\";\nimport actions from \"../../redux/global/globalActions\";\nimport \"./Login.css\";\n\nimport {\n    Link,\n    Redirect,\n    RouteComponentProps,\n    withRouter\n} from \"react-router-dom\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { NetworkId } from \"../../model/address\";\nimport { checkPassphrase } from \"../../model/keystore\";\nimport { ReducerConfigure } from \"../../redux\";\nimport { getNetworkId, getPassphrase } from \"../../utils/storage\";\nimport Logo from \"./img/logo-vertical.svg\";\nimport LoginForm from \"./LoginForm/LoginForm\";\n\ninterface DispatchProps {\n    login: (passphrase: string) => Promise<void>;\n    clearData: () => Promise<void>;\n    updateNetworkId: (networkId: NetworkId) => Promise<void>;\n}\n\ninterface OwnProps {\n    location: {\n        state: {\n            from: string;\n        };\n    };\n}\n\ninterface State {\n    passphrase: string;\n    isValid?: boolean;\n    redirectToReferrer: boolean;\n    username?: string | null;\n}\n\ntype Props = WithTranslation & RouteComponentProps & DispatchProps & OwnProps;\nclass Login extends React.Component<Props, State> {\n    public constructor(props: Props) {\n        super(props);\n        this.state = {\n            passphrase: \"\",\n            isValid: undefined,\n            redirectToReferrer: false,\n            username: undefined\n        };\n    }\n    public componentDidMount() {\n        const { login, updateNetworkId } = this.props;\n        this.props.clearData();\n\n        const savedNetworkId = getNetworkId();\n        if (savedNetworkId) {\n            updateNetworkId(savedNetworkId);\n        }\n\n        const savedPassphrase = getPassphrase();\n        if (savedPassphrase) {\n            login(savedPassphrase);\n            this.setState({ redirectToReferrer: true });\n        }\n\n        const username = localStorage.getItem(\"USERNAME\");\n        this.setState({ username });\n    }\n    public render() {\n        const {\n            passphrase,\n            isValid,\n            redirectToReferrer,\n            username\n        } = this.state;\n        const { from } = this.props.location.state || {\n            from: { pathname: \"/\" }\n        };\n        if (redirectToReferrer) {\n            return <Redirect to={from} />;\n        }\n        return (\n            <Container className=\"Login animated fadeIn\">\n                <div className=\"title-container text-center\">\n                    <img src={Logo} alt={\"logo\"} className=\"logo\" />\n                    <h1 className=\"mt-4 logo-title\">Wallet</h1>\n                </div>\n                <div className=\"login-form-container\">\n                    <div className=\"d-flex justify-content-center\">\n                        <LoginForm\n                            onChange={this.handleOnChangePassphrase}\n                            passphrase={passphrase}\n                            onSignIn={this.handleSignIn}\n                            isValid={isValid}\n                            username={username}\n                        />\n                    </div>\n                </div>\n                <div className=\"text-center open-different-btn-container\">\n                    <Link className=\"open-different-btn\" to=\"/selectKeyfile\">\n                        <Trans i18nKey=\"welcome:different\" />\n                    </Link>\n                </div>\n            </Container>\n        );\n    }\n\n    public handleOnChangePassphrase = (passphrase: string) => {\n        this.setState({ passphrase, isValid: undefined });\n    };\n\n    public handleSignIn = async () => {\n        const { login, history } = this.props;\n        const { passphrase } = this.state;\n\n        const isValid = await checkPassphrase(passphrase);\n        if (!isValid) {\n            this.setState({ isValid: false, passphrase: \"\" });\n            return;\n        }\n\n        await login(passphrase);\n        history.push(`/`);\n    };\n}\n\nconst mapDispatchToProps = (\n    dispatch: ThunkDispatch<ReducerConfigure, void, Action>\n) => ({\n    login: (passphrase: string) => {\n        return dispatch(actions.login(passphrase));\n    },\n    clearData: () => {\n        return dispatch(actions.clearData());\n    },\n    updateNetworkId: (netowrkId: NetworkId) => {\n        return dispatch(actions.updateNetworkId(netowrkId));\n    }\n});\n\nexport default connect(\n    () => ({}),\n    mapDispatchToProps\n)(withTranslation()(withRouter(Login)));\n","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport BigNumber from \"bignumber.js\";\nimport { SignedTransaction, U64 } from \"codechain-sdk/lib/core/classes\";\nimport React from \"react\";\nimport { Trans, WithTranslation, withTranslation } from \"react-i18next\";\nimport { connect } from \"react-redux\";\nimport { Link, RouteComponentProps } from \"react-router-dom\";\nimport Spinner from \"react-spinkit\";\nimport { toast } from \"react-toastify\";\nimport { Container } from \"reactstrap\";\nimport { Action } from \"redux\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { NetworkId, WalletAddress } from \"../../model/address\";\nimport { ReducerConfigure } from \"../../redux\";\nimport accountActions from \"../../redux/account/accountActions\";\nimport chainActions from \"../../redux/chain/chainActions\";\nimport walletActions from \"../../redux/wallet/walletActions\";\nimport { TxUtil } from \"../../utils/transaction\";\nimport TooltipLabel from \"../TooltipLabel\";\nimport ValidationInput from \"../ValidationInput/ValidationInput\";\nimport CheckIcon from \"./img/check_icon.svg\";\nimport \"./index.css\";\n\ninterface State {\n    name: string;\n    iconURL: string;\n    supply: string;\n    description: string;\n    feePayer?: string;\n    fee: string;\n    nameError?: string;\n    isNameValid?: boolean;\n    supplyError?: string;\n    isSupplyValid?: boolean;\n    isFeeValid?: boolean;\n    feeError?: string;\n    isSendingTx: boolean;\n    isSentTx: boolean;\n    selectedAddress?: string;\n}\n\ninterface StateProps {\n    assetAddresses?: WalletAddress[] | null;\n    platformAddresses?: WalletAddress[] | null;\n    availableQuarkList: { [address: string]: U64 | null | undefined };\n    networkId: NetworkId;\n    passphrase: string;\n}\n\ninterface DispatchProps {\n    fetchWalletFromStorageIfNeed: () => void;\n    fetchAvailableQuark: (address: string) => void;\n    sendSignedTransaction: (\n        address: string,\n        signedTransaction: SignedTransaction,\n        feePayer: string\n    ) => Promise<unknown>;\n}\n\nconst MinimumFee = 100000;\n\ntype Props = WithTranslation & RouteComponentProps & StateProps & DispatchProps;\nclass MintAsset extends React.Component<Props, State> {\n    constructor(props: Props) {\n        super(props);\n        this.state = {\n            name: \"\",\n            iconURL: \"\",\n            supply: \"\",\n            description: \"\",\n            feePayer: undefined,\n            fee: \"\",\n            isSendingTx: false,\n            isSentTx: false\n        };\n    }\n    public componentDidMount() {\n        this.props.fetchWalletFromStorageIfNeed();\n        if (this.props.assetAddresses) {\n            if (this.props.assetAddresses.length > 0) {\n                this.setState({\n                    selectedAddress: this.props.assetAddresses[0].address\n                });\n            }\n        }\n        if (this.props.platformAddresses) {\n            if (this.props.platformAddresses.length > 0) {\n                this.selectFeePayer(this.props.platformAddresses[0].address);\n            }\n        }\n    }\n    public componentWillUpdate(nextProps: Props) {\n        if (!this.props.assetAddresses && nextProps.assetAddresses) {\n            if (nextProps.assetAddresses.length > 0) {\n                this.setState({\n                    selectedAddress: nextProps.assetAddresses[0].address\n                });\n            }\n        }\n        if (!this.props.platformAddresses && nextProps.platformAddresses) {\n            if (nextProps.platformAddresses) {\n                if (nextProps.platformAddresses.length > 0) {\n                    this.selectFeePayer(nextProps.platformAddresses[0].address);\n                }\n            }\n        }\n    }\n    public render() {\n        const {\n            t,\n            platformAddresses,\n            availableQuarkList,\n            assetAddresses\n        } = this.props;\n        const {\n            name,\n            iconURL,\n            supply,\n            description,\n            feePayer,\n            fee,\n            nameError,\n            isNameValid,\n            supplyError,\n            isSupplyValid,\n            isFeeValid,\n            feeError,\n            isSendingTx,\n            isSentTx,\n            selectedAddress\n        } = this.state;\n        return (\n            <div className=\"Mint-asset\">\n                <Container>\n                    <div className=\"page-container d-flex mb-4 back-icon-container\">\n                        <Link to=\"/\" className=\"ml-auto\">\n                            <FontAwesomeIcon\n                                className=\"back-icon\"\n                                icon=\"arrow-left\"\n                            />\n                        </Link>\n                    </div>\n                    <div className=\"page-container mint-container\">\n                        <h2 className=\"title\">\n                            <Trans i18nKey=\"mint:title\" />\n                        </h2>\n                        <span className=\"mint-description\">\n                            <Trans i18nKey=\"mint:detail\" />\n                        </span>\n                        {!assetAddresses ? (\n                            <span className=\"loading-text\">\n                                <Trans i18nKey=\"mint:loading\" />\n                            </span>\n                        ) : selectedAddress ? (\n                            <div>\n                                {isSentTx ? (\n                                    <div className=\"d-flex align-items-center justify-content-center text-center complete-container\">\n                                        <div className=\"text-center\">\n                                            <div>\n                                                <img\n                                                    src={CheckIcon}\n                                                    alt={\"check\"}\n                                                />\n                                            </div>\n                                            <div className=\"mt-3\">\n                                                <span>\n                                                    <Trans i18nKey=\"mint:complete\" />\n                                                </span>\n                                            </div>\n                                        </div>\n                                    </div>\n                                ) : (\n                                    <div>\n                                        <div className=\"asset-info-container\">\n                                            <ValidationInput\n                                                labelText={t(\"mint:name.label\")}\n                                                placeholder={t(\n                                                    \"mint:name.placeholder\"\n                                                )}\n                                                value={name}\n                                                onChange={this.handleNameChange}\n                                                showValidation={false}\n                                                isValid={isNameValid}\n                                                error={nameError}\n                                                onBlur={\n                                                    this.checkNameValidation\n                                                }\n                                            />\n                                            <ValidationInput\n                                                labelText={t(\n                                                    \"mint:supply.label\"\n                                                )}\n                                                decimalScale={0}\n                                                placeholder={t(\n                                                    \"mint:supply.placeholder\"\n                                                )}\n                                                value={supply}\n                                                type=\"number\"\n                                                onChange={\n                                                    this.handleSupplyChange\n                                                }\n                                                showValidation={false}\n                                                isValid={isSupplyValid}\n                                                error={supplyError}\n                                                tooltip={t(\n                                                    \"mint:supply.tooltip\"\n                                                )}\n                                                onBlur={\n                                                    this.checkSupplyValidation\n                                                }\n                                            />\n                                            <div className=\"d-flex\">\n                                                <div className=\"icon-url-input-container\">\n                                                    <ValidationInput\n                                                        labelText={t(\n                                                            \"mint:url.label\"\n                                                        )}\n                                                        placeholder={t(\n                                                            \"mint:url.placeholder\"\n                                                        )}\n                                                        value={iconURL}\n                                                        onChange={\n                                                            this\n                                                                .handleIconURLChange\n                                                        }\n                                                        tooltip={t(\n                                                            \"mint:url.tooltip\"\n                                                        )}\n                                                        showValidation={false}\n                                                    />\n                                                </div>\n                                                {iconURL !== \"\" && (\n                                                    <div\n                                                        className=\"preview-container\"\n                                                        style={{\n                                                            backgroundImage: `URL(${iconURL})`\n                                                        }}\n                                                    />\n                                                )}\n                                            </div>\n                                            <div className=\"mb-4\">\n                                                <span className=\"input-label d-block mb-2\">\n                                                    <Trans i18nKey=\"mint:description.title\" />\n                                                    <TooltipLabel tooltip=\"mint:description.tooltip\" />\n                                                </span>\n                                                <textarea\n                                                    className=\"form-control description-area\"\n                                                    value={description}\n                                                    onChange={\n                                                        this\n                                                            .handleDescriptionChange\n                                                    }\n                                                />\n                                            </div>\n                                            <div className=\"select-address-container\">\n                                                <span className=\"select-address-label\">\n                                                    <Trans i18nKey=\"mint:address.title\" />\n                                                    <TooltipLabel tooltip=\"mint:address.tooltip\" />\n                                                </span>\n                                                <select\n                                                    onChange={\n                                                        this\n                                                            .handleChangeSelectAddress\n                                                    }\n                                                    className=\"form-control\"\n                                                >\n                                                    {assetAddresses.map(a => (\n                                                        <option\n                                                            key={a.address}\n                                                            value={a.address}\n                                                        >\n                                                            {t(\n                                                                \"mint:address.address_type\"\n                                                            )}{\" \"}\n                                                            {t(\"main:address\", {\n                                                                index:\n                                                                    a.index + 1\n                                                            })}\n                                                        </option>\n                                                    ))}\n                                                </select>\n                                            </div>\n                                            {platformAddresses && (\n                                                // FIXME: This code is duplicated.\n                                                <div className=\"d-flex fee-container\">\n                                                    <div className=\"fee-input-container\">\n                                                        <ValidationInput\n                                                            value={fee}\n                                                            decimalScale={0}\n                                                            onChange={\n                                                                this\n                                                                    .handleChangeFee\n                                                            }\n                                                            type=\"number\"\n                                                            showValidation={\n                                                                true\n                                                            }\n                                                            labelText={t(\n                                                                \"mint:fee.title\"\n                                                            )}\n                                                            tooltip={t(\n                                                                \"mint:fee.tooltip\"\n                                                            )}\n                                                            placeholder={\n                                                                !feePayer\n                                                                    ? t(\n                                                                          \"mint:fee.placeholder_select_fee_payer\"\n                                                                      )\n                                                                    : !availableQuarkList[\n                                                                          feePayer\n                                                                      ]\n                                                                    ? t(\n                                                                          \"mint:fee.placeholder_loading\"\n                                                                      )\n                                                                    : \"100,000 (CCC)\"\n                                                            }\n                                                            disable={\n                                                                feePayer ==\n                                                                    null ||\n                                                                (feePayer !=\n                                                                    null &&\n                                                                    availableQuarkList[\n                                                                        feePayer\n                                                                    ] == null)\n                                                            }\n                                                            onBlur={\n                                                                this\n                                                                    .checkFeeValidation\n                                                            }\n                                                            isValid={isFeeValid}\n                                                            error={feeError}\n                                                        />\n                                                    </div>\n                                                    <div className=\"fee-payer-container\">\n                                                        <div className=\"input-label\">\n                                                            <Trans i18nKey=\"mint:payer.title\" />\n                                                            <TooltipLabel tooltip=\"mint:payer.tooltip\" />\n                                                        </div>\n                                                        {platformAddresses.length ===\n                                                        0 ? (\n                                                            <select\n                                                                className=\"form-control\"\n                                                                disabled={true}\n                                                            >\n                                                                <option>\n                                                                    {t(\n                                                                        \"mint:payer.no_address\"\n                                                                    )}\n                                                                </option>\n                                                            </select>\n                                                        ) : (\n                                                            <div>\n                                                                <select\n                                                                    className=\"form-control\"\n                                                                    value={\n                                                                        feePayer\n                                                                    }\n                                                                    defaultValue={\n                                                                        \"default\"\n                                                                    }\n                                                                    onChange={\n                                                                        this\n                                                                            .handleChangeFeePayer\n                                                                    }\n                                                                >\n                                                                    <option\n                                                                        value=\"default\"\n                                                                        disabled={\n                                                                            true\n                                                                        }\n                                                                    >\n                                                                        {t(\n                                                                            \"mint:payer.select_address\"\n                                                                        )}\n                                                                    </option>\n                                                                    {platformAddresses.map(\n                                                                        pa => (\n                                                                            <option\n                                                                                value={\n                                                                                    pa.address\n                                                                                }\n                                                                                key={\n                                                                                    pa.address\n                                                                                }\n                                                                            >\n                                                                                CCC{\" \"}\n                                                                                {t(\n                                                                                    \"main:address\",\n                                                                                    {\n                                                                                        index:\n                                                                                            pa.index +\n                                                                                            1\n                                                                                    }\n                                                                                )}\n                                                                            </option>\n                                                                        )\n                                                                    )}\n                                                                </select>\n                                                                {feePayer &&\n                                                                    availableQuarkList[\n                                                                        feePayer\n                                                                    ] && (\n                                                                        <span className=\"available-ccc-text number pl-2 pr-2\">\n                                                                            {availableQuarkList[\n                                                                                feePayer\n                                                                            ]!.toLocaleString()}{\" \"}\n                                                                            CCC\n                                                                        </span>\n                                                                    )}\n                                                            </div>\n                                                        )}\n                                                    </div>\n                                                </div>\n                                            )}\n                                        </div>\n                                        <div className=\"submit-btn-container\">\n                                            <button\n                                                disabled={isSendingTx}\n                                                type=\"submit\"\n                                                className=\"btn btn-primary square w-100 send-btn\"\n                                                onClick={this.mintAsset}\n                                            >\n                                                <Trans\n                                                    i18nKey={\"mint:mint_btn\"}\n                                                />\n                                            </button>\n                                        </div>\n                                    </div>\n                                )}\n                                {isSendingTx && (\n                                    <div className=\"minting-panel d-flex align-items-center justify-content-center\">\n                                        <Spinner\n                                            name=\"line-scale\"\n                                            color=\"white\"\n                                        />\n                                    </div>\n                                )}\n                            </div>\n                        ) : (\n                            <span className=\"no-address-label\">\n                                <Trans i18nKey=\"mint:error.asset.required\" />\n                            </span>\n                        )}\n                    </div>\n                </Container>\n            </div>\n        );\n    }\n\n    private handleChangeSelectAddress = (\n        event: React.ChangeEvent<HTMLSelectElement>\n    ) => {\n        this.setState({ selectedAddress: event.target.value });\n    };\n\n    private checkNameValidation = () => {\n        const { name } = this.state;\n        if (name.trim() === \"\") {\n            this.setState({\n                isNameValid: false,\n                nameError: this.props.t(\"mint:error.name.required\")\n            });\n            return false;\n        }\n        this.setState({\n            isNameValid: true,\n            nameError: undefined\n        });\n        return true;\n    };\n\n    private checkSupplyValidation = () => {\n        const { supply } = this.state;\n        if (supply.trim() === \"\") {\n            this.setState({\n                isSupplyValid: false,\n                supplyError: this.props.t(\"mint:error.supply.required\")\n            });\n            return false;\n        }\n\n        const amountSupply = new BigNumber(supply);\n        if (amountSupply.isNaN() || amountSupply.lt(0)) {\n            this.setState({\n                isSupplyValid: false,\n                supplyError: this.props.t(\"mint:error.supply.invalid\")\n            });\n            return false;\n        }\n\n        this.setState({\n            isSupplyValid: true,\n            supplyError: undefined\n        });\n        return true;\n    };\n\n    private checkFeeValidation = () => {\n        const { fee, feePayer } = this.state;\n        const { availableQuarkList } = this.props;\n\n        if (!feePayer) {\n            this.setState({\n                isFeeValid: false,\n                feeError: this.props.t(\"mint:error.fee.not_selected\")\n            });\n            return false;\n        }\n        const availableQuark = availableQuarkList[feePayer];\n        if (!availableQuark) {\n            throw Error(this.props.t(\"mint:error.fee.invalid_balance\"));\n        }\n        if (fee.trim() === \"\") {\n            this.setState({\n                isFeeValid: false,\n                feeError: this.props.t(\"mint:error.fee.required\")\n            });\n            return false;\n        }\n        const amountFee = new BigNumber(fee);\n        if (amountFee.isNaN()) {\n            this.setState({\n                isFeeValid: false,\n                feeError: this.props.t(\"mint:error.fee.invalid\")\n            });\n            return false;\n        }\n        if (amountFee.lt(MinimumFee)) {\n            this.setState({\n                isFeeValid: false,\n                feeError: this.props.t(\"mint:error.fee.minimum\", {\n                    fee: MinimumFee\n                })\n            });\n            return false;\n        }\n\n        if (availableQuark.value.lt(amountFee)) {\n            this.setState({\n                isFeeValid: false,\n                feeError: this.props.t(\"mint:error.fee.minimum_balance\")\n            });\n            return false;\n        }\n\n        this.setState({\n            isFeeValid: true,\n            feeError: undefined\n        });\n        return true;\n    };\n\n    private handleChangeFee = (event: React.ChangeEvent<HTMLInputElement>) => {\n        this.setState({\n            fee: event.target.value\n        });\n    };\n\n    private handleNameChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n        this.setState({\n            name: event.target.value\n        });\n    };\n\n    private handleDescriptionChange = (\n        event: React.ChangeEvent<HTMLTextAreaElement>\n    ) => {\n        this.setState({\n            description: event.target.value\n        });\n    };\n\n    private handleIconURLChange = (\n        event: React.ChangeEvent<HTMLInputElement>\n    ) => {\n        this.setState({\n            iconURL: event.target.value\n        });\n    };\n\n    private handleSupplyChange = (\n        event: React.ChangeEvent<HTMLInputElement>\n    ) => {\n        this.setState({\n            supply: event.target.value\n        });\n    };\n\n    private handleChangeFeePayer = (\n        event: React.ChangeEvent<HTMLSelectElement>\n    ) => {\n        this.selectFeePayer(event.target.value);\n    };\n\n    private selectFeePayer = (address: string) => {\n        this.setState({\n            feePayer: address,\n            fee: `${MinimumFee}`,\n            feeError: undefined,\n            isFeeValid: undefined\n        });\n        this.props.fetchAvailableQuark(address);\n    };\n\n    private mintAsset = async () => {\n        const { networkId, passphrase } = this.props;\n        const { selectedAddress: address } = this.state;\n        const {\n            name,\n            description,\n            supply,\n            iconURL,\n            fee,\n            feePayer\n        } = this.state;\n        if (!this.checkNameValidation()) {\n            return;\n        }\n        if (!this.checkSupplyValidation()) {\n            return;\n        }\n        if (!this.checkFeeValidation()) {\n            return;\n        }\n        this.setState({ isSendingTx: true });\n        const signedTx = await TxUtil.createMintAssetTx({\n            name,\n            supply: new U64(supply),\n            iconURL,\n            description,\n            recipient: address!,\n            networkId,\n            fee: new U64(fee),\n            feePayer: feePayer!,\n            passphrase\n        });\n        try {\n            await this.props.sendSignedTransaction(\n                address!,\n                signedTx,\n                feePayer!\n            );\n            this.setState({ isSentTx: true });\n        } catch (e) {\n            toast.error(\"Server is not responding.\", {\n                position: toast.POSITION.BOTTOM_CENTER,\n                autoClose: 5000,\n                closeButton: false,\n                hideProgressBar: true\n            });\n            console.error(e);\n        }\n        this.setState({ isSendingTx: false });\n    };\n}\n\nconst mapStateToProps = (state: ReducerConfigure) => {\n    const platformAddresses = state.walletReducer.platformAddresses;\n    const availableQuarkList = state.accountReducer.availableQuark;\n    const passphrase = state.globalReducer.passphrase!;\n    const networkId = state.globalReducer.networkId;\n    const assetAddresses = state.walletReducer.assetAddresses;\n    return {\n        assetAddresses,\n        platformAddresses,\n        availableQuarkList,\n        passphrase,\n        networkId\n    };\n};\n\nconst mapDispatchToProps = (\n    dispatch: ThunkDispatch<ReducerConfigure, void, Action>\n) => ({\n    fetchWalletFromStorageIfNeed: () => {\n        dispatch(walletActions.fetchWalletFromStorageIfNeed());\n    },\n    fetchAvailableQuark: (address: string) => {\n        dispatch(accountActions.fetchAvailableQuark(address));\n    },\n    sendSignedTransaction: (\n        address: string,\n        signedTransaction: SignedTransaction,\n        feePayer: string\n    ) => {\n        return dispatch(\n            chainActions.sendSignedTransaction(\n                address,\n                signedTransaction,\n                feePayer\n            )\n        );\n    }\n});\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withTranslation()(MintAsset));\n","import React from \"react\";\nimport \"./NotFound.css\";\n\nexport default class NotFound extends React.Component<any, any> {\n    public render() {\n        return (\n            <div id=\"Not-found\">\n                <div className=\"not-found\">\n                    <div className=\"not-found-404\">\n                        <h3>Oops! Page not found</h3>\n                        <h1>\n                            <span>4</span>\n                            <span>0</span>\n                            <span>4</span>\n                        </h1>\n                    </div>\n                    <h2>\n                        we are sorry, but the page you requested was not found\n                    </h2>\n                </div>\n            </div>\n        );\n    }\n}\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Redirect, Route } from \"react-router-dom\";\nimport { isKeystoreExisted } from \"../../model/keystore\";\nimport { ReducerConfigure } from \"../../redux\";\n\ninterface State {\n    isKeyExisted?: boolean | null;\n}\n\ninterface OwnProps {\n    component: any;\n    exact?: boolean;\n    path: string;\n}\n\ninterface StateProps {\n    passphrase?: string | null;\n}\n\ntype Props = StateProps & OwnProps;\nclass PrivateRoute extends React.Component<Props, State> {\n    public constructor(props: any) {\n        super(props);\n        this.state = {\n            isKeyExisted: undefined\n        };\n    }\n\n    public componentDidUpdate() {\n        const { passphrase } = this.props;\n        const { isKeyExisted } = this.state;\n        if (!passphrase && isKeyExisted == null) {\n            this.checkLogin();\n        }\n    }\n\n    public componentDidMount() {\n        const { passphrase } = this.props;\n        const { isKeyExisted } = this.state;\n        if (!passphrase && isKeyExisted == null) {\n            this.checkLogin();\n        }\n    }\n\n    public render() {\n        const { passphrase, component: Component, ...rest } = this.props;\n        const { isKeyExisted } = this.state;\n        return (\n            <Route\n                {...rest}\n                // tslint:disable-next-line:jsx-no-lambda\n                render={props =>\n                    passphrase ? (\n                        <Component {...props} />\n                    ) : isKeyExisted == null ? (\n                        <div>Loading...</div>\n                    ) : isKeyExisted ? (\n                        <Redirect\n                            to={{\n                                pathname: \"/login\",\n                                state: { from: props.location }\n                            }}\n                        />\n                    ) : (\n                        <Redirect\n                            to={{\n                                pathname: \"/selectKeyfile\"\n                            }}\n                        />\n                    )\n                }\n            />\n        );\n    }\n\n    private checkLogin = async () => {\n        const keyExisted = await isKeystoreExisted();\n        if (keyExisted) {\n            this.setState({ isKeyExisted: true });\n        } else {\n            this.setState({ isKeyExisted: false });\n        }\n    };\n}\n\nconst mapStateToProps = (state: ReducerConfigure) => ({\n    passphrase: state.globalReducer.passphrase\n});\n\nexport default connect(mapStateToProps)(PrivateRoute);\n","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React from \"react\";\nimport { Trans, WithTranslation, withTranslation } from \"react-i18next\";\nimport { connect } from \"react-redux\";\nimport { Link, RouteComponentProps, withRouter } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport { Container } from \"reactstrap\";\nimport Form from \"reactstrap/lib/Form\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { clearKeystore, importMnemonic } from \"../../model/keystore\";\nimport { ReducerConfigure } from \"../../redux\";\nimport globalActions, { Action } from \"../../redux/global/globalActions\";\nimport { clearPassphrase, clearWalletKeys } from \"../../utils/storage\";\nimport ValidationInput from \"../ValidationInput/ValidationInput\";\nimport \"./RestoreWallet.css\";\n\ninterface State {\n    secretPhrase: string;\n    passphrase: string;\n    passphraseConfirm: string;\n    isPassphraseValid?: boolean;\n    passphraseError?: string;\n    isPassphraseConfirmValid?: boolean;\n    passphraseConfirmError?: string;\n    username: string;\n    isUsernameValid?: boolean;\n    usernameError?: string;\n}\n\ninterface DispatchProps {\n    login: (passpharase: string) => Promise<void>;\n    clearData: () => Promise<void>;\n}\n\ntype Props = WithTranslation & RouteComponentProps & DispatchProps;\nclass RestoreWallet extends React.Component<Props, State> {\n    public constructor(props: Props) {\n        super(props);\n        this.state = {\n            secretPhrase: \"\",\n            passphrase: \"\",\n            passphraseConfirm: \"\",\n            isPassphraseValid: undefined,\n            passphraseError: undefined,\n            isPassphraseConfirmValid: undefined,\n            passphraseConfirmError: undefined,\n            username: \"\",\n            isUsernameValid: undefined,\n            usernameError: undefined\n        };\n    }\n    public async componentDidMount() {\n        const { clearData } = this.props;\n        clearPassphrase();\n        clearData();\n        clearWalletKeys();\n        await clearKeystore();\n    }\n    public render() {\n        const { t } = this.props;\n        const {\n            passphrase,\n            passphraseConfirm,\n            isPassphraseConfirmValid,\n            isPassphraseValid,\n            passphraseConfirmError,\n            passphraseError,\n            secretPhrase,\n            username,\n            isUsernameValid,\n            usernameError\n        } = this.state;\n        return (\n            <Container className=\"Restore-wallet animated fadeIn\">\n                <div className=\"close-btn\">\n                    <Link to=\"/selectKeyfile\">\n                        <FontAwesomeIcon icon=\"times\" className=\"icon\" />\n                    </Link>\n                </div>\n                <Form\n                    className=\"restore-content\"\n                    onSubmit={this.handleOnFormSubmit}\n                >\n                    <div className=\"title-container\">\n                        <h4 className=\"title\">\n                            <Trans i18nKey=\"restore:title\" />\n                        </h4>\n                    </div>\n                    <div className=\"description\">\n                        <Trans i18nKey=\"restore:description\" />\n                    </div>\n                    <div className=\"phrase-container\">\n                        <textarea\n                            className=\"phrase-input\"\n                            value={secretPhrase}\n                            onChange={this.handleChangeSecretPhraseInput}\n                        />\n                    </div>\n                    <div className=\"username-input-container\">\n                        <ValidationInput\n                            labelText={t(\"restore:name.label\")}\n                            onChange={this.handleUsernameInput}\n                            value={username}\n                            showValidation={true}\n                            placeholder={t(\"restore:name.placeholder\")}\n                            type=\"text\"\n                            isValid={isUsernameValid}\n                            error={usernameError}\n                            onBlur={this.checkUsernameValid}\n                        />\n                    </div>\n                    <div className=\"passphrase-input-container\">\n                        <ValidationInput\n                            labelText={t(\"restore:password.label\")}\n                            onChange={this.handlePassphraseInput}\n                            value={passphrase}\n                            showValidation={true}\n                            placeholder={t(\"restore:password.placeholder\")}\n                            type=\"password\"\n                            isValid={isPassphraseValid}\n                            error={passphraseError}\n                            onBlur={this.checkPassphraseValid}\n                        />\n                    </div>\n                    <div className=\"passphrase-confirm-container\">\n                        <ValidationInput\n                            labelText={t(\"restore:confirm.label\")}\n                            onChange={this.handlePassphraseConfirmInput}\n                            value={passphraseConfirm}\n                            showValidation={true}\n                            placeholder={t(\"restore:confirm.placeholder\")}\n                            type=\"password\"\n                            isValid={isPassphraseConfirmValid}\n                            error={passphraseConfirmError}\n                            onBlur={this.checkPassphraseConfirm}\n                        />\n                    </div>\n                    <div className=\"password-description\">\n                        <span>\n                            <Trans i18nKey=\"restore:mnemonic.detail\" />\n                        </span>\n                    </div>\n                    <div className=\"main-btn-container\">\n                        <button\n                            className=\"btn btn-primary reverse square main-btn\"\n                            type=\"submit\"\n                        >\n                            {t(\"restore:ok\")}\n                        </button>\n                    </div>\n                </Form>\n            </Container>\n        );\n    }\n\n    private handleOnFormSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n        event.preventDefault();\n        this.handleSubmit();\n    };\n\n    private handleSubmit = async () => {\n        const { passphrase, username, secretPhrase } = this.state;\n        const { t, login, history } = this.props;\n\n        if (!this.checkUsernameValid()) {\n            return;\n        }\n\n        if (!this.checkPassphraseValid()) {\n            return;\n        }\n\n        if (!this.checkPassphraseConfirm()) {\n            return;\n        }\n        const splitPassphrases = secretPhrase.match(/\\S+/g);\n\n        if (!splitPassphrases || splitPassphrases.length !== 12) {\n            toast.error(t(\"restore:error.mnemonic.invalid\"), {\n                position: toast.POSITION.BOTTOM_CENTER,\n                autoClose: 5000,\n                closeButton: false,\n                hideProgressBar: true\n            });\n            return;\n        }\n        try {\n            localStorage.setItem(\"USERNAME\", username!);\n            await importMnemonic(splitPassphrases.join(\" \"), passphrase);\n            await login(passphrase!);\n            history.push(`/`);\n        } catch (e) {\n            toast.error(t(\"restore:error.mnemonic.invalid\"), {\n                position: toast.POSITION.BOTTOM_CENTER,\n                autoClose: 5000,\n                closeButton: false,\n                hideProgressBar: true\n            });\n        }\n    };\n\n    private handleChangeSecretPhraseInput = (\n        event: React.ChangeEvent<HTMLTextAreaElement>\n    ) => {\n        this.setState({ secretPhrase: event.target.value });\n    };\n\n    private checkPassphraseValid = () => {\n        const { t } = this.props;\n        const { passphrase } = this.state;\n        if (passphrase.length < 8) {\n            this.setState({\n                passphraseError: t(\"restore:error.password.minimum\"),\n                isPassphraseValid: false\n            });\n            return false;\n        }\n\n        this.setState({\n            passphraseError: undefined,\n            isPassphraseValid: true\n        });\n        return true;\n    };\n\n    private checkUsernameValid = () => {\n        const { t } = this.props;\n        const { username } = this.state;\n        if (username === \"\") {\n            this.setState({\n                isUsernameValid: false,\n                usernameError: t(\"restore:error.name.required\")\n            });\n            return false;\n        }\n        if (username.length > 20) {\n            this.setState({\n                usernameError: t(\"restore:error.name.maximum\"),\n                isUsernameValid: false\n            });\n            return false;\n        }\n        this.setState({\n            isUsernameValid: true,\n            usernameError: undefined\n        });\n        return true;\n    };\n\n    private handleUsernameInput = (\n        event: React.ChangeEvent<HTMLInputElement>\n    ) => {\n        this.setState({\n            username: event.target.value,\n            usernameError: undefined,\n            isUsernameValid: undefined\n        });\n    };\n\n    private checkPassphraseConfirm = () => {\n        const { t } = this.props;\n        const { passphrase, passphraseConfirm } = this.state;\n        if (passphrase !== passphraseConfirm) {\n            this.setState({\n                passphraseConfirmError: t(\"restore:error.confirm.mismatch\"),\n                isPassphraseConfirmValid: false\n            });\n            return false;\n        }\n\n        this.setState({\n            passphraseConfirmError: undefined,\n            isPassphraseConfirmValid: true\n        });\n        return true;\n    };\n\n    private handlePassphraseInput = (\n        event: React.ChangeEvent<HTMLInputElement>\n    ) => {\n        this.setState({\n            passphraseError: undefined,\n            isPassphraseValid: undefined,\n            passphraseConfirm: \"\",\n            isPassphraseConfirmValid: undefined,\n            passphraseConfirmError: undefined\n        });\n        this.setState({ passphrase: event.target.value });\n    };\n\n    private handlePassphraseConfirmInput = (\n        event: React.ChangeEvent<HTMLInputElement>\n    ) => {\n        this.setState({\n            passphraseConfirmError: undefined,\n            isPassphraseConfirmValid: undefined\n        });\n        this.setState({ passphraseConfirm: event.target.value });\n    };\n}\n\nconst mapDispatchToProps = (\n    dispatch: ThunkDispatch<ReducerConfigure, void, Action>\n) => ({\n    login: (passphrase: string) => {\n        return dispatch(globalActions.login(passphrase));\n    },\n    clearData: () => {\n        return dispatch(globalActions.clearData());\n    }\n});\nexport default connect(\n    undefined,\n    mapDispatchToProps\n)(withTranslation()(withRouter(RestoreWallet)));\n","import React from \"react\";\nimport { Trans, WithTranslation, withTranslation } from \"react-i18next\";\nimport { connect } from \"react-redux\";\nimport { RouteComponentProps, withRouter } from \"react-router-dom\";\nimport { Container } from \"reactstrap\";\nimport { Action } from \"redux\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { WalletAddress } from \"../../model/address\";\nimport { clearKeystore } from \"../../model/keystore\";\nimport { ReducerConfigure } from \"../../redux\";\nimport globalActions from \"../../redux/global/globalActions\";\nimport { clearPassphrase, clearWalletKeys } from \"../../utils/storage\";\nimport Logo from \"./img/logo-vertical.svg\";\nimport CreateNewWalletIconHover from \"./img/plus-hover.svg\";\nimport CreateNewWalletIcon from \"./img/plus-standard.svg\";\nimport ImportKeyIconHover from \"./img/restore-hover.svg\";\nimport ImportKeyIcon from \"./img/restore-standard.svg\";\nimport \"./SelectKeyFile.css\";\n\ninterface StateProps {\n    creatingAddresses?: WalletAddress[] | null;\n    walletName?: string | null;\n}\n\ninterface DispatchProps {\n    clearData: () => void;\n}\n\ninterface State {\n    isImportBtnHover: boolean;\n    isCreateBtnHover: boolean;\n}\n\ntype Props = WithTranslation & RouteComponentProps & DispatchProps & StateProps;\nclass SelectKeyFile extends React.Component<Props, State> {\n    public constructor(props: Props) {\n        super(props);\n        this.state = {\n            isCreateBtnHover: false,\n            isImportBtnHover: false\n        };\n    }\n    public async componentDidMount() {\n        await clearKeystore();\n        clearWalletKeys();\n        clearPassphrase();\n        this.props.clearData();\n    }\n    public render() {\n        const { isImportBtnHover, isCreateBtnHover } = this.state;\n        return (\n            <Container className=\"Select-key-file animated fadeIn\">\n                <div className=\"text-center title-container\">\n                    <img src={Logo} alt={\"logo\"} className=\"logo\" />\n                    <h1 className=\"mt-4 logo-title\">Wallet</h1>\n                </div>\n                <div className=\"welcome-text-container\">\n                    <h4 className=\"welcome-text\">\n                        Welcome to CodeChain wallet\n                    </h4>\n                    <div>\n                        <span className=\"description-text\">\n                            <Trans i18nKey=\"create:select.title\" />\n                        </span>\n                    </div>\n                </div>\n                <div className=\"button-container d-flex justify-content-center\">\n                    <div\n                        className=\"button-item d-flex align-items-center justify-content-center\"\n                        onClick={this.onClickCreateWallet}\n                        onMouseEnter={this.handleCreateButtonHover}\n                        onMouseLeave={this.handleCreateButtonOut}\n                    >\n                        <div>\n                            <div>\n                                {isCreateBtnHover ? (\n                                    <img\n                                        src={CreateNewWalletIconHover}\n                                        alt={\"create\"}\n                                        className=\"icon\"\n                                    />\n                                ) : (\n                                    <img\n                                        src={CreateNewWalletIcon}\n                                        alt={\"create\"}\n                                        className=\"icon\"\n                                    />\n                                )}\n                            </div>\n                            <div className=\"text\">\n                                <Trans i18nKey=\"create:select.create.title\" />\n                            </div>\n                            <div className=\"button-description\">\n                                <span>\n                                    <Trans i18nKey=\"create:select.create.detail\" />\n                                </span>\n                            </div>\n                        </div>\n                    </div>\n                    <div\n                        className=\"button-item d-flex justify-content-center\"\n                        onClick={this.onClickRestore}\n                        onMouseEnter={this.handleImportButtonHover}\n                        onMouseLeave={this.handleImportButtopOut}\n                    >\n                        <div>\n                            <div>\n                                {isImportBtnHover ? (\n                                    <img\n                                        src={ImportKeyIconHover}\n                                        alt={\"import\"}\n                                        className=\"icon\"\n                                    />\n                                ) : (\n                                    <img\n                                        src={ImportKeyIcon}\n                                        alt={\"import\"}\n                                        className=\"icon\"\n                                    />\n                                )}\n                            </div>\n                            <div className=\"text\">\n                                <Trans i18nKey=\"create:select.restore.title\" />\n                            </div>\n                            <div className=\"button-description\">\n                                <span>\n                                    <Trans i18nKey=\"create:select.restore.detail\" />\n                                </span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </Container>\n        );\n    }\n    private handleImportButtonHover = () => {\n        this.setState({ isImportBtnHover: true });\n    };\n    private handleImportButtopOut = () => {\n        this.setState({ isImportBtnHover: false });\n    };\n    private handleCreateButtonHover = () => {\n        this.setState({ isCreateBtnHover: true });\n    };\n    private handleCreateButtonOut = () => {\n        this.setState({ isCreateBtnHover: false });\n    };\n    private onClickRestore = () => {\n        const { history } = this.props;\n        history.push(`/restoreWallet`);\n    };\n    private onClickCreateWallet = () => {\n        const { history } = this.props;\n        history.push(`/createWallet`);\n    };\n}\nconst mapDispatchToProps = (\n    dispatch: ThunkDispatch<ReducerConfigure, void, Action>\n) => ({\n    clearData: () => {\n        dispatch(globalActions.clearData());\n    }\n});\n\nexport default connect(\n    () => ({}),\n    mapDispatchToProps\n)(withTranslation(\"select\")(withRouter(SelectKeyFile)));\n","import { library } from \"@fortawesome/fontawesome-svg-core\";\nimport {\n    faAngleDoubleLeft,\n    faAngleDoubleRight,\n    faAngleLeft,\n    faAngleRight,\n    faArrowAltCircleDown,\n    faArrowCircleDown,\n    faArrowCircleRight,\n    faArrowLeft,\n    faArrowRight,\n    faBars,\n    faChevronLeft,\n    faCircle,\n    faCopy,\n    faEllipsisH,\n    faExchangeAlt,\n    faExclamationCircle,\n    faFileDownload,\n    faInfoCircle,\n    faLock,\n    faPlus,\n    faPlusCircle,\n    faQuestionCircle,\n    faRedoAlt,\n    faTimes,\n    faTrashAlt\n} from \"@fortawesome/free-solid-svg-icons\";\nimport React from \"react\";\nimport { I18nextProvider } from \"react-i18next\";\nimport { connect } from \"react-redux\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport { ToastContainer } from \"react-toastify\";\nimport i18n from \"../../i18next\";\nimport { ReducerConfigure } from \"../../redux\";\nimport Account from \"../Account/Account\";\nimport AddressList from \"../AddressList/AddressList\";\nimport AssetDetail from \"../AssetDetail/AssetDetail\";\nimport AssetList from \"../AssetList/AssetList\";\nimport CreateWallet from \"../CreateWallet/CreateWallet\";\nimport Footer from \"../Footer\";\nimport Header from \"../Header/Header\";\nimport Login from \"../Login/Login\";\nimport MintAsset from \"../MintAsset\";\nimport NotFound from \"../NotFound/NotFound\";\nimport PrivateRoute from \"../PrivateRoute/PrivateRoute\";\nimport RestoreWallet from \"../RestoreWallet/RestoreWallet\";\nimport SelectKeyFile from \"../SelectKeyFile/SelectKeyFile\";\nimport \"./App.css\";\n\nlibrary.add(\n    faPlus,\n    faTrashAlt,\n    faFileDownload,\n    faBars,\n    faChevronLeft,\n    faArrowAltCircleDown,\n    faPlusCircle,\n    faTimes,\n    faInfoCircle,\n    faArrowLeft,\n    faCircle,\n    faEllipsisH,\n    faArrowCircleRight,\n    faArrowCircleDown,\n    faExchangeAlt,\n    faCopy,\n    faArrowRight,\n    faRedoAlt,\n    faExclamationCircle,\n    faQuestionCircle,\n    faChevronLeft,\n    faAngleRight,\n    faAngleDoubleRight,\n    faAngleLeft,\n    faAngleDoubleLeft,\n    faLock\n);\n\ninterface StateProps {\n    passphrase?: string | null;\n}\ntype Props = StateProps;\nclass App extends React.Component<Props, any> {\n    private appRef: React.RefObject<any>;\n    public constructor(props: any) {\n        super(props);\n        this.appRef = React.createRef();\n    }\n    public render() {\n        const { passphrase } = this.props;\n        return (\n            <I18nextProvider i18n={i18n}>\n                <Router basename={process.env.PUBLIC_URL || \"/\"}>\n                    <div id=\"app\" className=\"app\" ref={this.appRef}>\n                        <ToastContainer className=\"custom-toast\" />\n                        {passphrase && <Header />}\n                        <div className=\"app-container\">\n                            <Switch>\n                                <Route path=\"/login\" component={Login} />\n                                <Route\n                                    path=\"/selectKeyfile\"\n                                    component={SelectKeyFile}\n                                />\n                                <Route\n                                    path=\"/createWallet\"\n                                    component={CreateWallet}\n                                />\n                                <Route\n                                    path=\"/restoreWallet\"\n                                    component={RestoreWallet}\n                                />\n                                <PrivateRoute\n                                    exact={true}\n                                    path=\"/\"\n                                    component={AddressList}\n                                />\n                                <PrivateRoute\n                                    exact={true}\n                                    path=\"/index.html\"\n                                    component={AddressList}\n                                />\n                                <PrivateRoute\n                                    exact={true}\n                                    path=\"/mint\"\n                                    component={MintAsset}\n                                />\n                                <PrivateRoute\n                                    path=\"/:address/assets\"\n                                    component={AssetList}\n                                />\n                                <PrivateRoute\n                                    path=\"/:address/account\"\n                                    component={Account}\n                                />\n                                <PrivateRoute\n                                    exact={true}\n                                    path=\"/:address/:assetType\"\n                                    component={AssetDetail}\n                                />\n                                <Route component={NotFound} />\n                            </Switch>\n                        </div>\n                        <Footer />\n                    </div>\n                </Router>\n            </I18nextProvider>\n        );\n    }\n}\n\nconst mapStateToProps = (state: ReducerConfigure) => ({\n    passphrase: state.globalReducer.passphrase\n});\nexport default connect(mapStateToProps)(App);\n","import { U64 } from \"codechain-sdk/lib/core/classes\";\nimport { PlatformAccount } from \"../../model/address\";\nimport { Action, ActionType } from \"./accountActions\";\n\nexport interface AccountState {\n    availableQuark: {\n        [address: string]: U64 | null | undefined;\n    };\n    accounts: {\n        [address: string]: {\n            data?: PlatformAccount | null;\n            updatedAt?: number | null;\n            isFetching: boolean;\n        } | null;\n    };\n}\n\nexport const accountInitState: AccountState = {\n    availableQuark: {},\n    accounts: {}\n};\n\nexport const accountReducer = (state = accountInitState, action: Action) => {\n    switch (action.type) {\n        case ActionType.UpdateAvailableQuark: {\n            const address = action.data.address;\n            const availableQuark = {\n                ...state.availableQuark,\n                [address]: action.data.amount\n            };\n            return {\n                ...state,\n                availableQuark\n            };\n        }\n        case ActionType.SetFetchingAccount: {\n            const accounts = {\n                ...state.accounts,\n                [action.data.address]: {\n                    ...state.accounts[action.data.address],\n                    isFetching: true\n                }\n            };\n            return {\n                ...state,\n                accounts\n            };\n        }\n        case ActionType.UpdateAccount: {\n            const accounts = {\n                ...state.accounts,\n                [action.data.address]: {\n                    data: action.data.account,\n                    isFetching: false,\n                    updatedAt: +new Date()\n                }\n            };\n            return {\n                ...state,\n                accounts\n            };\n        }\n    }\n    return state;\n};\n","import { NetworkId } from \"../../model/address\";\nimport { Action, ActionType } from \"./globalActions\";\n\nexport interface GlobalState {\n    passphrase?: string | null;\n    networkId: NetworkId;\n}\n\nexport const globalInitState: GlobalState = {\n    passphrase: undefined,\n    networkId: \"cc\"\n};\n\nexport const globalReducer = (state = globalInitState, action: Action) => {\n    switch (action.type) {\n        case ActionType.Login: {\n            return {\n                ...state,\n                passphrase: action.data.passphrase\n            };\n        }\n        case ActionType.Logout: {\n            return {\n                ...state,\n                passphrase: undefined\n            };\n        }\n        case ActionType.UpdateNetwork: {\n            return {\n                ...state,\n                networkId: action.data.networkId\n            };\n        }\n    }\n    return state;\n};\n","import { WalletAddress } from \"../../model/address\";\nimport { Action, ActionType } from \"./walletActions\";\n\nexport interface WalletState {\n    platformAddresses?: WalletAddress[] | null;\n    assetAddresses?: WalletAddress[] | null;\n    isLoadingPlatformAddresses?: boolean | null;\n    isLoadingAssetAddresses?: boolean | null;\n}\n\nexport const walletInitState: WalletState = {\n    platformAddresses: undefined,\n    assetAddresses: undefined,\n    isLoadingPlatformAddresses: undefined,\n    isLoadingAssetAddresses: undefined\n};\n\nexport const walletReducer = (state = walletInitState, action: Action) => {\n    switch (action.type) {\n        case ActionType.UpdateWalletAssetAddresses:\n            return {\n                ...state,\n                assetAddresses: action.data.assetAddresses\n            };\n        case ActionType.UpdateWalletPlatformAddresses:\n            return {\n                ...state,\n                platformAddresses: action.data.platformAddresses\n            };\n        case ActionType.ClearWalletAddresses: {\n            return {\n                ...state,\n                platformAddresses: undefined,\n                assetAddresses: undefined\n            };\n        }\n        case ActionType.SetLoadingAssetAddresses: {\n            return {\n                ...state,\n                isLoadingAssetAddresses: action.data.isLoading\n            };\n        }\n        case ActionType.SetLoadingPlatformAddresses: {\n            return {\n                ...state,\n                isLoadingPlatformAddresses: action.data.isLoading\n            };\n        }\n    }\n    return state;\n};\n","import { loadingBarReducer } from \"react-redux-loading-bar\";\nimport { combineReducers } from \"redux\";\nimport { accountReducer, AccountState } from \"./account/accountReducer\";\nimport { assetReducer, AssetState } from \"./asset/assetReducer\";\nimport { chainReducer, ChainState } from \"./chain/chainReducer\";\nimport { ActionType } from \"./global/globalActions\";\nimport { globalReducer, GlobalState } from \"./global/globalReducer\";\nimport { walletReducer, WalletState } from \"./wallet/walletReducer\";\n\nexport interface ReducerConfigure {\n    globalReducer: GlobalState;\n    walletReducer: WalletState;\n    assetReducer: AssetState;\n    chainReducer: ChainState;\n    accountReducer: AccountState;\n}\n\nconst appReducer = combineReducers({\n    globalReducer,\n    walletReducer,\n    assetReducer,\n    chainReducer,\n    accountReducer,\n    loadingBar: loadingBarReducer\n});\n\nconst rootReducer = (state: any, action: any) => {\n    if (action.type === ActionType.ClearData) {\n        state = undefined;\n    }\n    return appReducer(state, action);\n};\n\nexport default rootReducer;\n","// tslint:disable:no-console\n// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the 'N+1' visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n    window.location.hostname === \"localhost\" ||\n        // [::1] is the IPv6 localhost address.\n        window.location.hostname === \"[::1]\" ||\n        // 127.0.0.1/8 is considered localhost for IPv4.\n        window.location.hostname.match(\n            /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n        )\n);\n\nexport default function register() {\n    if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n        // The URL constructor is available in all browsers that support SW.\n        const publicUrl = new URL(\n            process.env.PUBLIC_URL!,\n            window.location.toString()\n        );\n        if (publicUrl.origin !== window.location.origin) {\n            // Our service worker won't work if PUBLIC_URL is on a different origin\n            // from what our page is served on. This might happen if a CDN is used to\n            // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n            return;\n        }\n\n        window.addEventListener(\"load\", () => {\n            const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n            if (isLocalhost) {\n                // This is running on localhost. Lets check if a service worker still exists or not.\n                checkValidServiceWorker(swUrl);\n\n                // Add some additional logging to localhost, pointing developers to the\n                // service worker/PWA documentation.\n                navigator.serviceWorker.ready.then(() => {\n                    console.log(\n                        \"This web app is being served cache-first by a service \" +\n                            \"worker. To learn more, visit https://goo.gl/SC7cgQ\"\n                    );\n                });\n            } else {\n                // Is not local host. Just register service worker\n                registerValidSW(swUrl);\n            }\n        });\n    }\n}\n\nfunction registerValidSW(swUrl: string) {\n    navigator.serviceWorker\n        .register(swUrl)\n        .then(registration => {\n            registration.onupdatefound = () => {\n                const installingWorker = registration.installing;\n                if (installingWorker) {\n                    installingWorker.onstatechange = () => {\n                        if (installingWorker.state === \"installed\") {\n                            if (navigator.serviceWorker.controller) {\n                                // At this point, the old content will have been purged and\n                                // the fresh content will have been added to the cache.\n                                // It's the perfect time to display a 'New content is\n                                // available; please refresh.' message in your web app.\n                                console.log(\n                                    \"New content is available; please refresh.\"\n                                );\n                            } else {\n                                // At this point, everything has been precached.\n                                // It's the perfect time to display a\n                                // 'Content is cached for offline use.' message.\n                                console.log(\n                                    \"Content is cached for offline use.\"\n                                );\n                            }\n                        }\n                    };\n                }\n            };\n        })\n        .catch(error => {\n            console.error(\"Error during service worker registration:\", error);\n        });\n}\n\nfunction checkValidServiceWorker(swUrl: string) {\n    // Check if the service worker can be found. If it can't reload the page.\n    fetch(swUrl)\n        .then(response => {\n            // Ensure service worker exists, and that we really are getting a JS file.\n            if (\n                response.status === 404 ||\n                response.headers.get(\"content-type\")!.indexOf(\"javascript\") ===\n                    -1\n            ) {\n                // No service worker found. Probably a different app. Reload the page.\n                navigator.serviceWorker.ready.then(registration => {\n                    registration.unregister().then(() => {\n                        window.location.reload();\n                    });\n                });\n            } else {\n                // Service worker found. Proceed as normal.\n                registerValidSW(swUrl);\n            }\n        })\n        .catch(() => {\n            console.log(\n                \"No internet connection found. App is running in offline mode.\"\n            );\n        });\n}\n\nexport function unregister() {\n    if (\"serviceWorker\" in navigator) {\n        navigator.serviceWorker.ready.then(registration => {\n            registration.unregister();\n        });\n    }\n}\n","import \"bootstrap/dist/css/bootstrap.min.css\";\nimport React from \"react\";\nimport {\n    applyMiddleware as applyMiddlewareChrome,\n    Store\n} from \"react-chrome-redux\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { applyMiddleware, createStore } from \"redux\";\nimport { composeWithDevTools } from \"redux-devtools-extension/logOnlyInProduction\";\nimport logger from \"redux-logger\";\nimport thunk from \"redux-thunk\";\nimport App from \"./components/App/App\";\nimport rootReducer from \"./redux\";\nimport { unregister } from \"./registerServiceWorker\";\nimport \"./styles/index.css\";\n\nif (process.env.REACT_APP_BUILD_TARGET === \"chrome-extension\") {\n    const store = new Store({\n        portName: \"WALLET_APP\"\n    });\n\n    // Apply middleware to proxy store\n    const middleware = [thunk, logger];\n    const storeWithMiddleware = applyMiddlewareChrome(store, ...middleware);\n\n    store.ready().then(() => {\n        ReactDOM.render(\n            <Provider store={storeWithMiddleware}>\n                <App />\n            </Provider>,\n            document.getElementById(\"root\") as HTMLElement\n        );\n    });\n} else {\n    const composeEnhancers = composeWithDevTools({});\n    const store = createStore(\n        rootReducer,\n        composeEnhancers(applyMiddleware(thunk))\n    );\n    ReactDOM.render(\n        <Provider store={store}>\n            <App />\n        </Provider>,\n        document.getElementById(\"root\") as HTMLElement\n    );\n}\n\nunregister();\n","module.exports = __webpack_public_path__ + \"static/media/mainnet.ef91ce98.svg\";","module.exports = __webpack_public_path__ + \"static/media/testnet.afbd2264.svg\";","module.exports = __webpack_public_path__ + \"static/media/copy-hover.790a3790.svg\";","module.exports = __webpack_public_path__ + \"static/media/copy.f3de9253.svg\";","module.exports = __webpack_public_path__ + \"static/media/cautiondisabled.5f741cde.svg\";","module.exports = __webpack_public_path__ + \"static/media/icons-check.ab7566d8.svg\";","module.exports = __webpack_public_path__ + \"static/media/icons-error.84ba3bbf.svg\";","module.exports = __webpack_public_path__ + \"static/media/check_icon.b6365a20.svg\";","module.exports = __webpack_public_path__ + \"static/media/copy-hover.790a3790.svg\";","module.exports = __webpack_public_path__ + \"static/media/copy.f3a44cac.svg\";","module.exports = __webpack_public_path__ + \"static/media/cautiondisabled.5f741cde.svg\";","module.exports = __webpack_public_path__ + \"static/media/cautiondisabled.5f741cde.svg\";","module.exports = __webpack_public_path__ + \"static/media/check_icon.b6365a20.svg\";","module.exports = __webpack_public_path__ + \"static/media/facebook.31c9b562.svg\";","module.exports = __webpack_public_path__ + \"static/media/github.11edc2fb.svg\";","module.exports = __webpack_public_path__ + \"static/media/gitter.038f66f2.svg\";","module.exports = __webpack_public_path__ + \"static/media/medium.e5a5b160.svg\";","module.exports = __webpack_public_path__ + \"static/media/telegram.afaec1a7.svg\";","module.exports = __webpack_public_path__ + \"static/media/twitter.a2682b66.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo.31e76966.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo-vertical.8fe1be51.svg\";","module.exports = __webpack_public_path__ + \"static/media/check_icon.b6365a20.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo-vertical.8fe1be51.svg\";","module.exports = __webpack_public_path__ + \"static/media/plus-hover.37f5ad9d.svg\";","module.exports = __webpack_public_path__ + \"static/media/plus-standard.e3e35367.svg\";","module.exports = __webpack_public_path__ + \"static/media/restore-hover.61f75205.svg\";","module.exports = __webpack_public_path__ + \"static/media/restore-standard.5ed52c2c.svg\";"],"sourceRoot":""}